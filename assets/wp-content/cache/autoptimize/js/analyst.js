/*! jQuery Migrate v1.4.1 | (c) jQuery Foundation and other contributors | jquery.org/license */
"undefined" == typeof jQuery.migrateMute && (jQuery.migrateMute = !0),
    function(a, b, c) {
        function d(c) {
            var d = b.console;
            f[c] || (f[c] = !0, a.migrateWarnings.push(c), d && d.warn && !a.migrateMute && (d.warn("JQMIGRATE: " + c), a.migrateTrace && d.trace && d.trace()))
        }

        function e(b, c, e, f) {
            if (Object.defineProperty) try {
                return void Object.defineProperty(b, c, {
                    configurable: !0,
                    enumerable: !0,
                    get: function() {
                        return d(f), e
                    },
                    set: function(a) {
                        d(f), e = a
                    }
                })
            } catch (g) {}
            a._definePropertyBroken = !0, b[c] = e
        }
        a.migrateVersion = "1.4.1";
        var f = {};
        a.migrateWarnings = [], b.console && b.console.log && b.console.log("JQMIGRATE: Migrate is installed" + (a.migrateMute ? "" : " with logging active") + ", version " + a.migrateVersion), a.migrateTrace === c && (a.migrateTrace = !0), a.migrateReset = function() {
            f = {}, a.migrateWarnings.length = 0
        }, "BackCompat" === document.compatMode && d("jQuery is not compatible with Quirks Mode");
        var g = a("<input/>", {
                size: 1
            }).attr("size") && a.attrFn,
            h = a.attr,
            i = a.attrHooks.value && a.attrHooks.value.get || function() {
                return null
            },
            j = a.attrHooks.value && a.attrHooks.value.set || function() {
                return c
            },
            k = /^(?:input|button)$/i,
            l = /^[238]$/,
            m = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
            n = /^(?:checked|selected)$/i;
        e(a, "attrFn", g || {}, "jQuery.attrFn is deprecated"), a.attr = function(b, e, f, i) {
            var j = e.toLowerCase(),
                o = b && b.nodeType;
            return i && (h.length < 4 && d("jQuery.fn.attr( props, pass ) is deprecated"), b && !l.test(o) && (g ? e in g : a.isFunction(a.fn[e]))) ? a(b)[e](f) : ("type" === e && f !== c && k.test(b.nodeName) && b.parentNode && d("Can't change the 'type' of an input or button in IE 6/7/8"), !a.attrHooks[j] && m.test(j) && (a.attrHooks[j] = {
                get: function(b, d) {
                    var e, f = a.prop(b, d);
                    return f === !0 || "boolean" != typeof f && (e = b.getAttributeNode(d)) && e.nodeValue !== !1 ? d.toLowerCase() : c
                },
                set: function(b, c, d) {
                    var e;
                    return c === !1 ? a.removeAttr(b, d) : (e = a.propFix[d] || d, e in b && (b[e] = !0), b.setAttribute(d, d.toLowerCase())), d
                }
            }, n.test(j) && d("jQuery.fn.attr('" + j + "') might use property instead of attribute")), h.call(a, b, e, f))
        }, a.attrHooks.value = {
            get: function(a, b) {
                var c = (a.nodeName || "").toLowerCase();
                return "button" === c ? i.apply(this, arguments) : ("input" !== c && "option" !== c && d("jQuery.fn.attr('value') no longer gets properties"), b in a ? a.value : null)
            },
            set: function(a, b) {
                var c = (a.nodeName || "").toLowerCase();
                return "button" === c ? j.apply(this, arguments) : ("input" !== c && "option" !== c && d("jQuery.fn.attr('value', val) no longer sets properties"), void(a.value = b))
            }
        };
        var o, p, q = a.fn.init,
            r = a.find,
            s = a.parseJSON,
            t = /^\s*</,
            u = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,
            v = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,
            w = /^([^<]*)(<[\w\W]+>)([^>]*)$/;
        a.fn.init = function(b, e, f) {
            var g, h;
            return b && "string" == typeof b && !a.isPlainObject(e) && (g = w.exec(a.trim(b))) && g[0] && (t.test(b) || d("$(html) HTML strings must start with '<' character"), g[3] && d("$(html) HTML text after last tag is ignored"), "#" === g[0].charAt(0) && (d("HTML string cannot start with a '#' character"), a.error("JQMIGRATE: Invalid selector string (XSS)")), e && e.context && e.context.nodeType && (e = e.context), a.parseHTML) ? q.call(this, a.parseHTML(g[2], e && e.ownerDocument || e || document, !0), e, f) : (h = q.apply(this, arguments), b && b.selector !== c ? (h.selector = b.selector, h.context = b.context) : (h.selector = "string" == typeof b ? b : "", b && (h.context = b.nodeType ? b : e || document)), h)
        }, a.fn.init.prototype = a.fn, a.find = function(a) {
            var b = Array.prototype.slice.call(arguments);
            if ("string" == typeof a && u.test(a)) try {
                document.querySelector(a)
            } catch (c) {
                a = a.replace(v, function(a, b, c, d) {
                    return "[" + b + c + '"' + d + '"]'
                });
                try {
                    document.querySelector(a), d("Attribute selector with '#' must be quoted: " + b[0]), b[0] = a
                } catch (e) {
                    d("Attribute selector with '#' was not fixed: " + b[0])
                }
            }
            return r.apply(this, b)
        };
        var x;
        for (x in r) Object.prototype.hasOwnProperty.call(r, x) && (a.find[x] = r[x]);
        a.parseJSON = function(a) {
            return a ? s.apply(this, arguments) : (d("jQuery.parseJSON requires a valid JSON string"), null)
        }, a.uaMatch = function(a) {
            a = a.toLowerCase();
            var b = /(chrome)[ \/]([\w.]+)/.exec(a) || /(webkit)[ \/]([\w.]+)/.exec(a) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a) || /(msie) ([\w.]+)/.exec(a) || a.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a) || [];
            return {
                browser: b[1] || "",
                version: b[2] || "0"
            }
        }, a.browser || (o = a.uaMatch(navigator.userAgent), p = {}, o.browser && (p[o.browser] = !0, p.version = o.version), p.chrome ? p.webkit = !0 : p.webkit && (p.safari = !0), a.browser = p), e(a, "browser", a.browser, "jQuery.browser is deprecated"), a.boxModel = a.support.boxModel = "CSS1Compat" === document.compatMode, e(a, "boxModel", a.boxModel, "jQuery.boxModel is deprecated"), e(a.support, "boxModel", a.support.boxModel, "jQuery.support.boxModel is deprecated"), a.sub = function() {
            function b(a, c) {
                return new b.fn.init(a, c)
            }
            a.extend(!0, b, this), b.superclass = this, b.fn = b.prototype = this(), b.fn.constructor = b, b.sub = this.sub, b.fn.init = function(d, e) {
                var f = a.fn.init.call(this, d, e, c);
                return f instanceof b ? f : b(f)
            }, b.fn.init.prototype = b.fn;
            var c = b(document);
            return d("jQuery.sub() is deprecated"), b
        }, a.fn.size = function() {
            return d("jQuery.fn.size() is deprecated; use the .length property"), this.length
        };
        var y = !1;
        a.swap && a.each(["height", "width", "reliableMarginRight"], function(b, c) {
            var d = a.cssHooks[c] && a.cssHooks[c].get;
            d && (a.cssHooks[c].get = function() {
                var a;
                return y = !0, a = d.apply(this, arguments), y = !1, a
            })
        }), a.swap = function(a, b, c, e) {
            var f, g, h = {};
            y || d("jQuery.swap() is undocumented and deprecated");
            for (g in b) h[g] = a.style[g], a.style[g] = b[g];
            f = c.apply(a, e || []);
            for (g in b) a.style[g] = h[g];
            return f
        }, a.ajaxSetup({
            converters: {
                "text json": a.parseJSON
            }
        });
        var z = a.fn.data;
        a.fn.data = function(b) {
            var e, f, g = this[0];
            return !g || "events" !== b || 1 !== arguments.length || (e = a.data(g, b), f = a._data(g, b), e !== c && e !== f || f === c) ? z.apply(this, arguments) : (d("Use of jQuery.fn.data('events') is deprecated"), f)
        };
        var A = /\/(java|ecma)script/i;
        a.clean || (a.clean = function(b, c, e, f) {
            c = c || document, c = !c.nodeType && c[0] || c, c = c.ownerDocument || c, d("jQuery.clean() is deprecated");
            var g, h, i, j, k = [];
            if (a.merge(k, a.buildFragment(b, c).childNodes), e)
                for (i = function(a) {
                        return !a.type || A.test(a.type) ? f ? f.push(a.parentNode ? a.parentNode.removeChild(a) : a) : e.appendChild(a) : void 0
                    }, g = 0; null != (h = k[g]); g++) a.nodeName(h, "script") && i(h) || (e.appendChild(h), "undefined" != typeof h.getElementsByTagName && (j = a.grep(a.merge([], h.getElementsByTagName("script")), i), k.splice.apply(k, [g + 1, 0].concat(j)), g += j.length));
            return k
        });
        var B = a.event.add,
            C = a.event.remove,
            D = a.event.trigger,
            E = a.fn.toggle,
            F = a.fn.live,
            G = a.fn.die,
            H = a.fn.load,
            I = "ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",
            J = new RegExp("\\b(?:" + I + ")\\b"),
            K = /(?:^|\s)hover(\.\S+|)\b/,
            L = function(b) {
                return "string" != typeof b || a.event.special.hover ? b : (K.test(b) && d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"), b && b.replace(K, "mouseenter$1 mouseleave$1"))
            };
        a.event.props && "attrChange" !== a.event.props[0] && a.event.props.unshift("attrChange", "attrName", "relatedNode", "srcElement"), a.event.dispatch && e(a.event, "handle", a.event.dispatch, "jQuery.event.handle is undocumented and deprecated"), a.event.add = function(a, b, c, e, f) {
            a !== document && J.test(b) && d("AJAX events should be attached to document: " + b), B.call(this, a, L(b || ""), c, e, f)
        }, a.event.remove = function(a, b, c, d, e) {
            C.call(this, a, L(b) || "", c, d, e)
        }, a.each(["load", "unload", "error"], function(b, c) {
            a.fn[c] = function() {
                var a = Array.prototype.slice.call(arguments, 0);
                return "load" === c && "string" == typeof a[0] ? H.apply(this, a) : (d("jQuery.fn." + c + "() is deprecated"), a.splice(0, 0, c), arguments.length ? this.bind.apply(this, a) : (this.triggerHandler.apply(this, a), this))
            }
        }), a.fn.toggle = function(b, c) {
            if (!a.isFunction(b) || !a.isFunction(c)) return E.apply(this, arguments);
            d("jQuery.fn.toggle(handler, handler...) is deprecated");
            var e = arguments,
                f = b.guid || a.guid++,
                g = 0,
                h = function(c) {
                    var d = (a._data(this, "lastToggle" + b.guid) || 0) % g;
                    return a._data(this, "lastToggle" + b.guid, d + 1), c.preventDefault(), e[d].apply(this, arguments) || !1
                };
            for (h.guid = f; g < e.length;) e[g++].guid = f;
            return this.click(h)
        }, a.fn.live = function(b, c, e) {
            return d("jQuery.fn.live() is deprecated"), F ? F.apply(this, arguments) : (a(this.context).on(b, this.selector, c, e), this)
        }, a.fn.die = function(b, c) {
            return d("jQuery.fn.die() is deprecated"), G ? G.apply(this, arguments) : (a(this.context).off(b, this.selector || "**", c), this)
        }, a.event.trigger = function(a, b, c, e) {
            return c || J.test(a) || d("Global events are undocumented and deprecated"), D.call(this, a, b, c || document, e)
        }, a.each(I.split("|"), function(b, c) {
            a.event.special[c] = {
                setup: function() {
                    var b = this;
                    return b !== document && (a.event.add(document, c + "." + a.guid, function() {
                        a.event.trigger(c, Array.prototype.slice.call(arguments, 1), b, !0)
                    }), a._data(this, c, a.guid++)), !1
                },
                teardown: function() {
                    return this !== document && a.event.remove(document, c + "." + a._data(this, c)), !1
                }
            }
        }), a.event.special.ready = {
            setup: function() {
                this === document && d("'ready' event is deprecated")
            }
        };
        var M = a.fn.andSelf || a.fn.addBack,
            N = a.fn.find;
        if (a.fn.andSelf = function() {
                return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"), M.apply(this, arguments)
            }, a.fn.find = function(a) {
                var b = N.apply(this, arguments);
                return b.context = this.context, b.selector = this.selector ? this.selector + " " + a : a, b
            }, a.Callbacks) {
            var O = a.Deferred,
                P = [
                    ["resolve", "done", a.Callbacks("once memory"), a.Callbacks("once memory"), "resolved"],
                    ["reject", "fail", a.Callbacks("once memory"), a.Callbacks("once memory"), "rejected"],
                    ["notify", "progress", a.Callbacks("memory"), a.Callbacks("memory")]
                ];
            a.Deferred = function(b) {
                var c = O(),
                    e = c.promise();
                return c.pipe = e.pipe = function() {
                    var b = arguments;
                    return d("deferred.pipe() is deprecated"), a.Deferred(function(d) {
                        a.each(P, function(f, g) {
                            var h = a.isFunction(b[f]) && b[f];
                            c[g[1]](function() {
                                var b = h && h.apply(this, arguments);
                                b && a.isFunction(b.promise) ? b.promise().done(d.resolve).fail(d.reject).progress(d.notify) : d[g[0] + "With"](this === e ? d.promise() : this, h ? [b] : arguments)
                            })
                        }), b = null
                    }).promise()
                }, c.isResolved = function() {
                    return d("deferred.isResolved is deprecated"), "resolved" === c.state()
                }, c.isRejected = function() {
                    return d("deferred.isRejected is deprecated"), "rejected" === c.state()
                }, b && b.call(c, c), c
            }
        }
    }(jQuery, window);
/*!
 * MediaElement.js
 * http://www.mediaelementjs.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2017, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
! function e(t, n, o) {
    function i(a, s) {
        if (!n[a]) {
            if (!t[a]) {
                var l = "function" == typeof require && require;
                if (!s && l) return l(a, !0);
                if (r) return r(a, !0);
                var d = new Error("Cannot find module '" + a + "'");
                throw d.code = "MODULE_NOT_FOUND", d
            }
            var u = n[a] = {
                exports: {}
            };
            t[a][0].call(u.exports, function(e) {
                var n = t[a][1][e];
                return i(n || e)
            }, u, u.exports, e, t, n, o)
        }
        return n[a].exports
    }
    for (var r = "function" == typeof require && require, a = 0; a < o.length; a++) i(o[a]);
    return i
}({
    1: [function(e, t, n) {}, {}],
    2: [function(e, t, n) {
        (function(n) {
            var o, i = void 0 !== n ? n : "undefined" != typeof window ? window : {},
                r = e(1);
            "undefined" != typeof document ? o = document : (o = i["__GLOBAL_DOCUMENT_CACHE@4"]) || (o = i["__GLOBAL_DOCUMENT_CACHE@4"] = r), t.exports = o
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {
        1: 1
    }],
    3: [function(e, t, n) {
        (function(e) {
            var n;
            n = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {}, t.exports = n
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    4: [function(e, t, n) {
        ! function(e) {
            function n() {}

            function o(e, t) {
                return function() {
                    e.apply(t, arguments)
                }
            }

            function i(e) {
                if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
                if ("function" != typeof e) throw new TypeError("not a function");
                this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], u(e, this)
            }

            function r(e, t) {
                for (; 3 === e._state;) e = e._value;
                0 !== e._state ? (e._handled = !0, i._immediateFn(function() {
                    var n = 1 === e._state ? t.onFulfilled : t.onRejected;
                    if (null !== n) {
                        var o;
                        try {
                            o = n(e._value)
                        } catch (e) {
                            return void s(t.promise, e)
                        }
                        a(t.promise, o)
                    } else(1 === e._state ? a : s)(t.promise, e._value)
                })) : e._deferreds.push(t)
            }

            function a(e, t) {
                try {
                    if (t === e) throw new TypeError("A promise cannot be resolved with itself.");
                    if (t && ("object" == typeof t || "function" == typeof t)) {
                        var n = t.then;
                        if (t instanceof i) return e._state = 3, e._value = t, void l(e);
                        if ("function" == typeof n) return void u(o(n, t), e)
                    }
                    e._state = 1, e._value = t, l(e)
                } catch (t) {
                    s(e, t)
                }
            }

            function s(e, t) {
                e._state = 2, e._value = t, l(e)
            }

            function l(e) {
                2 === e._state && 0 === e._deferreds.length && i._immediateFn(function() {
                    e._handled || i._unhandledRejectionFn(e._value)
                });
                for (var t = 0, n = e._deferreds.length; t < n; t++) r(e, e._deferreds[t]);
                e._deferreds = null
            }

            function d(e, t, n) {
                this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = n
            }

            function u(e, t) {
                var n = !1;
                try {
                    e(function(e) {
                        n || (n = !0, a(t, e))
                    }, function(e) {
                        n || (n = !0, s(t, e))
                    })
                } catch (e) {
                    if (n) return;
                    n = !0, s(t, e)
                }
            }
            var c = setTimeout;
            i.prototype.catch = function(e) {
                return this.then(null, e)
            }, i.prototype.then = function(e, t) {
                var o = new this.constructor(n);
                return r(this, new d(e, t, o)), o
            }, i.all = function(e) {
                var t = Array.prototype.slice.call(e);
                return new i(function(e, n) {
                    function o(r, a) {
                        try {
                            if (a && ("object" == typeof a || "function" == typeof a)) {
                                var s = a.then;
                                if ("function" == typeof s) return void s.call(a, function(e) {
                                    o(r, e)
                                }, n)
                            }
                            t[r] = a, 0 == --i && e(t)
                        } catch (e) {
                            n(e)
                        }
                    }
                    if (0 === t.length) return e([]);
                    for (var i = t.length, r = 0; r < t.length; r++) o(r, t[r])
                })
            }, i.resolve = function(e) {
                return e && "object" == typeof e && e.constructor === i ? e : new i(function(t) {
                    t(e)
                })
            }, i.reject = function(e) {
                return new i(function(t, n) {
                    n(e)
                })
            }, i.race = function(e) {
                return new i(function(t, n) {
                    for (var o = 0, i = e.length; o < i; o++) e[o].then(t, n)
                })
            }, i._immediateFn = "function" == typeof setImmediate && function(e) {
                setImmediate(e)
            } || function(e) {
                c(e, 0)
            }, i._unhandledRejectionFn = function(e) {
                "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e)
            }, i._setImmediateFn = function(e) {
                i._immediateFn = e
            }, i._setUnhandledRejectionFn = function(e) {
                i._unhandledRejectionFn = e
            }, void 0 !== t && t.exports ? t.exports = i : e.Promise || (e.Promise = i)
        }(this)
    }, {}],
    5: [function(e, t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            i = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(e(7)),
            r = e(15),
            a = e(27),
            s = {
                lang: "en",
                en: r.EN
            };
        s.language = function() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            if (null !== t && void 0 !== t && t.length) {
                if ("string" != typeof t[0]) throw new TypeError("Language code must be a string value");
                if (!/^[a-z]{2,3}((\-|_)[a-z]{2})?$/i.test(t[0])) throw new TypeError("Language code must have format 2-3 letters and. optionally, hyphen, underscore followed by 2 more letters");
                s.lang = t[0], void 0 === s[t[0]] ? (t[1] = null !== t[1] && void 0 !== t[1] && "object" === o(t[1]) ? t[1] : {}, s[t[0]] = (0, a.isObjectEmpty)(t[1]) ? r.EN : t[1]) : null !== t[1] && void 0 !== t[1] && "object" === o(t[1]) && (s[t[0]] = t[1])
            }
            return s.lang
        }, s.t = function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
            if ("string" == typeof e && e.length) {
                var n = void 0,
                    i = void 0,
                    r = s.language(),
                    l = function(e, t, n) {
                        return "object" !== (void 0 === e ? "undefined" : o(e)) || "number" != typeof t || "number" != typeof n ? e : [function() {
                            return arguments.length <= 1 ? void 0 : arguments[1]
                        }, function() {
                            return 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : arguments.length <= 2 ? void 0 : arguments[2]
                        }, function() {
                            return 0 === (arguments.length <= 0 ? void 0 : arguments[0]) || 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : arguments.length <= 2 ? void 0 : arguments[2]
                        }, function() {
                            return (arguments.length <= 0 ? void 0 : arguments[0]) % 10 == 1 && (arguments.length <= 0 ? void 0 : arguments[0]) % 100 != 11 ? arguments.length <= 1 ? void 0 : arguments[1] : 0 !== (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 2 ? void 0 : arguments[2] : arguments.length <= 3 ? void 0 : arguments[3]
                        }, function() {
                            return 1 === (arguments.length <= 0 ? void 0 : arguments[0]) || 11 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : 2 === (arguments.length <= 0 ? void 0 : arguments[0]) || 12 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 2 ? void 0 : arguments[2] : (arguments.length <= 0 ? void 0 : arguments[0]) > 2 && (arguments.length <= 0 ? void 0 : arguments[0]) < 20 ? arguments.length <= 3 ? void 0 : arguments[3] : arguments.length <= 4 ? void 0 : arguments[4]
                        }, function() {
                            return 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : 0 === (arguments.length <= 0 ? void 0 : arguments[0]) || (arguments.length <= 0 ? void 0 : arguments[0]) % 100 > 0 && (arguments.length <= 0 ? void 0 : arguments[0]) % 100 < 20 ? arguments.length <= 2 ? void 0 : arguments[2] : arguments.length <= 3 ? void 0 : arguments[3]
                        }, function() {
                            return (arguments.length <= 0 ? void 0 : arguments[0]) % 10 == 1 && (arguments.length <= 0 ? void 0 : arguments[0]) % 100 != 11 ? arguments.length <= 1 ? void 0 : arguments[1] : (arguments.length <= 0 ? void 0 : arguments[0]) % 10 >= 2 && ((arguments.length <= 0 ? void 0 : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? void 0 : arguments[0]) % 100 >= 20) ? arguments.length <= 2 ? void 0 : arguments[2] : [3]
                        }, function() {
                            return (arguments.length <= 0 ? void 0 : arguments[0]) % 10 == 1 && (arguments.length <= 0 ? void 0 : arguments[0]) % 100 != 11 ? arguments.length <= 1 ? void 0 : arguments[1] : (arguments.length <= 0 ? void 0 : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? void 0 : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? void 0 : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? void 0 : arguments[0]) % 100 >= 20) ? arguments.length <= 2 ? void 0 : arguments[2] : arguments.length <= 3 ? void 0 : arguments[3]
                        }, function() {
                            return 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : (arguments.length <= 0 ? void 0 : arguments[0]) >= 2 && (arguments.length <= 0 ? void 0 : arguments[0]) <= 4 ? arguments.length <= 2 ? void 0 : arguments[2] : arguments.length <= 3 ? void 0 : arguments[3]
                        }, function() {
                            return 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : (arguments.length <= 0 ? void 0 : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? void 0 : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? void 0 : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? void 0 : arguments[0]) % 100 >= 20) ? arguments.length <= 2 ? void 0 : arguments[2] : arguments.length <= 3 ? void 0 : arguments[3]
                        }, function() {
                            return (arguments.length <= 0 ? void 0 : arguments[0]) % 100 == 1 ? arguments.length <= 2 ? void 0 : arguments[2] : (arguments.length <= 0 ? void 0 : arguments[0]) % 100 == 2 ? arguments.length <= 3 ? void 0 : arguments[3] : (arguments.length <= 0 ? void 0 : arguments[0]) % 100 == 3 || (arguments.length <= 0 ? void 0 : arguments[0]) % 100 == 4 ? arguments.length <= 4 ? void 0 : arguments[4] : arguments.length <= 1 ? void 0 : arguments[1]
                        }, function() {
                            return 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : 2 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 2 ? void 0 : arguments[2] : (arguments.length <= 0 ? void 0 : arguments[0]) > 2 && (arguments.length <= 0 ? void 0 : arguments[0]) < 7 ? arguments.length <= 3 ? void 0 : arguments[3] : (arguments.length <= 0 ? void 0 : arguments[0]) > 6 && (arguments.length <= 0 ? void 0 : arguments[0]) < 11 ? arguments.length <= 4 ? void 0 : arguments[4] : arguments.length <= 5 ? void 0 : arguments[5]
                        }, function() {
                            return 0 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 2 ? void 0 : arguments[2] : 2 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 3 ? void 0 : arguments[3] : (arguments.length <= 0 ? void 0 : arguments[0]) % 100 >= 3 && (arguments.length <= 0 ? void 0 : arguments[0]) % 100 <= 10 ? arguments.length <= 4 ? void 0 : arguments[4] : (arguments.length <= 0 ? void 0 : arguments[0]) % 100 >= 11 ? arguments.length <= 5 ? void 0 : arguments[5] : arguments.length <= 6 ? void 0 : arguments[6]
                        }, function() {
                            return 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : 0 === (arguments.length <= 0 ? void 0 : arguments[0]) || (arguments.length <= 0 ? void 0 : arguments[0]) % 100 > 1 && (arguments.length <= 0 ? void 0 : arguments[0]) % 100 < 11 ? arguments.length <= 2 ? void 0 : arguments[2] : (arguments.length <= 0 ? void 0 : arguments[0]) % 100 > 10 && (arguments.length <= 0 ? void 0 : arguments[0]) % 100 < 20 ? arguments.length <= 3 ? void 0 : arguments[3] : arguments.length <= 4 ? void 0 : arguments[4]
                        }, function() {
                            return (arguments.length <= 0 ? void 0 : arguments[0]) % 10 == 1 ? arguments.length <= 1 ? void 0 : arguments[1] : (arguments.length <= 0 ? void 0 : arguments[0]) % 10 == 2 ? arguments.length <= 2 ? void 0 : arguments[2] : arguments.length <= 3 ? void 0 : arguments[3]
                        }, function() {
                            return 11 !== (arguments.length <= 0 ? void 0 : arguments[0]) && (arguments.length <= 0 ? void 0 : arguments[0]) % 10 == 1 ? arguments.length <= 1 ? void 0 : arguments[1] : arguments.length <= 2 ? void 0 : arguments[2]
                        }, function() {
                            return 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : (arguments.length <= 0 ? void 0 : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? void 0 : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? void 0 : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? void 0 : arguments[0]) % 100 >= 20) ? arguments.length <= 2 ? void 0 : arguments[2] : arguments.length <= 3 ? void 0 : arguments[3]
                        }, function() {
                            return 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : 2 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 2 ? void 0 : arguments[2] : 8 !== (arguments.length <= 0 ? void 0 : arguments[0]) && 11 !== (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 3 ? void 0 : arguments[3] : arguments.length <= 4 ? void 0 : arguments[4]
                        }, function() {
                            return 0 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : arguments.length <= 2 ? void 0 : arguments[2]
                        }, function() {
                            return 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : 2 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 2 ? void 0 : arguments[2] : 3 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 3 ? void 0 : arguments[3] : arguments.length <= 4 ? void 0 : arguments[4]
                        }, function() {
                            return 0 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 1 ? void 0 : arguments[1] : 1 === (arguments.length <= 0 ? void 0 : arguments[0]) ? arguments.length <= 2 ? void 0 : arguments[2] : arguments.length <= 3 ? void 0 : arguments[3]
                        }][n].apply(null, [t].concat(e))
                    };
                return void 0 !== s[r] && (n = s[r][e], null !== t && "number" == typeof t && (i = s[r]["mejs.plural-form"], n = l.apply(null, [n, t, i]))), !n && s.en && (n = s.en[e], null !== t && "number" == typeof t && (i = s.en["mejs.plural-form"], n = l.apply(null, [n, t, i]))), n = n || e, null !== t && "number" == typeof t && (n = n.replace("%1", t)), (0, a.escapeHTML)(n)
            }
            return e
        }, i.default.i18n = s, "undefined" != typeof mejsL10n && i.default.i18n.language(mejsL10n.language, mejsL10n.strings), n.default = s
    }, {
        15: 15,
        27: 27,
        7: 7
    }],
    6: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            a = o(e(3)),
            s = o(e(2)),
            l = o(e(7)),
            d = e(27),
            u = e(28),
            c = e(8),
            f = e(25),
            p = function e(t, n, o) {
                var p = this;
                i(this, e);
                var m = this;
                o = Array.isArray(o) ? o : null, m.defaults = {
                    renderers: [],
                    fakeNodeName: "mediaelementwrapper",
                    pluginPath: "build/",
                    shimScriptAccess: "sameDomain"
                }, n = Object.assign(m.defaults, n), m.mediaElement = s.default.createElement(n.fakeNodeName);
                var h = t,
                    v = !1;
                if ("string" == typeof t ? m.mediaElement.originalNode = s.default.getElementById(t) : (m.mediaElement.originalNode = t, h = t.id), void 0 === m.mediaElement.originalNode || null === m.mediaElement.originalNode) return null;
                m.mediaElement.options = n, h = h || "mejs_" + Math.random().toString().slice(2), m.mediaElement.originalNode.setAttribute("id", h + "_from_mejs");
                var g = m.mediaElement.originalNode.tagName.toLowerCase();
                ["video", "audio"].indexOf(g) > -1 && !m.mediaElement.originalNode.getAttribute("preload") && m.mediaElement.originalNode.setAttribute("preload", "none"), m.mediaElement.originalNode.parentNode.insertBefore(m.mediaElement, m.mediaElement.originalNode), m.mediaElement.appendChild(m.mediaElement.originalNode);
                var y = function(e, t) {
                        if ("https:" === a.default.location.protocol && 0 === e.indexOf("http:") && f.IS_IOS && l.default.html5media.mediaTypes.indexOf(t) > -1) {
                            var n = new XMLHttpRequest;
                            n.onreadystatechange = function() {
                                if (4 === this.readyState && 200 === this.status) {
                                    var t = (a.default.URL || a.default.webkitURL).createObjectURL(this.response);
                                    return m.mediaElement.originalNode.setAttribute("src", t), t
                                }
                                return e
                            }, n.open("GET", e), n.responseType = "blob", n.send()
                        }
                        return e
                    },
                    E = void 0;
                if (null !== o) E = o;
                else if (null !== m.mediaElement.originalNode) switch (E = [], m.mediaElement.originalNode.nodeName.toLowerCase()) {
                    case "iframe":
                        E.push({
                            type: "",
                            src: m.mediaElement.originalNode.getAttribute("src")
                        });
                        break;
                    case "audio":
                    case "video":
                        var b = m.mediaElement.originalNode.children.length,
                            S = m.mediaElement.originalNode.getAttribute("src");
                        if (S) {
                            var x = m.mediaElement.originalNode,
                                w = (0, u.formatType)(S, x.getAttribute("type"));
                            E.push({
                                type: w,
                                src: y(S, w)
                            })
                        }
                        for (var P = 0; P < b; P++) {
                            var T = m.mediaElement.originalNode.children[P];
                            if ("source" === T.tagName.toLowerCase()) {
                                var C = T.getAttribute("src"),
                                    k = (0, u.formatType)(C, T.getAttribute("type"));
                                E.push({
                                    type: k,
                                    src: y(C, k)
                                })
                            }
                        }
                }
                m.mediaElement.id = h, m.mediaElement.renderers = {}, m.mediaElement.events = {}, m.mediaElement.promises = [], m.mediaElement.renderer = null, m.mediaElement.rendererName = null, m.mediaElement.changeRenderer = function(e, t) {
                    var n = p,
                        o = Object.keys(t[0]).length > 2 ? t[0] : t[0].src;
                    if (void 0 !== n.mediaElement.renderer && null !== n.mediaElement.renderer && n.mediaElement.renderer.name === e) return n.mediaElement.renderer.pause(), n.mediaElement.renderer.stop && n.mediaElement.renderer.stop(), n.mediaElement.renderer.show(), n.mediaElement.renderer.setSrc(o), !0;
                    void 0 !== n.mediaElement.renderer && null !== n.mediaElement.renderer && (n.mediaElement.renderer.pause(), n.mediaElement.renderer.stop && n.mediaElement.renderer.stop(), n.mediaElement.renderer.hide());
                    var i = n.mediaElement.renderers[e],
                        r = null;
                    if (void 0 !== i && null !== i) return i.show(), i.setSrc(o), n.mediaElement.renderer = i, n.mediaElement.rendererName = e, !0;
                    for (var a = n.mediaElement.options.renderers.length ? n.mediaElement.options.renderers : c.renderer.order, s = 0, l = a.length; s < l; s++) {
                        var d = a[s];
                        if (d === e) {
                            r = c.renderer.renderers[d];
                            var u = Object.assign(r.options, n.mediaElement.options);
                            return i = r.create(n.mediaElement, u, t), i.name = e, n.mediaElement.renderers[r.name] = i, n.mediaElement.renderer = i, n.mediaElement.rendererName = e, i.show(), !0
                        }
                    }
                    return !1
                }, m.mediaElement.setSize = function(e, t) {
                    void 0 !== m.mediaElement.renderer && null !== m.mediaElement.renderer && m.mediaElement.renderer.setSize(e, t)
                }, m.mediaElement.generateError = function(e, t) {
                    e = e || "", t = Array.isArray(t) ? t : [];
                    var n = (0, d.createEvent)("error", m.mediaElement);
                    n.message = e, n.urls = t, m.mediaElement.dispatchEvent(n), v = !0
                };
                var _ = l.default.html5media.properties,
                    N = l.default.html5media.methods,
                    A = function(e, t, n, o) {
                        var i = e[t];
                        Object.defineProperty(e, t, {
                            get: function() {
                                return n.apply(e, [i])
                            },
                            set: function(t) {
                                return i = o.apply(e, [t])
                            }
                        })
                    },
                    L = function() {
                        return void 0 !== m.mediaElement.renderer && null !== m.mediaElement.renderer ? m.mediaElement.renderer.getSrc() : null
                    },
                    F = function(e) {
                        var t = [];
                        if ("string" == typeof e) t.push({
                            src: e,
                            type: e ? (0, u.getTypeFromFile)(e) : ""
                        });
                        else if ("object" === (void 0 === e ? "undefined" : r(e)) && void 0 !== e.src) {
                            var n = (0, u.absolutizeUrl)(e.src),
                                o = e.type,
                                i = Object.assign(e, {
                                    src: n,
                                    type: "" !== o && null !== o && void 0 !== o || !n ? o : (0, u.getTypeFromFile)(n)
                                });
                            t.push(i)
                        } else if (Array.isArray(e))
                            for (var a = 0, s = e.length; a < s; a++) {
                                var l = (0, u.absolutizeUrl)(e[a].src),
                                    f = e[a].type,
                                    p = Object.assign(e[a], {
                                        src: l,
                                        type: "" !== f && null !== f && void 0 !== f || !l ? f : (0, u.getTypeFromFile)(l)
                                    });
                                t.push(p)
                            }
                        var h = c.renderer.select(t, m.mediaElement.options.renderers.length ? m.mediaElement.options.renderers : []),
                            v = void 0;
                        if (m.mediaElement.paused || (m.mediaElement.pause(), v = (0, d.createEvent)("pause", m.mediaElement), m.mediaElement.dispatchEvent(v)), m.mediaElement.originalNode.src = t[0].src || "", null !== h || !t[0].src) return t[0].src ? m.mediaElement.changeRenderer(h.rendererName, t) : null;
                        m.mediaElement.generateError("No renderer found", t)
                    },
                    j = function(e, t) {
                        try {
                            if ("play" === e && "native_dash" === m.mediaElement.rendererName) {
                                var n = m.mediaElement.renderer[e](t);
                                n && "function" == typeof n.then && n.catch(function() {
                                    m.mediaElement.paused && setTimeout(function() {
                                        var e = m.mediaElement.renderer.play();
                                        void 0 !== e && e.catch(function() {
                                            m.mediaElement.renderer.paused || m.mediaElement.renderer.pause()
                                        })
                                    }, 150)
                                })
                            } else m.mediaElement.renderer[e](t)
                        } catch (e) {
                            m.mediaElement.generateError(e, E)
                        }
                    };
                A(m.mediaElement, "src", L, F), m.mediaElement.getSrc = L, m.mediaElement.setSrc = F;
                for (var I = 0, M = _.length; I < M; I++) ! function(e) {
                    if ("src" !== e) {
                        var t = "" + e.substring(0, 1).toUpperCase() + e.substring(1),
                            n = function() {
                                return void 0 !== m.mediaElement.renderer && null !== m.mediaElement.renderer && "function" == typeof m.mediaElement.renderer["get" + t] ? m.mediaElement.renderer["get" + t]() : null
                            },
                            o = function(e) {
                                void 0 !== m.mediaElement.renderer && null !== m.mediaElement.renderer && "function" == typeof m.mediaElement.renderer["set" + t] && m.mediaElement.renderer["set" + t](e)
                            };
                        A(m.mediaElement, e, n, o), m.mediaElement["get" + t] = n, m.mediaElement["set" + t] = o
                    }
                }(_[I]);
                for (var O = 0, D = N.length; O < D; O++) ! function(e) {
                    m.mediaElement[e] = function() {
                        for (var t = arguments.length, n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
                        return void 0 !== m.mediaElement.renderer && null !== m.mediaElement.renderer && "function" == typeof m.mediaElement.renderer[e] && (m.mediaElement.promises.length ? Promise.all(m.mediaElement.promises).then(function() {
                            j(e, n)
                        }).catch(function(e) {
                            m.mediaElement.generateError(e, E)
                        }) : j(e, n)), null
                    }
                }(N[O]);
                return m.mediaElement.addEventListener = function(e, t) {
                    m.mediaElement.events[e] = m.mediaElement.events[e] || [], m.mediaElement.events[e].push(t)
                }, m.mediaElement.removeEventListener = function(e, t) {
                    if (!e) return m.mediaElement.events = {}, !0;
                    var n = m.mediaElement.events[e];
                    if (!n) return !0;
                    if (!t) return m.mediaElement.events[e] = [], !0;
                    for (var o = 0; o < n.length; o++)
                        if (n[o] === t) return m.mediaElement.events[e].splice(o, 1), !0;
                    return !1
                }, m.mediaElement.dispatchEvent = function(e) {
                    var t = m.mediaElement.events[e.type];
                    if (t)
                        for (var n = 0; n < t.length; n++) t[n].apply(null, [e])
                }, E.length && (m.mediaElement.src = E), m.mediaElement.promises.length ? Promise.all(m.mediaElement.promises).then(function() {
                    m.mediaElement.options.success && m.mediaElement.options.success(m.mediaElement, m.mediaElement.originalNode)
                }).catch(function() {
                    v && m.mediaElement.options.error && m.mediaElement.options.error(m.mediaElement, m.mediaElement.originalNode)
                }) : (m.mediaElement.options.success && m.mediaElement.options.success(m.mediaElement, m.mediaElement.originalNode), v && m.mediaElement.options.error && m.mediaElement.options.error(m.mediaElement, m.mediaElement.originalNode)), m.mediaElement
            };
        a.default.MediaElement = p, l.default.MediaElement = p, n.default = p
    }, {
        2: 2,
        25: 25,
        27: 27,
        28: 28,
        3: 3,
        7: 7,
        8: 8
    }],
    7: [function(e, t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var o = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(e(3)),
            i = {};
        i.version = "4.2.6", i.html5media = {
            properties: ["volume", "src", "currentTime", "muted", "duration", "paused", "ended", "buffered", "error", "networkState", "readyState", "seeking", "seekable", "currentSrc", "preload", "bufferedBytes", "bufferedTime", "initialTime", "startOffsetTime", "defaultPlaybackRate", "playbackRate", "played", "autoplay", "loop", "controls"],
            readOnlyProperties: ["duration", "paused", "ended", "buffered", "error", "networkState", "readyState", "seeking", "seekable"],
            methods: ["load", "play", "pause", "canPlayType"],
            events: ["loadstart", "durationchange", "loadedmetadata", "loadeddata", "progress", "canplay", "canplaythrough", "suspend", "abort", "error", "emptied", "stalled", "play", "playing", "pause", "waiting", "seeking", "seeked", "timeupdate", "ended", "ratechange", "volumechange"],
            mediaTypes: ["audio/mp3", "audio/ogg", "audio/oga", "audio/wav", "audio/x-wav", "audio/wave", "audio/x-pn-wav", "audio/mpeg", "audio/mp4", "video/mp4", "video/webm", "video/ogg", "video/ogv"]
        }, o.default.mejs = i, n.default = i
    }, {
        3: 3
    }],
    8: [function(e, t, n) {
        "use strict";

        function o(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.renderer = void 0;
        var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            r = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var o = t[n];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                    }
                }
                return function(t, n, o) {
                    return n && e(t.prototype, n), o && e(t, o), t
                }
            }(),
            a = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(e(7)),
            s = function() {
                function e() {
                    o(this, e), this.renderers = {}, this.order = []
                }
                return r(e, [{
                    key: "add",
                    value: function(e) {
                        if (void 0 === e.name) throw new TypeError("renderer must contain at least `name` property");
                        this.renderers[e.name] = e, this.order.push(e.name)
                    }
                }, {
                    key: "select",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                            n = t.length;
                        if (t = t.length ? t : this.order, !n) {
                            var o = [/^(html5|native)/i, /^flash/i, /iframe$/i],
                                i = function(e) {
                                    for (var t = 0, n = o.length; t < n; t++)
                                        if (o[t].test(e)) return t;
                                    return o.length
                                };
                            t.sort(function(e, t) {
                                return i(e) - i(t)
                            })
                        }
                        for (var r = 0, a = t.length; r < a; r++) {
                            var s = t[r],
                                l = this.renderers[s];
                            if (null !== l && void 0 !== l)
                                for (var d = 0, u = e.length; d < u; d++)
                                    if ("function" == typeof l.canPlayType && "string" == typeof e[d].type && l.canPlayType(e[d].type)) return {
                                        rendererName: l.name,
                                        src: e[d].src
                                    }
                        }
                        return null
                    }
                }, {
                    key: "order",
                    set: function(e) {
                        if (!Array.isArray(e)) throw new TypeError("order must be an array of strings.");
                        this._order = e
                    },
                    get: function() {
                        return this._order
                    }
                }, {
                    key: "renderers",
                    set: function(e) {
                        if (null !== e && "object" !== (void 0 === e ? "undefined" : i(e))) throw new TypeError("renderers must be an array of objects.");
                        this._renderers = e
                    },
                    get: function() {
                        return this._renderers
                    }
                }]), e
            }(),
            l = n.renderer = new s;
        a.default.Renderers = l
    }, {
        7: 7
    }],
    9: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = o(e(3)),
            r = o(e(2)),
            a = o(e(5)),
            s = e(16),
            l = o(s),
            d = function(e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e, t
            }(e(25)),
            u = e(27),
            c = e(26),
            f = e(28);
        Object.assign(s.config, {
            usePluginFullScreen: !0,
            fullscreenText: null,
            useFakeFullscreen: !1
        }), Object.assign(l.default.prototype, {
            isFullScreen: !1,
            isNativeFullScreen: !1,
            isInIframe: !1,
            isPluginClickThroughCreated: !1,
            fullscreenMode: "",
            containerSizeTimeout: null,
            buildfullscreen: function(e) {
                if (e.isVideo) {
                    e.isInIframe = i.default.location !== i.default.parent.location, e.detectFullscreenMode();
                    var t = this,
                        n = (0, u.isString)(t.options.fullscreenText) ? t.options.fullscreenText : a.default.t("mejs.fullscreen"),
                        o = r.default.createElement("div");
                    if (o.className = t.options.classPrefix + "button " + t.options.classPrefix + "fullscreen-button", o.innerHTML = '<button type="button" aria-controls="' + t.id + '" title="' + n + '" aria-label="' + n + '" tabindex="0"></button>', t.addControlElement(o, "fullscreen"), o.addEventListener("click", function() {
                            d.HAS_TRUE_NATIVE_FULLSCREEN && d.IS_FULLSCREEN || e.isFullScreen ? e.exitFullScreen() : e.enterFullScreen()
                        }), e.fullscreenBtn = o, t.options.keyActions.push({
                            keys: [70],
                            action: function(e, t, n, o) {
                                o.ctrlKey || void 0 !== e.enterFullScreen && (e.isFullScreen ? e.exitFullScreen() : e.enterFullScreen())
                            }
                        }), t.exitFullscreenCallback = function(n) {
                            27 === (n.which || n.keyCode || 0) && (d.HAS_TRUE_NATIVE_FULLSCREEN && d.IS_FULLSCREEN || t.isFullScreen) && e.exitFullScreen()
                        }, t.globalBind("keydown", t.exitFullscreenCallback), t.normalHeight = 0, t.normalWidth = 0, d.HAS_TRUE_NATIVE_FULLSCREEN) {
                        e.globalBind(d.FULLSCREEN_EVENT_NAME, function() {
                            e.isFullScreen && (d.isFullScreen() ? (e.isNativeFullScreen = !0, e.setControlsSize()) : (e.isNativeFullScreen = !1, e.exitFullScreen()))
                        })
                    }
                }
            },
            cleanfullscreen: function(e) {
                e.exitFullScreen(), e.globalUnbind("keydown", e.exitFullscreenCallback)
            },
            detectFullscreenMode: function() {
                var e = this,
                    t = null !== e.media.rendererName && /(native|html5)/i.test(e.media.rendererName),
                    n = "";
                return d.HAS_TRUE_NATIVE_FULLSCREEN && t ? n = "native-native" : d.HAS_TRUE_NATIVE_FULLSCREEN && !t ? n = "plugin-native" : e.usePluginFullScreen && d.SUPPORT_POINTER_EVENTS && (n = "plugin-click"), e.fullscreenMode = n, n
            },
            enterFullScreen: function() {
                var e = this,
                    t = null !== e.media.rendererName && /(html5|native)/i.test(e.media.rendererName),
                    n = getComputedStyle(e.getElement(e.container));
                if (!1 === e.options.useFakeFullscreen && d.IS_IOS && d.HAS_IOS_FULLSCREEN && "function" == typeof e.media.originalNode.webkitEnterFullscreen && e.media.originalNode.canPlayType((0, f.getTypeFromFile)(e.media.getSrc()))) e.media.originalNode.webkitEnterFullscreen();
                else {
                    if ((0, c.addClass)(r.default.documentElement, e.options.classPrefix + "fullscreen"), (0, c.addClass)(e.getElement(e.container), e.options.classPrefix + "container-fullscreen"), e.normalHeight = parseFloat(n.height), e.normalWidth = parseFloat(n.width), "native-native" !== e.fullscreenMode && "plugin-native" !== e.fullscreenMode || (d.requestFullScreen(e.getElement(e.container)), e.isInIframe && setTimeout(function t() {
                            if (e.isNativeFullScreen) {
                                var n = i.default.innerWidth || r.default.documentElement.clientWidth || r.default.body.clientWidth,
                                    o = screen.width;
                                Math.abs(o - n) > .002 * o ? e.exitFullScreen() : setTimeout(t, 500)
                            }
                        }, 1e3)), e.getElement(e.container).style.width = "100%", e.getElement(e.container).style.height = "100%", e.containerSizeTimeout = setTimeout(function() {
                            e.getElement(e.container).style.width = "100%", e.getElement(e.container).style.height = "100%", e.setControlsSize()
                        }, 500), t) e.node.style.width = "100%", e.node.style.height = "100%";
                    else
                        for (var o = e.getElement(e.container).querySelectorAll("embed, object, video"), a = o.length, s = 0; s < a; s++) o[s].style.width = "100%", o[s].style.height = "100%";
                    e.options.setDimensions && "function" == typeof e.media.setSize && e.media.setSize(screen.width, screen.height);
                    for (var l = e.getElement(e.layers).children, p = l.length, m = 0; m < p; m++) l[m].style.width = "100%", l[m].style.height = "100%";
                    e.fullscreenBtn && ((0, c.removeClass)(e.fullscreenBtn, e.options.classPrefix + "fullscreen"), (0, c.addClass)(e.fullscreenBtn, e.options.classPrefix + "unfullscreen")), e.setControlsSize(), e.isFullScreen = !0;
                    var h = Math.min(screen.width / e.width, screen.height / e.height),
                        v = e.getElement(e.container).querySelector("." + e.options.classPrefix + "captions-text");
                    v && (v.style.fontSize = 100 * h + "%", v.style.lineHeight = "normal", e.getElement(e.container).querySelector("." + e.options.classPrefix + "captions-position").style.bottom = "45px");
                    var g = (0, u.createEvent)("enteredfullscreen", e.getElement(e.container));
                    e.getElement(e.container).dispatchEvent(g)
                }
            },
            exitFullScreen: function() {
                var e = this,
                    t = null !== e.media.rendererName && /(native|html5)/i.test(e.media.rendererName);
                if (clearTimeout(e.containerSizeTimeout), d.HAS_TRUE_NATIVE_FULLSCREEN && (d.IS_FULLSCREEN || e.isFullScreen) && d.cancelFullScreen(), (0, c.removeClass)(r.default.documentElement, e.options.classPrefix + "fullscreen"), (0, c.removeClass)(e.getElement(e.container), e.options.classPrefix + "container-fullscreen"), e.options.setDimensions) {
                    if (e.getElement(e.container).style.width = e.normalWidth + "px", e.getElement(e.container).style.height = e.normalHeight + "px", t) e.node.style.width = e.normalWidth + "px", e.node.style.height = e.normalHeight + "px";
                    else
                        for (var n = e.getElement(e.container).querySelectorAll("embed, object, video"), o = n.length, i = 0; i < o; i++) n[i].style.width = e.normalWidth + "px", n[i].style.height = e.normalHeight + "px";
                    "function" == typeof e.media.setSize && e.media.setSize(e.normalWidth, e.normalHeight);
                    for (var a = e.getElement(e.layers).children, s = a.length, l = 0; l < s; l++) a[l].style.width = e.normalWidth + "px", a[l].style.height = e.normalHeight + "px"
                }
                e.fullscreenBtn && ((0, c.removeClass)(e.fullscreenBtn, e.options.classPrefix + "unfullscreen"), (0, c.addClass)(e.fullscreenBtn, e.options.classPrefix + "fullscreen")), e.setControlsSize(), e.isFullScreen = !1;
                var f = e.getElement(e.container).querySelector("." + e.options.classPrefix + "captions-text");
                f && (f.style.fontSize = "", f.style.lineHeight = "", e.getElement(e.container).querySelector("." + e.options.classPrefix + "captions-position").style.bottom = "");
                var p = (0, u.createEvent)("exitedfullscreen", e.getElement(e.container));
                e.getElement(e.container).dispatchEvent(p)
            }
        })
    }, {
        16: 16,
        2: 2,
        25: 25,
        26: 26,
        27: 27,
        28: 28,
        3: 3,
        5: 5
    }],
    10: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = o(e(2)),
            r = e(16),
            a = o(r),
            s = o(e(5)),
            l = e(27),
            d = e(26);
        Object.assign(r.config, {
            playText: null,
            pauseText: null
        }), Object.assign(a.default.prototype, {
            buildplaypause: function(e, t, n, o) {
                function r(e) {
                    "play" === e ? ((0, d.removeClass)(p, a.options.classPrefix + "play"), (0, d.removeClass)(p, a.options.classPrefix + "replay"), (0, d.addClass)(p, a.options.classPrefix + "pause"), m.setAttribute("title", f), m.setAttribute("aria-label", f)) : ((0, d.removeClass)(p, a.options.classPrefix + "pause"), (0, d.removeClass)(p, a.options.classPrefix + "replay"), (0, d.addClass)(p, a.options.classPrefix + "play"), m.setAttribute("title", c), m.setAttribute("aria-label", c))
                }
                var a = this,
                    u = a.options,
                    c = (0, l.isString)(u.playText) ? u.playText : s.default.t("mejs.play"),
                    f = (0, l.isString)(u.pauseText) ? u.pauseText : s.default.t("mejs.pause"),
                    p = i.default.createElement("div");
                p.className = a.options.classPrefix + "button " + a.options.classPrefix + "playpause-button " + a.options.classPrefix + "play", p.innerHTML = '<button type="button" aria-controls="' + a.id + '" title="' + c + '" aria-label="' + f + '" tabindex="0"></button>', p.addEventListener("click", function() {
                    a.paused ? a.play() : a.pause()
                });
                var m = p.querySelector("button");
                a.addControlElement(p, "playpause"), r("pse"), o.addEventListener("loadedmetadata", function() {
                    -1 === o.rendererName.indexOf("flash") && r("pse")
                }), o.addEventListener("play", function() {
                    r("play")
                }), o.addEventListener("playing", function() {
                    r("play")
                }), o.addEventListener("pause", function() {
                    r("pse")
                }), o.addEventListener("ended", function() {
                    e.options.loop || ((0, d.removeClass)(p, a.options.classPrefix + "pause"), (0, d.removeClass)(p, a.options.classPrefix + "play"), (0, d.addClass)(p, a.options.classPrefix + "replay"), m.setAttribute("title", c), m.setAttribute("aria-label", c))
                })
            }
        })
    }, {
        16: 16,
        2: 2,
        26: 26,
        27: 27,
        5: 5
    }],
    11: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = o(e(2)),
            r = e(16),
            a = o(r),
            s = o(e(5)),
            l = e(25),
            d = e(30),
            u = e(26);
        Object.assign(r.config, {
            enableProgressTooltip: !0,
            useSmoothHover: !0,
            forceLive: !1
        }), Object.assign(a.default.prototype, {
            buildprogress: function(e, t, n, o) {
                var a = 0,
                    c = !1,
                    f = !1,
                    p = this,
                    m = e.options.autoRewind,
                    h = e.options.enableProgressTooltip ? '<span class="' + p.options.classPrefix + 'time-float"><span class="' + p.options.classPrefix + 'time-float-current">00:00</span><span class="' + p.options.classPrefix + 'time-float-corner"></span></span>' : "",
                    v = i.default.createElement("div");
                v.className = p.options.classPrefix + "time-rail", v.innerHTML = '<span class="' + p.options.classPrefix + "time-total " + p.options.classPrefix + 'time-slider"><span class="' + p.options.classPrefix + 'time-buffering"></span><span class="' + p.options.classPrefix + 'time-loaded"></span><span class="' + p.options.classPrefix + 'time-current"></span><span class="' + p.options.classPrefix + 'time-hovered no-hover"></span><span class="' + p.options.classPrefix + 'time-handle"><span class="' + p.options.classPrefix + 'time-handle-content"></span></span>' + h + "</span>", p.addControlElement(v, "progress"), p.options.keyActions.push({
                    keys: [37, 227],
                    action: function(e) {
                        if (!isNaN(e.duration) && e.duration > 0) {
                            e.isVideo && (e.showControls(), e.startControlsTimer()), e.getElement(e.container).querySelector("." + r.config.classPrefix + "time-total").focus();
                            var t = Math.max(e.currentTime - e.options.defaultSeekBackwardInterval(e), 0);
                            e.setCurrentTime(t)
                        }
                    }
                }, {
                    keys: [39, 228],
                    action: function(e) {
                        if (!isNaN(e.duration) && e.duration > 0) {
                            e.isVideo && (e.showControls(), e.startControlsTimer()), e.getElement(e.container).querySelector("." + r.config.classPrefix + "time-total").focus();
                            var t = Math.min(e.currentTime + e.options.defaultSeekForwardInterval(e), e.duration);
                            e.setCurrentTime(t)
                        }
                    }
                }), p.rail = t.querySelector("." + p.options.classPrefix + "time-rail"), p.total = t.querySelector("." + p.options.classPrefix + "time-total"), p.loaded = t.querySelector("." + p.options.classPrefix + "time-loaded"), p.current = t.querySelector("." + p.options.classPrefix + "time-current"), p.handle = t.querySelector("." + p.options.classPrefix + "time-handle"), p.timefloat = t.querySelector("." + p.options.classPrefix + "time-float"), p.timefloatcurrent = t.querySelector("." + p.options.classPrefix + "time-float-current"), p.slider = t.querySelector("." + p.options.classPrefix + "time-slider"), p.hovered = t.querySelector("." + p.options.classPrefix + "time-hovered"), p.buffer = t.querySelector("." + p.options.classPrefix + "time-buffering"), p.newTime = 0, p.forcedHandlePause = !1, p.setTransformStyle = function(e, t) {
                    e.style.transform = t, e.style.webkitTransform = t, e.style.MozTransform = t, e.style.msTransform = t, e.style.OTransform = t
                }, p.buffer.style.display = "none";
                var g = function(t) {
                        var n = getComputedStyle(p.total),
                            o = (0, u.offset)(p.total),
                            i = p.total.offsetWidth,
                            r = void 0 !== n.webkitTransform ? "webkitTransform" : void 0 !== n.mozTransform ? "mozTransform " : void 0 !== n.oTransform ? "oTransform" : void 0 !== n.msTransform ? "msTransform" : "transform",
                            a = "WebKitCSSMatrix" in window ? "WebKitCSSMatrix" : "MSCSSMatrix" in window ? "MSCSSMatrix" : "CSSMatrix" in window ? "CSSMatrix" : void 0,
                            s = 0,
                            f = 0,
                            m = 0,
                            h = void 0;
                        if (h = t.originalEvent && t.originalEvent.changedTouches ? t.originalEvent.changedTouches[0].pageX : t.changedTouches ? t.changedTouches[0].pageX : t.pageX, p.getDuration()) {
                            if (h < o.left ? h = o.left : h > i + o.left && (h = i + o.left), m = h - o.left, s = m / i, p.newTime = s <= .02 ? 0 : s * p.getDuration(), c && null !== p.getCurrentTime() && p.newTime.toFixed(4) !== p.getCurrentTime().toFixed(4) && (p.setCurrentRailHandle(p.newTime), p.updateCurrent(p.newTime)), !l.IS_IOS && !l.IS_ANDROID) {
                                if (m < 0 && (m = 0), p.options.useSmoothHover && null !== a && void 0 !== window[a]) {
                                    var v = new window[a](getComputedStyle(p.handle)[r]).m41,
                                        g = m / parseFloat(getComputedStyle(p.total).width) - v / parseFloat(getComputedStyle(p.total).width);
                                    p.hovered.style.left = v + "px", p.setTransformStyle(p.hovered, "scaleX(" + g + ")"), p.hovered.setAttribute("pos", m), g >= 0 ? (0, u.removeClass)(p.hovered, "negative") : (0, u.addClass)(p.hovered, "negative")
                                }
                                if (p.timefloat) {
                                    var y = p.timefloat.offsetWidth / 2,
                                        E = mejs.Utils.offset(p.getElement(p.container)),
                                        b = getComputedStyle(p.timefloat);
                                    f = h - E.left < p.timefloat.offsetWidth ? y : h - E.left >= p.getElement(p.container).offsetWidth - y ? p.total.offsetWidth - y : m, (0, u.hasClass)(p.getElement(p.container), p.options.classPrefix + "long-video") && (f += parseFloat(b.marginLeft) / 2 + p.timefloat.offsetWidth / 2), p.timefloat.style.left = f + "px", p.timefloatcurrent.innerHTML = (0, d.secondsToTimeCode)(p.newTime, e.options.alwaysShowHours, e.options.showTimecodeFrameCount, e.options.framesPerSecond, e.options.secondsDecimalLength, e.options.timeFormat), p.timefloat.style.display = "block"
                                }
                            }
                        } else l.IS_IOS || l.IS_ANDROID || !p.timefloat || (f = p.timefloat.offsetWidth + i >= p.getElement(p.container).offsetWidth ? p.timefloat.offsetWidth / 2 : 0, p.timefloat.style.left = f + "px", p.timefloat.style.left = f + "px", p.timefloat.style.display = "block")
                    },
                    y = function() {
                        var t = p.getCurrentTime(),
                            n = s.default.t("mejs.time-slider"),
                            i = (0, d.secondsToTimeCode)(t, e.options.alwaysShowHours, e.options.showTimecodeFrameCount, e.options.framesPerSecond, e.options.secondsDecimalLength, e.options.timeFormat),
                            r = p.getDuration();
                        p.slider.setAttribute("role", "slider"), p.slider.tabIndex = 0, o.paused ? (p.slider.setAttribute("aria-label", n), p.slider.setAttribute("aria-valuemin", 0), p.slider.setAttribute("aria-valuemax", r), p.slider.setAttribute("aria-valuenow", t), p.slider.setAttribute("aria-valuetext", i)) : (p.slider.removeAttribute("aria-label"), p.slider.removeAttribute("aria-valuemin"), p.slider.removeAttribute("aria-valuemax"), p.slider.removeAttribute("aria-valuenow"), p.slider.removeAttribute("aria-valuetext"))
                    },
                    E = function() {
                        new Date - a >= 1e3 && p.play()
                    },
                    b = function() {
                        c && null !== p.getCurrentTime() && p.newTime.toFixed(4) !== p.getCurrentTime().toFixed(4) && (p.setCurrentTime(p.newTime), p.setCurrentRail(), p.updateCurrent(p.newTime)), p.forcedHandlePause && (p.slider.focus(), p.play()), p.forcedHandlePause = !1
                    };
                p.slider.addEventListener("focus", function() {
                    e.options.autoRewind = !1
                }), p.slider.addEventListener("blur", function() {
                    e.options.autoRewind = m
                }), p.slider.addEventListener("keydown", function(t) {
                    if (new Date - a >= 1e3 && (f = p.paused), p.options.keyActions.length) {
                        var n = t.which || t.keyCode || 0,
                            i = p.getDuration(),
                            r = e.options.defaultSeekForwardInterval(o),
                            s = e.options.defaultSeekBackwardInterval(o),
                            d = p.getCurrentTime(),
                            u = p.getElement(p.container).querySelector("." + p.options.classPrefix + "volume-slider");
                        if (38 === n || 40 === n) {
                            u && (u.style.display = "block"), p.isVideo && (p.showControls(), p.startControlsTimer());
                            var c = 38 === n ? Math.min(p.volume + .1, 1) : Math.max(p.volume - .1, 0),
                                m = c <= 0;
                            return p.setVolume(c), void p.setMuted(m)
                        }
                        switch (u && (u.style.display = "none"), n) {
                            case 37:
                                p.getDuration() !== 1 / 0 && (d -= s);
                                break;
                            case 39:
                                p.getDuration() !== 1 / 0 && (d += r);
                                break;
                            case 36:
                                d = 0;
                                break;
                            case 35:
                                d = i;
                                break;
                            case 13:
                            case 32:
                                return void(l.IS_FIREFOX && (p.paused ? p.play() : p.pause()));
                            default:
                                return
                        }
                        d = d < 0 ? 0 : d >= i ? i : Math.floor(d), a = new Date, f || e.pause(), d < p.getDuration() && !f && setTimeout(E, 1100), p.setCurrentTime(d), e.showControls(), t.preventDefault(), t.stopPropagation()
                    }
                });
                var S = ["mousedown", "touchstart"];
                p.slider.addEventListener("dragstart", function() {
                    return !1
                });
                for (var x = 0, w = S.length; x < w; x++) p.slider.addEventListener(S[x], function(e) {
                    if (p.forcedHandlePause = !1, p.getDuration() !== 1 / 0 && (1 === e.which || 0 === e.which)) {
                        p.paused || (p.pause(), p.forcedHandlePause = !0), c = !0, g(e);
                        for (var t = ["mouseup", "touchend"], n = 0, o = t.length; n < o; n++) p.getElement(p.container).addEventListener(t[n], function(e) {
                            var t = e.target;
                            (t === p.slider || t.closest("." + p.options.classPrefix + "time-slider")) && g(e)
                        });
                        p.globalBind("mouseup.dur touchend.dur", function() {
                            b(), c = !1, p.timefloat && (p.timefloat.style.display = "none")
                        })
                    }
                }, !(!l.SUPPORT_PASSIVE_EVENT || "touchstart" !== S[x]) && {
                    passive: !0
                });
                p.slider.addEventListener("mouseenter", function(e) {
                    e.target === p.slider && p.getDuration() !== 1 / 0 && (p.getElement(p.container).addEventListener("mousemove", function(e) {
                        var t = e.target;
                        (t === p.slider || t.closest("." + p.options.classPrefix + "time-slider")) && g(e)
                    }), !p.timefloat || l.IS_IOS || l.IS_ANDROID || (p.timefloat.style.display = "block"), p.hovered && !l.IS_IOS && !l.IS_ANDROID && p.options.useSmoothHover && (0, u.removeClass)(p.hovered, "no-hover"))
                }), p.slider.addEventListener("mouseleave", function() {
                    p.getDuration() !== 1 / 0 && (c || (p.timefloat && (p.timefloat.style.display = "none"), p.hovered && p.options.useSmoothHover && (0, u.addClass)(p.hovered, "no-hover")))
                }), p.broadcastCallback = function(n) {
                    var o = t.querySelector("." + p.options.classPrefix + "broadcast");
                    if (p.options.forceLive || p.getDuration() === 1 / 0) {
                        if (!o || p.options.forceLive) {
                            var r = i.default.createElement("span");
                            r.className = p.options.classPrefix + "broadcast", r.innerText = s.default.t("mejs.live-broadcast"), p.slider.style.display = "none", p.rail.appendChild(r)
                        }
                    } else o && (p.slider.style.display = "", o.remove()), e.setProgressRail(n), p.forcedHandlePause || e.setCurrentRail(n), y()
                }, o.addEventListener("progress", p.broadcastCallback), o.addEventListener("timeupdate", p.broadcastCallback), o.addEventListener("play", function() {
                    p.buffer.style.display = "none"
                }), o.addEventListener("playing", function() {
                    p.buffer.style.display = "none"
                }), o.addEventListener("seeking", function() {
                    p.buffer.style.display = ""
                }), o.addEventListener("seeked", function() {
                    p.buffer.style.display = "none"
                }), o.addEventListener("pause", function() {
                    p.buffer.style.display = "none"
                }), o.addEventListener("waiting", function() {
                    p.buffer.style.display = ""
                }), o.addEventListener("loadeddata", function() {
                    p.buffer.style.display = ""
                }), o.addEventListener("canplay", function() {
                    p.buffer.style.display = "none"
                }), o.addEventListener("error", function() {
                    p.buffer.style.display = "none"
                }), p.getElement(p.container).addEventListener("controlsresize", function(t) {
                    p.getDuration() !== 1 / 0 && (e.setProgressRail(t), p.forcedHandlePause || e.setCurrentRail(t))
                })
            },
            cleanprogress: function(e, t, n, o) {
                o.removeEventListener("progress", e.broadcastCallback), o.removeEventListener("timeupdate", e.broadcastCallback), e.rail && e.rail.remove()
            },
            setProgressRail: function(e) {
                var t = this,
                    n = void 0 !== e ? e.detail.target || e.target : t.media,
                    o = null;
                n && n.buffered && n.buffered.length > 0 && n.buffered.end && t.getDuration() ? o = n.buffered.end(n.buffered.length - 1) / t.getDuration() : n && void 0 !== n.bytesTotal && n.bytesTotal > 0 && void 0 !== n.bufferedBytes ? o = n.bufferedBytes / n.bytesTotal : e && e.lengthComputable && 0 !== e.total && (o = e.loaded / e.total), null !== o && (o = Math.min(1, Math.max(0, o)), t.loaded && t.setTransformStyle(t.loaded, "scaleX(" + o + ")"))
            },
            setCurrentRailHandle: function(e) {
                var t = this;
                t.setCurrentRailMain(t, e)
            },
            setCurrentRail: function() {
                var e = this;
                e.setCurrentRailMain(e)
            },
            setCurrentRailMain: function(e, t) {
                if (void 0 !== e.getCurrentTime() && e.getDuration()) {
                    var n = void 0 === t ? e.getCurrentTime() : t;
                    if (e.total && e.handle) {
                        var o = parseFloat(getComputedStyle(e.total).width),
                            i = Math.round(o * n / e.getDuration()),
                            r = i - Math.round(e.handle.offsetWidth / 2);
                        if (r = r < 0 ? 0 : r, e.setTransformStyle(e.current, "scaleX(" + i / o + ")"), e.setTransformStyle(e.handle, "translateX(" + r + "px)"), e.options.useSmoothHover && !(0, u.hasClass)(e.hovered, "no-hover")) {
                            var a = parseInt(e.hovered.getAttribute("pos"), 10),
                                s = (a = isNaN(a) ? 0 : a) / o - r / o;
                            e.hovered.style.left = r + "px", e.setTransformStyle(e.hovered, "scaleX(" + s + ")"), s >= 0 ? (0, u.removeClass)(e.hovered, "negative") : (0, u.addClass)(e.hovered, "negative")
                        }
                    }
                }
            }
        })
    }, {
        16: 16,
        2: 2,
        25: 25,
        26: 26,
        30: 30,
        5: 5
    }],
    12: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = o(e(2)),
            r = e(16),
            a = o(r),
            s = e(30),
            l = e(26);
        Object.assign(r.config, {
            duration: 0,
            timeAndDurationSeparator: "<span> | </span>"
        }), Object.assign(a.default.prototype, {
            buildcurrent: function(e, t, n, o) {
                var r = this,
                    a = i.default.createElement("div");
                a.className = r.options.classPrefix + "time", a.setAttribute("role", "timer"), a.setAttribute("aria-live", "off"), a.innerHTML = '<span class="' + r.options.classPrefix + 'currenttime">' + (0, s.secondsToTimeCode)(0, e.options.alwaysShowHours, e.options.showTimecodeFrameCount, e.options.framesPerSecond, e.options.secondsDecimalLength, e.options.timeFormat) + "</span>", r.addControlElement(a, "current"), e.updateCurrent(), r.updateTimeCallback = function() {
                    r.controlsAreVisible && e.updateCurrent()
                }, o.addEventListener("timeupdate", r.updateTimeCallback)
            },
            cleancurrent: function(e, t, n, o) {
                o.removeEventListener("timeupdate", e.updateTimeCallback)
            },
            buildduration: function(e, t, n, o) {
                var r = this;
                if (t.lastChild.querySelector("." + r.options.classPrefix + "currenttime")) t.querySelector("." + r.options.classPrefix + "time").innerHTML += r.options.timeAndDurationSeparator + '<span class="' + r.options.classPrefix + 'duration">' + (0, s.secondsToTimeCode)(r.options.duration, r.options.alwaysShowHours, r.options.showTimecodeFrameCount, r.options.framesPerSecond, r.options.secondsDecimalLength, r.options.timeFormat) + "</span>";
                else {
                    t.querySelector("." + r.options.classPrefix + "currenttime") && (0, l.addClass)(t.querySelector("." + r.options.classPrefix + "currenttime").parentNode, r.options.classPrefix + "currenttime-container");
                    var a = i.default.createElement("div");
                    a.className = r.options.classPrefix + "time " + r.options.classPrefix + "duration-container", a.innerHTML = '<span class="' + r.options.classPrefix + 'duration">' + (0, s.secondsToTimeCode)(r.options.duration, r.options.alwaysShowHours, r.options.showTimecodeFrameCount, r.options.framesPerSecond, r.options.secondsDecimalLength, r.options.timeFormat) + "</span>", r.addControlElement(a, "duration")
                }
                r.updateDurationCallback = function() {
                    r.controlsAreVisible && e.updateDuration()
                }, o.addEventListener("timeupdate", r.updateDurationCallback)
            },
            cleanduration: function(e, t, n, o) {
                o.removeEventListener("timeupdate", e.updateDurationCallback)
            },
            updateCurrent: function() {
                var e = this,
                    t = e.getCurrentTime();
                isNaN(t) && (t = 0);
                var n = (0, s.secondsToTimeCode)(t, e.options.alwaysShowHours, e.options.showTimecodeFrameCount, e.options.framesPerSecond, e.options.secondsDecimalLength, e.options.timeFormat);
                n.length > 5 ? (0, l.addClass)(e.getElement(e.container), e.options.classPrefix + "long-video") : (0, l.removeClass)(e.getElement(e.container), e.options.classPrefix + "long-video"), e.getElement(e.controls).querySelector("." + e.options.classPrefix + "currenttime") && (e.getElement(e.controls).querySelector("." + e.options.classPrefix + "currenttime").innerText = n)
            },
            updateDuration: function() {
                var e = this,
                    t = e.getDuration();
                (isNaN(t) || t === 1 / 0 || t < 0) && (e.media.duration = e.options.duration = t = 0), e.options.duration > 0 && (t = e.options.duration);
                var n = (0, s.secondsToTimeCode)(t, e.options.alwaysShowHours, e.options.showTimecodeFrameCount, e.options.framesPerSecond, e.options.secondsDecimalLength, e.options.timeFormat);
                n.length > 5 ? (0, l.addClass)(e.getElement(e.container), e.options.classPrefix + "long-video") : (0, l.removeClass)(e.getElement(e.container), e.options.classPrefix + "long-video"), e.getElement(e.controls).querySelector("." + e.options.classPrefix + "duration") && t > 0 && (e.getElement(e.controls).querySelector("." + e.options.classPrefix + "duration").innerHTML = n)
            }
        })
    }, {
        16: 16,
        2: 2,
        26: 26,
        30: 30
    }],
    13: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = o(e(2)),
            r = o(e(7)),
            a = o(e(5)),
            s = e(16),
            l = o(s),
            d = e(30),
            u = e(27),
            c = e(26);
        Object.assign(s.config, {
            startLanguage: "",
            tracksText: null,
            chaptersText: null,
            tracksAriaLive: !1,
            hideCaptionsButtonWhenEmpty: !0,
            toggleCaptionsButtonWhenOnlyOne: !1,
            slidesSelector: ""
        }), Object.assign(l.default.prototype, {
            hasChapters: !1,
            buildtracks: function(e, t, n, o) {
                if (this.findTracks(), e.tracks.length || e.trackFiles && 0 !== !e.trackFiles.length) {
                    var r = this,
                        s = r.options.tracksAriaLive ? ' role="log" aria-live="assertive" aria-atomic="false"' : "",
                        l = (0, u.isString)(r.options.tracksText) ? r.options.tracksText : a.default.t("mejs.captions-subtitles"),
                        d = (0, u.isString)(r.options.chaptersText) ? r.options.chaptersText : a.default.t("mejs.captions-chapters"),
                        f = null === e.trackFiles ? e.tracks.length : e.trackFiles.length;
                    if (r.domNode.textTracks)
                        for (var p = r.domNode.textTracks.length - 1; p >= 0; p--) r.domNode.textTracks[p].mode = "hidden";
                    r.cleartracks(e), e.captions = i.default.createElement("div"), e.captions.className = r.options.classPrefix + "captions-layer " + r.options.classPrefix + "layer", e.captions.innerHTML = '<div class="' + r.options.classPrefix + "captions-position " + r.options.classPrefix + 'captions-position-hover"' + s + '><span class="' + r.options.classPrefix + 'captions-text"></span></div>', e.captions.style.display = "none", n.insertBefore(e.captions, n.firstChild), e.captionsText = e.captions.querySelector("." + r.options.classPrefix + "captions-text"), e.captionsButton = i.default.createElement("div"), e.captionsButton.className = r.options.classPrefix + "button " + r.options.classPrefix + "captions-button", e.captionsButton.innerHTML = '<button type="button" aria-controls="' + r.id + '" title="' + l + '" aria-label="' + l + '" tabindex="0"></button><div class="' + r.options.classPrefix + "captions-selector " + r.options.classPrefix + 'offscreen"><ul class="' + r.options.classPrefix + 'captions-selector-list"><li class="' + r.options.classPrefix + 'captions-selector-list-item"><input type="radio" class="' + r.options.classPrefix + 'captions-selector-input" name="' + e.id + '_captions" id="' + e.id + '_captions_none" value="none" checked disabled><label class="' + r.options.classPrefix + "captions-selector-label " + r.options.classPrefix + 'captions-selected" for="' + e.id + '_captions_none">' + a.default.t("mejs.none") + "</label></li></ul></div>", r.addControlElement(e.captionsButton, "tracks"), e.captionsButton.querySelector("." + r.options.classPrefix + "captions-selector-input").disabled = !1, e.chaptersButton = i.default.createElement("div"), e.chaptersButton.className = r.options.classPrefix + "button " + r.options.classPrefix + "chapters-button", e.chaptersButton.innerHTML = '<button type="button" aria-controls="' + r.id + '" title="' + d + '" aria-label="' + d + '" tabindex="0"></button><div class="' + r.options.classPrefix + "chapters-selector " + r.options.classPrefix + 'offscreen"><ul class="' + r.options.classPrefix + 'chapters-selector-list"></ul></div>';
                    for (var m = 0, h = 0; h < f; h++) {
                        var v = e.tracks[h].kind;
                        e.tracks[h].src.trim() && ("subtitles" === v || "captions" === v ? m++ : "chapters" !== v || t.querySelector("." + r.options.classPrefix + "chapter-selector") || e.captionsButton.parentNode.insertBefore(e.chaptersButton, e.captionsButton))
                    }
                    e.trackToLoad = -1, e.selectedTrack = null, e.isLoadingTrack = !1;
                    for (var g = 0; g < f; g++) {
                        var y = e.tracks[g].kind;
                        !e.tracks[g].src.trim() || "subtitles" !== y && "captions" !== y || e.addTrackButton(e.tracks[g].trackId, e.tracks[g].srclang, e.tracks[g].label)
                    }
                    e.loadNextTrack();
                    var E = ["mouseenter", "focusin"],
                        b = ["mouseleave", "focusout"];
                    if (r.options.toggleCaptionsButtonWhenOnlyOne && 1 === m) e.captionsButton.addEventListener("click", function(t) {
                        var n = "none";
                        null === e.selectedTrack && (n = e.tracks[0].trackId);
                        var o = t.keyCode || t.which;
                        e.setTrack(n, void 0 !== o)
                    });
                    else {
                        for (var S = e.captionsButton.querySelectorAll("." + r.options.classPrefix + "captions-selector-label"), x = e.captionsButton.querySelectorAll("input[type=radio]"), w = 0, P = E.length; w < P; w++) e.captionsButton.addEventListener(E[w], function() {
                            (0, c.removeClass)(this.querySelector("." + r.options.classPrefix + "captions-selector"), r.options.classPrefix + "offscreen")
                        });
                        for (var T = 0, C = b.length; T < C; T++) e.captionsButton.addEventListener(b[T], function() {
                            (0, c.addClass)(this.querySelector("." + r.options.classPrefix + "captions-selector"), r.options.classPrefix + "offscreen")
                        });
                        for (var k = 0, _ = x.length; k < _; k++) x[k].addEventListener("click", function(t) {
                            var n = t.keyCode || t.which;
                            e.setTrack(this.value, void 0 !== n)
                        });
                        for (var N = 0, A = S.length; N < A; N++) S[N].addEventListener("click", function(e) {
                            var t = (0, c.siblings)(this, function(e) {
                                    return "INPUT" === e.tagName
                                })[0],
                                n = (0, u.createEvent)("click", t);
                            t.dispatchEvent(n), e.preventDefault()
                        });
                        e.captionsButton.addEventListener("keydown", function(e) {
                            e.stopPropagation()
                        })
                    }
                    for (var L = 0, F = E.length; L < F; L++) e.chaptersButton.addEventListener(E[L], function() {
                        this.querySelector("." + r.options.classPrefix + "chapters-selector-list").children.length && (0, c.removeClass)(this.querySelector("." + r.options.classPrefix + "chapters-selector"), r.options.classPrefix + "offscreen")
                    });
                    for (var j = 0, I = b.length; j < I; j++) e.chaptersButton.addEventListener(b[j], function() {
                        (0, c.addClass)(this.querySelector("." + r.options.classPrefix + "chapters-selector"), r.options.classPrefix + "offscreen")
                    });
                    e.chaptersButton.addEventListener("keydown", function(e) {
                        e.stopPropagation()
                    }), e.options.alwaysShowControls ? (0, c.addClass)(e.getElement(e.container).querySelector("." + r.options.classPrefix + "captions-position"), r.options.classPrefix + "captions-position-hover") : (e.getElement(e.container).addEventListener("controlsshown", function() {
                        (0, c.addClass)(e.getElement(e.container).querySelector("." + r.options.classPrefix + "captions-position"), r.options.classPrefix + "captions-position-hover")
                    }), e.getElement(e.container).addEventListener("controlshidden", function() {
                        o.paused || (0, c.removeClass)(e.getElement(e.container).querySelector("." + r.options.classPrefix + "captions-position"), r.options.classPrefix + "captions-position-hover")
                    })), o.addEventListener("timeupdate", function() {
                        e.displayCaptions()
                    }), "" !== e.options.slidesSelector && (e.slidesContainer = i.default.querySelectorAll(e.options.slidesSelector), o.addEventListener("timeupdate", function() {
                        e.displaySlides()
                    }))
                }
            },
            cleartracks: function(e) {
                e && (e.captions && e.captions.remove(), e.chapters && e.chapters.remove(), e.captionsText && e.captionsText.remove(), e.captionsButton && e.captionsButton.remove(), e.chaptersButton && e.chaptersButton.remove())
            },
            rebuildtracks: function() {
                var e = this;
                e.findTracks(), e.buildtracks(e, e.getElement(e.controls), e.getElement(e.layers), e.media)
            },
            findTracks: function() {
                var e = this,
                    t = null === e.trackFiles ? e.node.querySelectorAll("track") : e.trackFiles,
                    n = t.length;
                e.tracks = [];
                for (var o = 0; o < n; o++) {
                    var i = t[o],
                        r = i.getAttribute("srclang").toLowerCase() || "",
                        a = e.id + "_track_" + o + "_" + i.getAttribute("kind") + "_" + r;
                    e.tracks.push({
                        trackId: a,
                        srclang: r,
                        src: i.getAttribute("src"),
                        kind: i.getAttribute("kind"),
                        label: i.getAttribute("label") || "",
                        entries: [],
                        isLoaded: !1
                    })
                }
            },
            setTrack: function(e, t) {
                for (var n = this, o = n.captionsButton.querySelectorAll('input[type="radio"]'), i = n.captionsButton.querySelectorAll("." + n.options.classPrefix + "captions-selected"), r = n.captionsButton.querySelector('input[value="' + e + '"]'), a = 0, s = o.length; a < s; a++) o[a].checked = !1;
                for (var l = 0, d = i.length; l < d; l++)(0, c.removeClass)(i[l], n.options.classPrefix + "captions-selected");
                r.checked = !0;
                for (var f = (0, c.siblings)(r, function(e) {
                        return (0, c.hasClass)(e, n.options.classPrefix + "captions-selector-label")
                    }), p = 0, m = f.length; p < m; p++)(0, c.addClass)(f[p], n.options.classPrefix + "captions-selected");
                if ("none" === e) n.selectedTrack = null, (0, c.removeClass)(n.captionsButton, n.options.classPrefix + "captions-enabled");
                else
                    for (var h = 0, v = n.tracks.length; h < v; h++) {
                        var g = n.tracks[h];
                        if (g.trackId === e) {
                            null === n.selectedTrack && (0, c.addClass)(n.captionsButton, n.options.classPrefix + "captions-enabled"), n.selectedTrack = g, n.captions.setAttribute("lang", n.selectedTrack.srclang), n.displayCaptions();
                            break
                        }
                    }
                var y = (0, u.createEvent)("captionschange", n.media);
                y.detail.caption = n.selectedTrack, n.media.dispatchEvent(y), t || setTimeout(function() {
                    n.getElement(n.container).focus()
                }, 500)
            },
            loadNextTrack: function() {
                var e = this;
                e.trackToLoad++, e.trackToLoad < e.tracks.length ? (e.isLoadingTrack = !0, e.loadTrack(e.trackToLoad)) : (e.isLoadingTrack = !1, e.checkForTracks())
            },
            loadTrack: function(e) {
                var t = this,
                    n = t.tracks[e];
                void 0 === n || void 0 === n.src && "" === n.src || (0, c.ajax)(n.src, "text", function(e) {
                    n.entries = "string" == typeof e && /<tt\s+xml/gi.exec(e) ? r.default.TrackFormatParser.dfxp.parse(e) : r.default.TrackFormatParser.webvtt.parse(e), n.isLoaded = !0, t.enableTrackButton(n), t.loadNextTrack(), "slides" === n.kind ? t.setupSlides(n) : "chapters" !== n.kind || t.hasChapters || (t.drawChapters(n), t.hasChapters = !0)
                }, function() {
                    t.removeTrackButton(n.trackId), t.loadNextTrack()
                })
            },
            enableTrackButton: function(e) {
                var t = this,
                    n = e.srclang,
                    o = i.default.getElementById("" + e.trackId);
                if (o) {
                    var s = e.label;
                    "" === s && (s = a.default.t(r.default.language.codes[n]) || n), o.disabled = !1;
                    for (var l = (0, c.siblings)(o, function(e) {
                            return (0, c.hasClass)(e, t.options.classPrefix + "captions-selector-label")
                        }), d = 0, f = l.length; d < f; d++) l[d].innerHTML = s;
                    if (t.options.startLanguage === n) {
                        o.checked = !0;
                        var p = (0, u.createEvent)("click", o);
                        o.dispatchEvent(p)
                    }
                }
            },
            removeTrackButton: function(e) {
                var t = i.default.getElementById("" + e);
                if (t) {
                    var n = t.closest("li");
                    n && n.remove()
                }
            },
            addTrackButton: function(e, t, n) {
                var o = this;
                "" === n && (n = a.default.t(r.default.language.codes[t]) || t), o.captionsButton.querySelector("ul").innerHTML += '<li class="' + o.options.classPrefix + 'captions-selector-list-item"><input type="radio" class="' + o.options.classPrefix + 'captions-selector-input" name="' + o.id + '_captions" id="' + e + '" value="' + e + '" disabled><label class="' + o.options.classPrefix + 'captions-selector-label"for="' + e + '">' + n + " (loading)</label></li>"
            },
            checkForTracks: function() {
                var e = this,
                    t = !1;
                if (e.options.hideCaptionsButtonWhenEmpty) {
                    for (var n = 0, o = e.tracks.length; n < o; n++) {
                        var i = e.tracks[n].kind;
                        if (("subtitles" === i || "captions" === i) && e.tracks[n].isLoaded) {
                            t = !0;
                            break
                        }
                    }
                    e.captionsButton.style.display = t ? "" : "none", e.setControlsSize()
                }
            },
            displayCaptions: function() {
                if (void 0 !== this.tracks) {
                    var e = this,
                        t = e.selectedTrack;
                    if (null !== t && t.isLoaded) {
                        var n = e.searchTrackPosition(t.entries, e.media.currentTime);
                        if (n > -1) return e.captionsText.innerHTML = function(e) {
                            var t = i.default.createElement("div");
                            t.innerHTML = e;
                            for (var n = t.getElementsByTagName("script"), o = n.length; o--;) n[o].remove();
                            for (var r = t.getElementsByTagName("*"), a = 0, s = r.length; a < s; a++)
                                for (var l = r[a].attributes, d = Array.prototype.slice.call(l), u = 0, c = d.length; u < c; u++) d[u].name.startsWith("on") || d[u].value.startsWith("javascript") ? r[a].remove() : "style" === d[u].name && r[a].removeAttribute(d[u].name);
                            return t.innerHTML
                        }(t.entries[n].text), e.captionsText.className = e.options.classPrefix + "captions-text " + (t.entries[n].identifier || ""), e.captions.style.display = "", void(e.captions.style.height = "0px");
                        e.captions.style.display = "none"
                    } else e.captions.style.display = "none"
                }
            },
            setupSlides: function(e) {
                var t = this;
                t.slides = e, t.slides.entries.imgs = [t.slides.entries.length], t.showSlide(0)
            },
            showSlide: function(e) {
                var t = this,
                    n = this;
                if (void 0 !== n.tracks && void 0 !== n.slidesContainer) {
                    var o = n.slides.entries[e].text,
                        r = n.slides.entries[e].imgs;
                    if (void 0 === r || void 0 === r.fadeIn) {
                        var a = i.default.createElement("img");
                        a.src = o, a.addEventListener("load", function() {
                            var e = t,
                                o = (0, c.siblings)(e, function(e) {
                                    return o(e)
                                });
                            e.style.display = "none", n.slidesContainer.innerHTML += e.innerHTML, (0, c.fadeIn)(n.slidesContainer.querySelector(a));
                            for (var i = 0, r = o.length; i < r; i++)(0, c.fadeOut)(o[i], 400)
                        }), n.slides.entries[e].imgs = r = a
                    } else if (!(0, c.visible)(r)) {
                        var s = (0, c.siblings)(self, function(e) {
                            return s(e)
                        });
                        (0, c.fadeIn)(n.slidesContainer.querySelector(r));
                        for (var l = 0, d = s.length; l < d; l++)(0, c.fadeOut)(s[l])
                    }
                }
            },
            displaySlides: function() {
                var e = this;
                if (void 0 !== this.slides) {
                    var t = e.slides,
                        n = e.searchTrackPosition(t.entries, e.media.currentTime);
                    n > -1 && e.showSlide(n)
                }
            },
            drawChapters: function(e) {
                var t = this,
                    n = e.entries.length;
                if (n) {
                    t.chaptersButton.querySelector("ul").innerHTML = "";
                    for (var o = 0; o < n; o++) t.chaptersButton.querySelector("ul").innerHTML += '<li class="' + t.options.classPrefix + 'chapters-selector-list-item" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false"><input type="radio" class="' + t.options.classPrefix + 'captions-selector-input" name="' + t.id + '_chapters" id="' + t.id + "_chapters_" + o + '" value="' + e.entries[o].start + '" disabled><label class="' + t.options.classPrefix + 'chapters-selector-label"for="' + t.id + "_chapters_" + o + '">' + e.entries[o].text + "</label></li>";
                    for (var i = t.chaptersButton.querySelectorAll('input[type="radio"]'), r = t.chaptersButton.querySelectorAll("." + t.options.classPrefix + "chapters-selector-label"), a = 0, s = i.length; a < s; a++) i[a].disabled = !1, i[a].checked = !1, i[a].addEventListener("click", function(e) {
                        var n = this,
                            o = t.chaptersButton.querySelectorAll("li"),
                            i = (0, c.siblings)(n, function(e) {
                                return (0, c.hasClass)(e, t.options.classPrefix + "chapters-selector-label")
                            })[0];
                        n.checked = !0, n.parentNode.setAttribute("aria-checked", !0), (0, c.addClass)(i, t.options.classPrefix + "chapters-selected"), (0, c.removeClass)(t.chaptersButton.querySelector("." + t.options.classPrefix + "chapters-selected"), t.options.classPrefix + "chapters-selected");
                        for (var r = 0, a = o.length; r < a; r++) o[r].setAttribute("aria-checked", !1);
                        void 0 === (e.keyCode || e.which) && setTimeout(function() {
                            t.getElement(t.container).focus()
                        }, 500), t.media.setCurrentTime(parseFloat(n.value)), t.media.paused && t.media.play()
                    });
                    for (var l = 0, d = r.length; l < d; l++) r[l].addEventListener("click", function(e) {
                        var t = (0, c.siblings)(this, function(e) {
                                return "INPUT" === e.tagName
                            })[0],
                            n = (0, u.createEvent)("click", t);
                        t.dispatchEvent(n), e.preventDefault()
                    })
                }
            },
            searchTrackPosition: function(e, t) {
                for (var n = 0, o = e.length - 1, i = void 0, r = void 0, a = void 0; n <= o;) {
                    if (i = n + o >> 1, r = e[i].start, a = e[i].stop, t >= r && t < a) return i;
                    r < t ? n = i + 1 : r > t && (o = i - 1)
                }
                return -1
            }
        }), r.default.language = {
            codes: {
                af: "mejs.afrikaans",
                sq: "mejs.albanian",
                ar: "mejs.arabic",
                be: "mejs.belarusian",
                bg: "mejs.bulgarian",
                ca: "mejs.catalan",
                zh: "mejs.chinese",
                "zh-cn": "mejs.chinese-simplified",
                "zh-tw": "mejs.chines-traditional",
                hr: "mejs.croatian",
                cs: "mejs.czech",
                da: "mejs.danish",
                nl: "mejs.dutch",
                en: "mejs.english",
                et: "mejs.estonian",
                fl: "mejs.filipino",
                fi: "mejs.finnish",
                fr: "mejs.french",
                gl: "mejs.galician",
                de: "mejs.german",
                el: "mejs.greek",
                ht: "mejs.haitian-creole",
                iw: "mejs.hebrew",
                hi: "mejs.hindi",
                hu: "mejs.hungarian",
                is: "mejs.icelandic",
                id: "mejs.indonesian",
                ga: "mejs.irish",
                it: "mejs.italian",
                ja: "mejs.japanese",
                ko: "mejs.korean",
                lv: "mejs.latvian",
                lt: "mejs.lithuanian",
                mk: "mejs.macedonian",
                ms: "mejs.malay",
                mt: "mejs.maltese",
                no: "mejs.norwegian",
                fa: "mejs.persian",
                pl: "mejs.polish",
                pt: "mejs.portuguese",
                ro: "mejs.romanian",
                ru: "mejs.russian",
                sr: "mejs.serbian",
                sk: "mejs.slovak",
                sl: "mejs.slovenian",
                es: "mejs.spanish",
                sw: "mejs.swahili",
                sv: "mejs.swedish",
                tl: "mejs.tagalog",
                th: "mejs.thai",
                tr: "mejs.turkish",
                uk: "mejs.ukrainian",
                vi: "mejs.vietnamese",
                cy: "mejs.welsh",
                yi: "mejs.yiddish"
            }
        }, r.default.TrackFormatParser = {
            webvtt: {
                pattern: /^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,
                parse: function(e) {
                    for (var t = e.split(/\r?\n/), n = [], o = void 0, i = void 0, r = void 0, a = 0, s = t.length; a < s; a++) {
                        if ((o = this.pattern.exec(t[a])) && a < t.length) {
                            for (a - 1 >= 0 && "" !== t[a - 1] && (r = t[a - 1]), i = t[++a], a++;
                                "" !== t[a] && a < t.length;) i = i + "\n" + t[a], a++;
                            i = i.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi, "<a href='$1' target='_blank'>$1</a>"), n.push({
                                identifier: r,
                                start: 0 === (0, d.convertSMPTEtoSeconds)(o[1]) ? .2 : (0, d.convertSMPTEtoSeconds)(o[1]),
                                stop: (0, d.convertSMPTEtoSeconds)(o[3]),
                                text: i,
                                settings: o[5]
                            })
                        }
                        r = ""
                    }
                    return n
                }
            },
            dfxp: {
                parse: function(e) {
                    var t = (e = $(e).filter("tt")).firstChild,
                        n = t.querySelectorAll("p"),
                        o = e.getElementById("" + t.attr("style")),
                        i = [],
                        r = void 0;
                    if (o.length) {
                        o.removeAttribute("id");
                        var a = o.attributes;
                        if (a.length) {
                            r = {};
                            for (var s = 0, l = a.length; s < l; s++) r[a[s].name.split(":")[1]] = a[s].value
                        }
                    }
                    for (var u = 0, c = n.length; u < c; u++) {
                        var f = void 0,
                            p = {
                                start: null,
                                stop: null,
                                style: null,
                                text: null
                            };
                        if (n.eq(u).attr("begin") && (p.start = (0, d.convertSMPTEtoSeconds)(n.eq(u).attr("begin"))), !p.start && n.eq(u - 1).attr("end") && (p.start = (0, d.convertSMPTEtoSeconds)(n.eq(u - 1).attr("end"))), n.eq(u).attr("end") && (p.stop = (0, d.convertSMPTEtoSeconds)(n.eq(u).attr("end"))), !p.stop && n.eq(u + 1).attr("begin") && (p.stop = (0, d.convertSMPTEtoSeconds)(n.eq(u + 1).attr("begin"))), r) {
                            f = "";
                            for (var m in r) f += m + ":" + r[m] + ";"
                        }
                        f && (p.style = f), 0 === p.start && (p.start = .2), p.text = n.eq(u).innerHTML.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi, "<a href='$1' target='_blank'>$1</a>"), i.push(p)
                    }
                    return i
                }
            }
        }
    }, {
        16: 16,
        2: 2,
        26: 26,
        27: 27,
        30: 30,
        5: 5,
        7: 7
    }],
    14: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = o(e(2)),
            r = e(16),
            a = o(r),
            s = o(e(5)),
            l = e(25),
            d = e(27),
            u = e(26);
        Object.assign(r.config, {
            muteText: null,
            unmuteText: null,
            allyVolumeControlText: null,
            hideVolumeOnTouchDevices: !0,
            audioVolume: "horizontal",
            videoVolume: "vertical",
            startVolume: .8
        }), Object.assign(a.default.prototype, {
            buildvolume: function(e, t, n, o) {
                if (!l.IS_ANDROID && !l.IS_IOS || !this.options.hideVolumeOnTouchDevices) {
                    var a = this,
                        c = a.isVideo ? a.options.videoVolume : a.options.audioVolume,
                        f = (0, d.isString)(a.options.muteText) ? a.options.muteText : s.default.t("mejs.mute"),
                        p = (0, d.isString)(a.options.unmuteText) ? a.options.unmuteText : s.default.t("mejs.unmute"),
                        m = (0, d.isString)(a.options.allyVolumeControlText) ? a.options.allyVolumeControlText : s.default.t("mejs.volume-help-text"),
                        h = i.default.createElement("div");
                    if (h.className = a.options.classPrefix + "button " + a.options.classPrefix + "volume-button " + a.options.classPrefix + "mute", h.innerHTML = "horizontal" === c ? '<button type="button" aria-controls="' + a.id + '" title="' + f + '" aria-label="' + f + '" tabindex="0"></button>' : '<button type="button" aria-controls="' + a.id + '" title="' + f + '" aria-label="' + f + '" tabindex="0"></button><a href="javascript:void(0);" class="' + a.options.classPrefix + 'volume-slider" aria-label="' + s.default.t("mejs.volume-slider") + '" aria-valuemin="0" aria-valuemax="100" role="slider" aria-orientation="vertical"><span class="' + a.options.classPrefix + 'offscreen">' + m + '</span><div class="' + a.options.classPrefix + 'volume-total"><div class="' + a.options.classPrefix + 'volume-current"></div><div class="' + a.options.classPrefix + 'volume-handle"></div></div></a>', a.addControlElement(h, "volume"), a.options.keyActions.push({
                            keys: [38],
                            action: function(e) {
                                var t = e.getElement(e.container).querySelector("." + r.config.classPrefix + "volume-slider");
                                (t || e.getElement(e.container).querySelector("." + r.config.classPrefix + "volume-slider").matches(":focus")) && (t.style.display = "block"), e.isVideo && (e.showControls(), e.startControlsTimer());
                                var n = Math.min(e.volume + .1, 1);
                                e.setVolume(n), n > 0 && e.setMuted(!1)
                            }
                        }, {
                            keys: [40],
                            action: function(e) {
                                var t = e.getElement(e.container).querySelector("." + r.config.classPrefix + "volume-slider");
                                t && (t.style.display = "block"), e.isVideo && (e.showControls(), e.startControlsTimer());
                                var n = Math.max(e.volume - .1, 0);
                                e.setVolume(n), n <= .1 && e.setMuted(!0)
                            }
                        }, {
                            keys: [77],
                            action: function(e) {
                                e.getElement(e.container).querySelector("." + r.config.classPrefix + "volume-slider").style.display = "block", e.isVideo && (e.showControls(), e.startControlsTimer()), e.media.muted ? e.setMuted(!1) : e.setMuted(!0)
                            }
                        }), "horizontal" === c) {
                        var v = i.default.createElement("a");
                        v.className = a.options.classPrefix + "horizontal-volume-slider", v.href = "javascript:void(0);", v.setAttribute("aria-label", s.default.t("mejs.volume-slider")), v.setAttribute("aria-valuemin", 0), v.setAttribute("aria-valuemax", 100), v.setAttribute("role", "slider"), v.innerHTML += '<span class="' + a.options.classPrefix + 'offscreen">' + m + '</span><div class="' + a.options.classPrefix + 'horizontal-volume-total"><div class="' + a.options.classPrefix + 'horizontal-volume-current"></div><div class="' + a.options.classPrefix + 'horizontal-volume-handle"></div></div>', h.parentNode.insertBefore(v, h.nextSibling)
                    }
                    var g = !1,
                        y = !1,
                        E = !1,
                        b = function() {
                            var e = Math.floor(100 * o.volume);
                            S.setAttribute("aria-valuenow", e), S.setAttribute("aria-valuetext", e + "%")
                        },
                        S = "vertical" === c ? a.getElement(a.container).querySelector("." + a.options.classPrefix + "volume-slider") : a.getElement(a.container).querySelector("." + a.options.classPrefix + "horizontal-volume-slider"),
                        x = "vertical" === c ? a.getElement(a.container).querySelector("." + a.options.classPrefix + "volume-total") : a.getElement(a.container).querySelector("." + a.options.classPrefix + "horizontal-volume-total"),
                        w = "vertical" === c ? a.getElement(a.container).querySelector("." + a.options.classPrefix + "volume-current") : a.getElement(a.container).querySelector("." + a.options.classPrefix + "horizontal-volume-current"),
                        P = "vertical" === c ? a.getElement(a.container).querySelector("." + a.options.classPrefix + "volume-handle") : a.getElement(a.container).querySelector("." + a.options.classPrefix + "horizontal-volume-handle"),
                        T = function(e) {
                            if (null !== e && !isNaN(e) && void 0 !== e) {
                                if (e = Math.max(0, e), 0 === (e = Math.min(e, 1))) {
                                    (0, u.removeClass)(h, a.options.classPrefix + "mute"), (0, u.addClass)(h, a.options.classPrefix + "unmute");
                                    var t = h.firstElementChild;
                                    t.setAttribute("title", p), t.setAttribute("aria-label", p)
                                } else {
                                    (0, u.removeClass)(h, a.options.classPrefix + "unmute"), (0, u.addClass)(h, a.options.classPrefix + "mute");
                                    var n = h.firstElementChild;
                                    n.setAttribute("title", f), n.setAttribute("aria-label", f)
                                }
                                var o = 100 * e + "%",
                                    i = getComputedStyle(P);
                                "vertical" === c ? (w.style.bottom = 0, w.style.height = o, P.style.bottom = o, P.style.marginBottom = -parseFloat(i.height) / 2 + "px") : (w.style.left = 0, w.style.width = o, P.style.left = o, P.style.marginLeft = -parseFloat(i.width) / 2 + "px")
                            }
                        },
                        C = function(e) {
                            var t = (0, u.offset)(x),
                                n = getComputedStyle(x);
                            E = !0;
                            var o = null;
                            if ("vertical" === c) {
                                var i = parseFloat(n.height);
                                if (o = (i - (e.pageY - t.top)) / i, 0 === t.top || 0 === t.left) return
                            } else {
                                var r = parseFloat(n.width);
                                o = (e.pageX - t.left) / r
                            }
                            o = Math.max(0, o), o = Math.min(o, 1), T(o), a.setMuted(0 === o), a.setVolume(o), e.preventDefault(), e.stopPropagation()
                        },
                        k = function() {
                            a.muted ? (T(0), (0, u.removeClass)(h, a.options.classPrefix + "mute"), (0, u.addClass)(h, a.options.classPrefix + "unmute")) : (T(o.volume), (0, u.removeClass)(h, a.options.classPrefix + "unmute"), (0, u.addClass)(h, a.options.classPrefix + "mute"))
                        };
                    e.getElement(e.container).addEventListener("keydown", function(e) {
                        !!e.target.closest("." + a.options.classPrefix + "container") || "vertical" !== c || (S.style.display = "none")
                    }), h.addEventListener("mouseenter", function(e) {
                        e.target === h && (S.style.display = "block", y = !0, e.preventDefault(), e.stopPropagation())
                    }), h.addEventListener("focusin", function() {
                        S.style.display = "block", y = !0
                    }), h.addEventListener("focusout", function(e) {
                        e.relatedTarget && (!e.relatedTarget || e.relatedTarget.matches("." + a.options.classPrefix + "volume-slider")) || "vertical" !== c || (S.style.display = "none")
                    }), h.addEventListener("mouseleave", function() {
                        y = !1, g || "vertical" !== c || (S.style.display = "none")
                    }), h.addEventListener("focusout", function() {
                        y = !1
                    }), h.addEventListener("keydown", function(e) {
                        if (a.options.keyActions.length) {
                            var t = e.which || e.keyCode || 0,
                                n = o.volume;
                            switch (t) {
                                case 38:
                                    n = Math.min(n + .1, 1);
                                    break;
                                case 40:
                                    n = Math.max(0, n - .1);
                                    break;
                                default:
                                    return !0
                            }
                            g = !1, T(n), o.setVolume(n), e.preventDefault(), e.stopPropagation()
                        }
                    }), h.querySelector("button").addEventListener("click", function() {
                        o.setMuted(!o.muted);
                        var e = (0, d.createEvent)("volumechange", o);
                        o.dispatchEvent(e)
                    }), S.addEventListener("dragstart", function() {
                        return !1
                    }), S.addEventListener("mouseover", function() {
                        y = !0
                    }), S.addEventListener("focusin", function() {
                        S.style.display = "block", y = !0
                    }), S.addEventListener("focusout", function() {
                        y = !1, g || "vertical" !== c || (S.style.display = "none")
                    }), S.addEventListener("mousedown", function(e) {
                        C(e), a.globalBind("mousemove.vol", function(e) {
                            var t = e.target;
                            g && (t === S || t.closest("vertical" === c ? "." + a.options.classPrefix + "volume-slider" : "." + a.options.classPrefix + "horizontal-volume-slider")) && C(e)
                        }), a.globalBind("mouseup.vol", function() {
                            g = !1, y || "vertical" !== c || (S.style.display = "none")
                        }), g = !0, e.preventDefault(), e.stopPropagation()
                    }), o.addEventListener("volumechange", function(e) {
                        g || k(), b()
                    });
                    var _ = !1;
                    o.addEventListener("rendererready", function() {
                        E || setTimeout(function() {
                            _ = !0, (0 === e.options.startVolume || o.originalNode.muted) && (o.setMuted(!0), e.options.startVolume = 0), o.setVolume(e.options.startVolume), a.setControlsSize()
                        }, 250)
                    }), o.addEventListener("loadedmetadata", function() {
                        setTimeout(function() {
                            E || _ || ((0 === e.options.startVolume || o.originalNode.muted) && (o.setMuted(!0), e.options.startVolume = 0), o.setVolume(e.options.startVolume), a.setControlsSize()), _ = !1
                        }, 250)
                    }), (0 === e.options.startVolume || o.originalNode.muted) && (o.setMuted(!0), e.options.startVolume = 0, k()), a.getElement(a.container).addEventListener("controlsresize", function() {
                        k()
                    })
                }
            }
        })
    }, {
        16: 16,
        2: 2,
        25: 25,
        26: 26,
        27: 27,
        5: 5
    }],
    15: [function(e, t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        n.EN = {
            "mejs.plural-form": 1,
            "mejs.download-file": "Download File",
            "mejs.install-flash": "You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/",
            "mejs.fullscreen": "Fullscreen",
            "mejs.play": "Play",
            "mejs.pause": "Pause",
            "mejs.time-slider": "Time Slider",
            "mejs.time-help-text": "Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.",
            "mejs.live-broadcast": "Live Broadcast",
            "mejs.volume-help-text": "Use Up/Down Arrow keys to increase or decrease volume.",
            "mejs.unmute": "Unmute",
            "mejs.mute": "Mute",
            "mejs.volume-slider": "Volume Slider",
            "mejs.video-player": "Video Player",
            "mejs.audio-player": "Audio Player",
            "mejs.captions-subtitles": "Captions/Subtitles",
            "mejs.captions-chapters": "Chapters",
            "mejs.none": "None",
            "mejs.afrikaans": "Afrikaans",
            "mejs.albanian": "Albanian",
            "mejs.arabic": "Arabic",
            "mejs.belarusian": "Belarusian",
            "mejs.bulgarian": "Bulgarian",
            "mejs.catalan": "Catalan",
            "mejs.chinese": "Chinese",
            "mejs.chinese-simplified": "Chinese (Simplified)",
            "mejs.chinese-traditional": "Chinese (Traditional)",
            "mejs.croatian": "Croatian",
            "mejs.czech": "Czech",
            "mejs.danish": "Danish",
            "mejs.dutch": "Dutch",
            "mejs.english": "English",
            "mejs.estonian": "Estonian",
            "mejs.filipino": "Filipino",
            "mejs.finnish": "Finnish",
            "mejs.french": "French",
            "mejs.galician": "Galician",
            "mejs.german": "German",
            "mejs.greek": "Greek",
            "mejs.haitian-creole": "Haitian Creole",
            "mejs.hebrew": "Hebrew",
            "mejs.hindi": "Hindi",
            "mejs.hungarian": "Hungarian",
            "mejs.icelandic": "Icelandic",
            "mejs.indonesian": "Indonesian",
            "mejs.irish": "Irish",
            "mejs.italian": "Italian",
            "mejs.japanese": "Japanese",
            "mejs.korean": "Korean",
            "mejs.latvian": "Latvian",
            "mejs.lithuanian": "Lithuanian",
            "mejs.macedonian": "Macedonian",
            "mejs.malay": "Malay",
            "mejs.maltese": "Maltese",
            "mejs.norwegian": "Norwegian",
            "mejs.persian": "Persian",
            "mejs.polish": "Polish",
            "mejs.portuguese": "Portuguese",
            "mejs.romanian": "Romanian",
            "mejs.russian": "Russian",
            "mejs.serbian": "Serbian",
            "mejs.slovak": "Slovak",
            "mejs.slovenian": "Slovenian",
            "mejs.spanish": "Spanish",
            "mejs.swahili": "Swahili",
            "mejs.swedish": "Swedish",
            "mejs.tagalog": "Tagalog",
            "mejs.thai": "Thai",
            "mejs.turkish": "Turkish",
            "mejs.ukrainian": "Ukrainian",
            "mejs.vietnamese": "Vietnamese",
            "mejs.welsh": "Welsh",
            "mejs.yiddish": "Yiddish"
        }
    }, {}],
    16: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.config = void 0;
        var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            a = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var o = t[n];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                    }
                }
                return function(t, n, o) {
                    return n && e(t.prototype, n), o && e(t, o), t
                }
            }(),
            s = o(e(3)),
            l = o(e(2)),
            d = o(e(7)),
            u = o(e(6)),
            c = o(e(17)),
            f = o(e(5)),
            p = e(25),
            m = e(27),
            h = e(30),
            v = e(28),
            g = function(e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e, t
            }(e(26));
        d.default.mepIndex = 0, d.default.players = {};
        var y = n.config = {
            poster: "",
            showPosterWhenEnded: !1,
            showPosterWhenPaused: !1,
            defaultVideoWidth: 480,
            defaultVideoHeight: 270,
            videoWidth: -1,
            videoHeight: -1,
            defaultAudioWidth: 400,
            defaultAudioHeight: 40,
            defaultSeekBackwardInterval: function(e) {
                return .05 * e.getDuration()
            },
            defaultSeekForwardInterval: function(e) {
                return .05 * e.getDuration()
            },
            setDimensions: !0,
            audioWidth: -1,
            audioHeight: -1,
            loop: !1,
            autoRewind: !0,
            enableAutosize: !0,
            timeFormat: "",
            alwaysShowHours: !1,
            showTimecodeFrameCount: !1,
            framesPerSecond: 25,
            alwaysShowControls: !1,
            hideVideoControlsOnLoad: !1,
            hideVideoControlsOnPause: !1,
            clickToPlayPause: !0,
            controlsTimeoutDefault: 1500,
            controlsTimeoutMouseEnter: 2500,
            controlsTimeoutMouseLeave: 1e3,
            iPadUseNativeControls: !1,
            iPhoneUseNativeControls: !1,
            AndroidUseNativeControls: !1,
            features: ["playpause", "current", "progress", "duration", "tracks", "volume", "fullscreen"],
            useDefaultControls: !1,
            isVideo: !0,
            stretching: "auto",
            classPrefix: "mejs__",
            enableKeyboard: !0,
            pauseOtherPlayers: !0,
            secondsDecimalLength: 0,
            customError: null,
            keyActions: [{
                keys: [32, 179],
                action: function(e) {
                    p.IS_FIREFOX || (e.paused || e.ended ? e.play() : e.pause())
                }
            }]
        };
        d.default.MepDefaults = y;
        var E = function() {
            function e(t, n) {
                i(this, e);
                var o = this,
                    r = "string" == typeof t ? l.default.getElementById(t) : t;
                if (!(o instanceof e)) return new e(r, n);
                if (o.node = o.media = r, o.node) {
                    if (o.media.player) return o.media.player;
                    if (o.hasFocus = !1, o.controlsAreVisible = !0, o.controlsEnabled = !0, o.controlsTimer = null, o.currentMediaTime = 0, o.proxy = null, void 0 === n) {
                        var a = o.node.getAttribute("data-mejsoptions");
                        n = a ? JSON.parse(a) : {}
                    }
                    return o.options = Object.assign({}, y, n), o.options.loop && !o.media.getAttribute("loop") ? (o.media.loop = !0, o.node.loop = !0) : o.media.loop && (o.options.loop = !0), o.options.timeFormat || (o.options.timeFormat = "mm:ss", o.options.alwaysShowHours && (o.options.timeFormat = "hh:mm:ss"), o.options.showTimecodeFrameCount && (o.options.timeFormat += ":ff")), (0, h.calculateTimeFormat)(0, o.options, o.options.framesPerSecond || 25), o.id = "mep_" + d.default.mepIndex++, d.default.players[o.id] = o, o.init(), o
                }
            }
            return a(e, [{
                key: "getElement",
                value: function(e) {
                    return e
                }
            }, {
                key: "init",
                value: function() {
                    var e = this,
                        t = Object.assign({}, e.options, {
                            success: function(t, n) {
                                e._meReady(t, n)
                            },
                            error: function(t) {
                                e._handleError(t)
                            }
                        }),
                        n = e.node.tagName.toLowerCase();
                    if (e.isDynamic = "audio" !== n && "video" !== n && "iframe" !== n, e.isVideo = e.isDynamic ? e.options.isVideo : "audio" !== n && e.options.isVideo, e.mediaFiles = null, e.trackFiles = null, p.IS_IPAD && e.options.iPadUseNativeControls || p.IS_IPHONE && e.options.iPhoneUseNativeControls) e.node.setAttribute("controls", !0), p.IS_IPAD && e.node.getAttribute("autoplay") && e.play();
                    else if (!e.isVideo && (e.isVideo || !e.options.features.length && !e.options.useDefaultControls) || p.IS_ANDROID && e.options.AndroidUseNativeControls) e.isVideo || e.options.features.length || e.options.useDefaultControls || (e.node.style.display = "none");
                    else {
                        e.node.removeAttribute("controls");
                        var o = e.isVideo ? f.default.t("mejs.video-player") : f.default.t("mejs.audio-player"),
                            i = l.default.createElement("span");
                        if (i.className = e.options.classPrefix + "offscreen", i.innerText = o, e.media.parentNode.insertBefore(i, e.media), e.container = l.default.createElement("div"), e.getElement(e.container).id = e.id, e.getElement(e.container).className = e.options.classPrefix + "container " + e.options.classPrefix + "container-keyboard-inactive " + e.media.className, e.getElement(e.container).tabIndex = 0, e.getElement(e.container).setAttribute("role", "application"), e.getElement(e.container).setAttribute("aria-label", o), e.getElement(e.container).innerHTML = '<div class="' + e.options.classPrefix + 'inner"><div class="' + e.options.classPrefix + 'mediaelement"></div><div class="' + e.options.classPrefix + 'layers"></div><div class="' + e.options.classPrefix + 'controls"></div></div>', e.getElement(e.container).addEventListener("focus", function(t) {
                                if (!e.controlsAreVisible && !e.hasFocus && e.controlsEnabled) {
                                    e.showControls(!0);
                                    var n = (0, m.isNodeAfter)(t.relatedTarget, e.getElement(e.container)) ? "." + e.options.classPrefix + "controls ." + e.options.classPrefix + "button:last-child > button" : "." + e.options.classPrefix + "playpause-button > button";
                                    e.getElement(e.container).querySelector(n).focus()
                                }
                            }), e.node.parentNode.insertBefore(e.getElement(e.container), e.node), e.options.features.length || e.options.useDefaultControls || (e.getElement(e.container).style.background = "transparent", e.getElement(e.container).querySelector("." + e.options.classPrefix + "controls").style.display = "none"), e.isVideo && "fill" === e.options.stretching && !g.hasClass(e.getElement(e.container).parentNode, e.options.classPrefix + "fill-container")) {
                            e.outerContainer = e.media.parentNode;
                            var r = l.default.createElement("div");
                            r.className = e.options.classPrefix + "fill-container", e.getElement(e.container).parentNode.insertBefore(r, e.getElement(e.container)), r.appendChild(e.getElement(e.container))
                        }
                        if (p.IS_ANDROID && g.addClass(e.getElement(e.container), e.options.classPrefix + "android"), p.IS_IOS && g.addClass(e.getElement(e.container), e.options.classPrefix + "ios"), p.IS_IPAD && g.addClass(e.getElement(e.container), e.options.classPrefix + "ipad"), p.IS_IPHONE && g.addClass(e.getElement(e.container), e.options.classPrefix + "iphone"), g.addClass(e.getElement(e.container), e.isVideo ? e.options.classPrefix + "video" : e.options.classPrefix + "audio"), p.IS_SAFARI && !p.IS_IOS) {
                            g.addClass(e.getElement(e.container), e.options.classPrefix + "hide-cues");
                            for (var a = e.node.cloneNode(), s = e.node.children, c = [], h = [], y = 0, E = s.length; y < E; y++) {
                                var b = s[y];
                                ! function() {
                                    switch (b.tagName.toLowerCase()) {
                                        case "source":
                                            var e = {};
                                            Array.prototype.slice.call(b.attributes).forEach(function(t) {
                                                e[t.name] = t.value
                                            }), e.type = (0, v.formatType)(e.src, e.type), c.push(e);
                                            break;
                                        case "track":
                                            b.mode = "hidden", h.push(b);
                                            break;
                                        default:
                                            a.appendChild(b)
                                    }
                                }()
                            }
                            e.node.remove(), e.node = e.media = a, c.length && (e.mediaFiles = c), h.length && (e.trackFiles = h)
                        }
                        e.getElement(e.container).querySelector("." + e.options.classPrefix + "mediaelement").appendChild(e.node), e.media.player = e, e.controls = e.getElement(e.container).querySelector("." + e.options.classPrefix + "controls"), e.layers = e.getElement(e.container).querySelector("." + e.options.classPrefix + "layers");
                        var S = e.isVideo ? "video" : "audio",
                            x = S.substring(0, 1).toUpperCase() + S.substring(1);
                        e.options[S + "Width"] > 0 || e.options[S + "Width"].toString().indexOf("%") > -1 ? e.width = e.options[S + "Width"] : "" !== e.node.style.width && null !== e.node.style.width ? e.width = e.node.style.width : e.node.getAttribute("width") ? e.width = e.node.getAttribute("width") : e.width = e.options["default" + x + "Width"], e.options[S + "Height"] > 0 || e.options[S + "Height"].toString().indexOf("%") > -1 ? e.height = e.options[S + "Height"] : "" !== e.node.style.height && null !== e.node.style.height ? e.height = e.node.style.height : e.node.getAttribute("height") ? e.height = e.node.getAttribute("height") : e.height = e.options["default" + x + "Height"], e.initialAspectRatio = e.height >= e.width ? e.width / e.height : e.height / e.width, e.setPlayerSize(e.width, e.height), t.pluginWidth = e.width, t.pluginHeight = e.height
                    }
                    if (d.default.MepDefaults = t, new u.default(e.media, t, e.mediaFiles), void 0 !== e.getElement(e.container) && e.options.features.length && e.controlsAreVisible && !e.options.hideVideoControlsOnLoad) {
                        var w = (0, m.createEvent)("controlsshown", e.getElement(e.container));
                        e.getElement(e.container).dispatchEvent(w)
                    }
                }
            }, {
                key: "showControls",
                value: function(e) {
                    var t = this;
                    if (e = void 0 === e || e, !t.controlsAreVisible && t.isVideo) {
                        if (e) ! function() {
                            g.fadeIn(t.getElement(t.controls), 200, function() {
                                g.removeClass(t.getElement(t.controls), t.options.classPrefix + "offscreen");
                                var e = (0, m.createEvent)("controlsshown", t.getElement(t.container));
                                t.getElement(t.container).dispatchEvent(e)
                            });
                            for (var e = t.getElement(t.container).querySelectorAll("." + t.options.classPrefix + "control"), n = 0, o = e.length; n < o; n++) ! function(n, o) {
                                g.fadeIn(e[n], 200, function() {
                                    g.removeClass(e[n], t.options.classPrefix + "offscreen")
                                })
                            }(n)
                        }();
                        else {
                            g.removeClass(t.getElement(t.controls), t.options.classPrefix + "offscreen"), t.getElement(t.controls).style.display = "", t.getElement(t.controls).style.opacity = 1;
                            for (var n = t.getElement(t.container).querySelectorAll("." + t.options.classPrefix + "control"), o = 0, i = n.length; o < i; o++) g.removeClass(n[o], t.options.classPrefix + "offscreen"), n[o].style.display = "";
                            var r = (0, m.createEvent)("controlsshown", t.getElement(t.container));
                            t.getElement(t.container).dispatchEvent(r)
                        }
                        t.controlsAreVisible = !0, t.setControlsSize()
                    }
                }
            }, {
                key: "hideControls",
                value: function(e, t) {
                    var n = this;
                    if (e = void 0 === e || e, !0 === t || !(!n.controlsAreVisible || n.options.alwaysShowControls || n.paused && 4 === n.readyState && (!n.options.hideVideoControlsOnLoad && n.currentTime <= 0 || !n.options.hideVideoControlsOnPause && n.currentTime > 0) || n.isVideo && !n.options.hideVideoControlsOnLoad && !n.readyState || n.ended)) {
                        if (e) ! function() {
                            g.fadeOut(n.getElement(n.controls), 200, function() {
                                g.addClass(n.getElement(n.controls), n.options.classPrefix + "offscreen"), n.getElement(n.controls).style.display = "";
                                var e = (0, m.createEvent)("controlshidden", n.getElement(n.container));
                                n.getElement(n.container).dispatchEvent(e)
                            });
                            for (var e = n.getElement(n.container).querySelectorAll("." + n.options.classPrefix + "control"), t = 0, o = e.length; t < o; t++) ! function(t, o) {
                                g.fadeOut(e[t], 200, function() {
                                    g.addClass(e[t], n.options.classPrefix + "offscreen"), e[t].style.display = ""
                                })
                            }(t)
                        }();
                        else {
                            g.addClass(n.getElement(n.controls), n.options.classPrefix + "offscreen"), n.getElement(n.controls).style.display = "", n.getElement(n.controls).style.opacity = 0;
                            for (var o = n.getElement(n.container).querySelectorAll("." + n.options.classPrefix + "control"), i = 0, r = o.length; i < r; i++) g.addClass(o[i], n.options.classPrefix + "offscreen"), o[i].style.display = "";
                            var a = (0, m.createEvent)("controlshidden", n.getElement(n.container));
                            n.getElement(n.container).dispatchEvent(a)
                        }
                        n.controlsAreVisible = !1
                    }
                }
            }, {
                key: "startControlsTimer",
                value: function(e) {
                    var t = this;
                    e = void 0 !== e ? e : t.options.controlsTimeoutDefault, t.killControlsTimer("start"), t.controlsTimer = setTimeout(function() {
                        t.hideControls(), t.killControlsTimer("hide")
                    }, e)
                }
            }, {
                key: "killControlsTimer",
                value: function() {
                    var e = this;
                    null !== e.controlsTimer && (clearTimeout(e.controlsTimer), delete e.controlsTimer, e.controlsTimer = null)
                }
            }, {
                key: "disableControls",
                value: function() {
                    var e = this;
                    e.killControlsTimer(), e.controlsEnabled = !1, e.hideControls(!1, !0)
                }
            }, {
                key: "enableControls",
                value: function() {
                    var e = this;
                    e.controlsEnabled = !0, e.showControls(!1)
                }
            }, {
                key: "_setDefaultPlayer",
                value: function() {
                    var e = this;
                    e.proxy && e.proxy.pause(), e.proxy = new c.default(e), e.media.addEventListener("loadedmetadata", function() {
                        e.getCurrentTime() > 0 && e.currentMediaTime > 0 && (e.setCurrentTime(e.currentMediaTime), p.IS_IOS || p.IS_ANDROID || e.play())
                    })
                }
            }, {
                key: "_meReady",
                value: function(e, t) {
                    var n = this,
                        o = t.getAttribute("autoplay"),
                        i = !(void 0 === o || null === o || "false" === o),
                        r = null !== e.rendererName && /(native|html5)/i.test(n.media.rendererName);
                    if (n.getElement(n.controls) && n.enableControls(), n.getElement(n.container) && n.getElement(n.container).querySelector("." + n.options.classPrefix + "overlay-play") && (n.getElement(n.container).querySelector("." + n.options.classPrefix + "overlay-play").style.display = ""), !n.created) {
                        if (n.created = !0, n.media = e, n.domNode = t, !(p.IS_ANDROID && n.options.AndroidUseNativeControls || p.IS_IPAD && n.options.iPadUseNativeControls || p.IS_IPHONE && n.options.iPhoneUseNativeControls)) {
                            if (!n.isVideo && !n.options.features.length && !n.options.useDefaultControls) return i && r && n.play(), void(n.options.success && ("string" == typeof n.options.success ? s.default[n.options.success](n.media, n.domNode, n) : n.options.success(n.media, n.domNode, n)));
                            if (n.featurePosition = {}, n._setDefaultPlayer(), n.buildposter(n, n.getElement(n.controls), n.getElement(n.layers), n.media), n.buildkeyboard(n, n.getElement(n.controls), n.getElement(n.layers), n.media), n.buildoverlays(n, n.getElement(n.controls), n.getElement(n.layers), n.media), n.options.useDefaultControls) {
                                var a = ["playpause", "current", "progress", "duration", "tracks", "volume", "fullscreen"];
                                n.options.features = a.concat(n.options.features.filter(function(e) {
                                    return -1 === a.indexOf(e)
                                }))
                            }
                            n.buildfeatures(n, n.getElement(n.controls), n.getElement(n.layers), n.media);
                            var u = (0, m.createEvent)("controlsready", n.getElement(n.container));
                            n.getElement(n.container).dispatchEvent(u), n.setPlayerSize(n.width, n.height), n.setControlsSize(), n.isVideo && (n.clickToPlayPauseCallback = function() {
                                if (n.options.clickToPlayPause) {
                                    var e = n.getElement(n.container).querySelector("." + n.options.classPrefix + "overlay-button"),
                                        t = e.getAttribute("aria-pressed");
                                    n.paused && t ? n.pause() : n.paused ? n.play() : n.pause(), e.setAttribute("aria-pressed", !t), n.getElement(n.container).focus()
                                }
                            }, n.createIframeLayer(), n.media.addEventListener("click", n.clickToPlayPauseCallback), !p.IS_ANDROID && !p.IS_IOS || n.options.alwaysShowControls ? (n.getElement(n.container).addEventListener("mouseenter", function() {
                                n.controlsEnabled && (n.options.alwaysShowControls || (n.killControlsTimer("enter"), n.showControls(), n.startControlsTimer(n.options.controlsTimeoutMouseEnter)))
                            }), n.getElement(n.container).addEventListener("mousemove", function() {
                                n.controlsEnabled && (n.controlsAreVisible || n.showControls(), n.options.alwaysShowControls || n.startControlsTimer(n.options.controlsTimeoutMouseEnter))
                            }), n.getElement(n.container).addEventListener("mouseleave", function() {
                                n.controlsEnabled && (n.paused || n.options.alwaysShowControls || n.startControlsTimer(n.options.controlsTimeoutMouseLeave))
                            })) : n.node.addEventListener("touchstart", function() {
                                n.controlsAreVisible ? n.hideControls(!1) : n.controlsEnabled && n.showControls(!1)
                            }, !!p.SUPPORT_PASSIVE_EVENT && {
                                passive: !0
                            }), n.options.hideVideoControlsOnLoad && n.hideControls(!1), n.options.enableAutosize && n.media.addEventListener("loadedmetadata", function(e) {
                                var t = void 0 !== e ? e.detail.target || e.target : n.media;
                                n.options.videoHeight <= 0 && !n.domNode.getAttribute("height") && !n.domNode.style.height && null !== t && !isNaN(t.videoHeight) && (n.setPlayerSize(t.videoWidth, t.videoHeight), n.setControlsSize(), n.media.setSize(t.videoWidth, t.videoHeight))
                            })), n.media.addEventListener("play", function() {
                                n.hasFocus = !0;
                                for (var e in d.default.players)
                                    if (d.default.players.hasOwnProperty(e)) {
                                        var t = d.default.players[e];
                                        t.id === n.id || !n.options.pauseOtherPlayers || t.paused || t.ended || (t.pause(), t.hasFocus = !1)
                                    }
                                p.IS_ANDROID || p.IS_IOS || n.options.alwaysShowControls || !n.isVideo || n.hideControls()
                            }), n.media.addEventListener("ended", function() {
                                if (n.options.autoRewind) try {
                                    n.setCurrentTime(0), setTimeout(function() {
                                        var e = n.getElement(n.container).querySelector("." + n.options.classPrefix + "overlay-loading");
                                        e && e.parentNode && (e.parentNode.style.display = "none")
                                    }, 20)
                                } catch (e) {}
                                "function" == typeof n.media.renderer.stop ? n.media.renderer.stop() : n.pause(), n.setProgressRail && n.setProgressRail(), n.setCurrentRail && n.setCurrentRail(), n.options.loop ? n.play() : !n.options.alwaysShowControls && n.controlsEnabled && n.showControls()
                            }), n.media.addEventListener("loadedmetadata", function() {
                                (0, h.calculateTimeFormat)(n.getDuration(), n.options, n.options.framesPerSecond || 25), n.updateDuration && n.updateDuration(), n.updateCurrent && n.updateCurrent(), n.isFullScreen || (n.setPlayerSize(n.width, n.height), n.setControlsSize())
                            });
                            var c = null;
                            n.media.addEventListener("timeupdate", function() {
                                isNaN(n.getDuration()) || c === n.getDuration() || (c = n.getDuration(), (0, h.calculateTimeFormat)(c, n.options, n.options.framesPerSecond || 25), n.updateDuration && n.updateDuration(), n.updateCurrent && n.updateCurrent(), n.setControlsSize())
                            }), n.getElement(n.container).addEventListener("click", function(e) {
                                g.addClass(e.currentTarget, n.options.classPrefix + "container-keyboard-inactive")
                            }), n.getElement(n.container).addEventListener("focusin", function(e) {
                                g.removeClass(e.currentTarget, n.options.classPrefix + "container-keyboard-inactive"), !n.isVideo || p.IS_ANDROID || p.IS_IOS || !n.controlsEnabled || n.options.alwaysShowControls || (n.killControlsTimer("enter"), n.showControls(), n.startControlsTimer(n.options.controlsTimeoutMouseEnter))
                            }), n.getElement(n.container).addEventListener("focusout", function(e) {
                                setTimeout(function() {
                                    e.relatedTarget && n.keyboardAction && !e.relatedTarget.closest("." + n.options.classPrefix + "container") && (n.keyboardAction = !1, !n.isVideo || n.options.alwaysShowControls || n.paused || n.startControlsTimer(n.options.controlsTimeoutMouseLeave))
                                }, 0)
                            }), setTimeout(function() {
                                n.setPlayerSize(n.width, n.height), n.setControlsSize()
                            }, 0), n.globalResizeCallback = function() {
                                n.isFullScreen || p.HAS_TRUE_NATIVE_FULLSCREEN && l.default.webkitIsFullScreen || n.setPlayerSize(n.width, n.height), n.setControlsSize()
                            }, n.globalBind("resize", n.globalResizeCallback)
                        }
                        i && r && n.play(), n.options.success && ("string" == typeof n.options.success ? s.default[n.options.success](n.media, n.domNode, n) : n.options.success(n.media, n.domNode, n))
                    }
                }
            }, {
                key: "_handleError",
                value: function(e, t, n) {
                    var o = this,
                        i = o.getElement(o.layers).querySelector("." + o.options.classPrefix + "overlay-play");
                    i && (i.style.display = "none"), o.options.error && o.options.error(e, t, n), o.getElement(o.container).querySelector("." + o.options.classPrefix + "cannotplay") && o.getElement(o.container).querySelector("." + o.options.classPrefix + "cannotplay").remove();
                    var r = l.default.createElement("div");
                    r.className = o.options.classPrefix + "cannotplay", r.style.width = "100%", r.style.height = "100%";
                    var a = "function" == typeof o.options.customError ? o.options.customError(o.media, o.media.originalNode) : o.options.customError,
                        s = "";
                    if (!a) {
                        var u = o.media.originalNode.getAttribute("poster");
                        if (u && (s = '<img src="' + u + '" alt="' + d.default.i18n.t("mejs.download-file") + '">'), e.message && (a = "<p>" + e.message + "</p>"), e.urls)
                            for (var c = 0, f = e.urls.length; c < f; c++) {
                                var p = e.urls[c];
                                a += '<a href="' + p.src + '" data-type="' + p.type + '"><span>' + d.default.i18n.t("mejs.download-file") + ": " + p.src + "</span></a>"
                            }
                    }
                    a && o.getElement(o.layers).querySelector("." + o.options.classPrefix + "overlay-error") && (r.innerHTML = a, o.getElement(o.layers).querySelector("." + o.options.classPrefix + "overlay-error").innerHTML = "" + s + r.outerHTML, o.getElement(o.layers).querySelector("." + o.options.classPrefix + "overlay-error").parentNode.style.display = "block"), o.controlsEnabled && o.disableControls()
                }
            }, {
                key: "setPlayerSize",
                value: function(e, t) {
                    var n = this;
                    if (!n.options.setDimensions) return !1;
                    switch (void 0 !== e && (n.width = e), void 0 !== t && (n.height = t), n.options.stretching) {
                        case "fill":
                            n.isVideo ? n.setFillMode() : n.setDimensions(n.width, n.height);
                            break;
                        case "responsive":
                            n.setResponsiveMode();
                            break;
                        case "none":
                            n.setDimensions(n.width, n.height);
                            break;
                        default:
                            !0 === n.hasFluidMode() ? n.setResponsiveMode() : n.setDimensions(n.width, n.height)
                    }
                }
            }, {
                key: "hasFluidMode",
                value: function() {
                    var e = this;
                    return -1 !== e.height.toString().indexOf("%") || e.node && e.node.style.maxWidth && "none" !== e.node.style.maxWidth && e.node.style.maxWidth !== e.width || e.node && e.node.currentStyle && "100%" === e.node.currentStyle.maxWidth
                }
            }, {
                key: "setResponsiveMode",
                value: function() {
                    var e = this,
                        t = function() {
                            for (var t = void 0, n = e.getElement(e.container); n;) {
                                try {
                                    if (p.IS_FIREFOX && "html" === n.tagName.toLowerCase() && s.default.self !== s.default.top && null !== s.default.frameElement) return s.default.frameElement;
                                    t = n.parentElement
                                } catch (e) {
                                    t = n.parentElement
                                }
                                if (t && g.visible(t)) return t;
                                n = t
                            }
                            return null
                        }(),
                        n = t ? getComputedStyle(t, null) : getComputedStyle(l.default.body, null),
                        o = e.isVideo ? e.media.videoWidth && e.media.videoWidth > 0 ? e.media.videoWidth : e.node.getAttribute("width") ? e.node.getAttribute("width") : e.options.defaultVideoWidth : e.options.defaultAudioWidth,
                        i = e.isVideo ? e.media.videoHeight && e.media.videoHeight > 0 ? e.media.videoHeight : e.node.getAttribute("height") ? e.node.getAttribute("height") : e.options.defaultVideoHeight : e.options.defaultAudioHeight,
                        r = function() {
                            var t = 1;
                            return e.isVideo ? (t = e.media.videoWidth && e.media.videoWidth > 0 && e.media.videoHeight && e.media.videoHeight > 0 ? e.height >= e.width ? e.media.videoWidth / e.media.videoHeight : e.media.videoHeight / e.media.videoWidth : e.initialAspectRatio, (isNaN(t) || t < .01 || t > 100) && (t = 1), t) : t
                        }(),
                        a = parseFloat(n.height),
                        d = void 0,
                        u = parseFloat(n.width);
                    if (d = e.isVideo ? "100%" === e.height ? parseFloat(u * i / o, 10) : e.height >= e.width ? parseFloat(u / r, 10) : parseFloat(u * r, 10) : i, isNaN(d) && (d = a), e.getElement(e.container).parentNode.length > 0 && "body" === e.getElement(e.container).parentNode.tagName.toLowerCase() && (u = s.default.innerWidth || l.default.documentElement.clientWidth || l.default.body.clientWidth, d = s.default.innerHeight || l.default.documentElement.clientHeight || l.default.body.clientHeight), d && u) {
                        e.getElement(e.container).style.width = u + "px", e.getElement(e.container).style.height = d + "px", e.node.style.width = "100%", e.node.style.height = "100%", e.isVideo && e.media.setSize && e.media.setSize(u, d);
                        for (var c = e.getElement(e.layers).children, f = 0, m = c.length; f < m; f++) c[f].style.width = "100%", c[f].style.height = "100%"
                    }
                }
            }, {
                key: "setFillMode",
                value: function() {
                    var e = this,
                        t = s.default.self !== s.default.top && null !== s.default.frameElement,
                        n = function() {
                            for (var t = void 0, n = e.getElement(e.container); n;) {
                                try {
                                    if (p.IS_FIREFOX && "html" === n.tagName.toLowerCase() && s.default.self !== s.default.top && null !== s.default.frameElement) return s.default.frameElement;
                                    t = n.parentElement
                                } catch (e) {
                                    t = n.parentElement
                                }
                                if (t && g.visible(t)) return t;
                                n = t
                            }
                            return null
                        }(),
                        o = n ? getComputedStyle(n, null) : getComputedStyle(l.default.body, null);
                    "none" !== e.node.style.height && e.node.style.height !== e.height && (e.node.style.height = "auto"), "none" !== e.node.style.maxWidth && e.node.style.maxWidth !== e.width && (e.node.style.maxWidth = "none"), "none" !== e.node.style.maxHeight && e.node.style.maxHeight !== e.height && (e.node.style.maxHeight = "none"), e.node.currentStyle && ("100%" === e.node.currentStyle.height && (e.node.currentStyle.height = "auto"), "100%" === e.node.currentStyle.maxWidth && (e.node.currentStyle.maxWidth = "none"), "100%" === e.node.currentStyle.maxHeight && (e.node.currentStyle.maxHeight = "none")), t || parseFloat(o.width) || (n.style.width = e.media.offsetWidth + "px"), t || parseFloat(o.height) || (n.style.height = e.media.offsetHeight + "px"), o = getComputedStyle(n);
                    var i = parseFloat(o.width),
                        r = parseFloat(o.height);
                    e.setDimensions("100%", "100%");
                    var a = e.getElement(e.container).querySelector("." + e.options.classPrefix + "poster>img");
                    a && (a.style.display = "");
                    for (var d = e.getElement(e.container).querySelectorAll("object, embed, iframe, video"), u = e.height, c = e.width, f = i, m = u * i / c, h = c * r / u, v = r, y = h > i == !1, E = y ? Math.floor(f) : Math.floor(h), b = y ? Math.floor(m) : Math.floor(v), S = y ? i + "px" : E + "px", x = y ? b + "px" : r + "px", w = 0, P = d.length; w < P; w++) d[w].style.height = x, d[w].style.width = S, e.media.setSize && e.media.setSize(S, x), d[w].style.marginLeft = Math.floor((i - E) / 2) + "px", d[w].style.marginTop = 0
                }
            }, {
                key: "setDimensions",
                value: function(e, t) {
                    var n = this;
                    e = (0, m.isString)(e) && e.indexOf("%") > -1 ? e : parseFloat(e) + "px", t = (0, m.isString)(t) && t.indexOf("%") > -1 ? t : parseFloat(t) + "px", n.getElement(n.container).style.width = e, n.getElement(n.container).style.height = t;
                    for (var o = n.getElement(n.layers).children, i = 0, r = o.length; i < r; i++) o[i].style.width = e, o[i].style.height = t
                }
            }, {
                key: "setControlsSize",
                value: function() {
                    var e = this;
                    if (g.visible(e.getElement(e.container)))
                        if (e.rail && g.visible(e.rail)) {
                            for (var t = e.total ? getComputedStyle(e.total, null) : null, n = t ? parseFloat(t.marginLeft) + parseFloat(t.marginRight) : 0, o = getComputedStyle(e.rail), i = parseFloat(o.marginLeft) + parseFloat(o.marginRight), r = 0, a = g.siblings(e.rail, function(t) {
                                    return t !== e.rail
                                }), s = a.length, l = 0; l < s; l++) r += a[l].offsetWidth;
                            r += n + (0 === n ? 2 * i : i) + 1, e.getElement(e.container).style.minWidth = r + "px";
                            var d = (0, m.createEvent)("controlsresize", e.getElement(e.container));
                            e.getElement(e.container).dispatchEvent(d)
                        } else {
                            for (var u = e.getElement(e.controls).children, c = 0, f = 0, p = u.length; f < p; f++) c += u[f].offsetWidth;
                            e.getElement(e.container).style.minWidth = c + "px"
                        }
                }
            }, {
                key: "addControlElement",
                value: function(e, t) {
                    var n = this;
                    if (void 0 !== n.featurePosition[t]) {
                        var o = n.getElement(n.controls).children[n.featurePosition[t] - 1];
                        o.parentNode.insertBefore(e, o.nextSibling)
                    } else {
                        n.getElement(n.controls).appendChild(e);
                        for (var i = n.getElement(n.controls).children, r = 0, a = i.length; r < a; r++)
                            if (e === i[r]) {
                                n.featurePosition[t] = r;
                                break
                            }
                    }
                }
            }, {
                key: "createIframeLayer",
                value: function() {
                    var e = this;
                    if (e.isVideo && null !== e.media.rendererName && e.media.rendererName.indexOf("iframe") > -1 && !l.default.getElementById(e.media.id + "-iframe-overlay")) {
                        var t = l.default.createElement("div"),
                            n = l.default.getElementById(e.media.id + "_" + e.media.rendererName);
                        t.id = e.media.id + "-iframe-overlay", t.className = e.options.classPrefix + "iframe-overlay", t.addEventListener("click", function(t) {
                            e.options.clickToPlayPause && (e.paused ? e.play() : e.pause(), t.preventDefault(), t.stopPropagation())
                        }), n.parentNode.insertBefore(t, n)
                    }
                }
            }, {
                key: "resetSize",
                value: function() {
                    var e = this;
                    setTimeout(function() {
                        e.setPlayerSize(e.width, e.height), e.setControlsSize()
                    }, 50)
                }
            }, {
                key: "setPoster",
                value: function(e) {
                    var t = this;
                    if (t.getElement(t.container)) {
                        var n = t.getElement(t.container).querySelector("." + t.options.classPrefix + "poster");
                        n || ((n = l.default.createElement("div")).className = t.options.classPrefix + "poster " + t.options.classPrefix + "layer", t.getElement(t.layers).appendChild(n));
                        var o = n.querySelector("img");
                        !o && e && ((o = l.default.createElement("img")).className = t.options.classPrefix + "poster-img", o.width = "100%", o.height = "100%", n.style.display = "", n.appendChild(o)), e ? (o.setAttribute("src", e), n.style.backgroundImage = 'url("' + e + '")', n.style.display = "") : o ? (n.style.backgroundImage = "none", n.style.display = "none", o.remove()) : n.style.display = "none"
                    } else(p.IS_IPAD && t.options.iPadUseNativeControls || p.IS_IPHONE && t.options.iPhoneUseNativeControls || p.IS_ANDROID && t.options.AndroidUseNativeControls) && (t.media.originalNode.poster = e)
                }
            }, {
                key: "changeSkin",
                value: function(e) {
                    var t = this;
                    t.getElement(t.container).className = t.options.classPrefix + "container " + e, t.setPlayerSize(t.width, t.height), t.setControlsSize()
                }
            }, {
                key: "globalBind",
                value: function(e, t) {
                    var n = this,
                        o = n.node ? n.node.ownerDocument : l.default;
                    if ((e = (0, m.splitEvents)(e, n.id)).d)
                        for (var i = e.d.split(" "), r = 0, a = i.length; r < a; r++) i[r].split(".").reduce(function(e, n) {
                            return o.addEventListener(n, t, !1), n
                        }, "");
                    if (e.w)
                        for (var d = e.w.split(" "), u = 0, c = d.length; u < c; u++) d[u].split(".").reduce(function(e, n) {
                            return s.default.addEventListener(n, t, !1), n
                        }, "")
                }
            }, {
                key: "globalUnbind",
                value: function(e, t) {
                    var n = this,
                        o = n.node ? n.node.ownerDocument : l.default;
                    if ((e = (0, m.splitEvents)(e, n.id)).d)
                        for (var i = e.d.split(" "), r = 0, a = i.length; r < a; r++) i[r].split(".").reduce(function(e, n) {
                            return o.removeEventListener(n, t, !1), n
                        }, "");
                    if (e.w)
                        for (var d = e.w.split(" "), u = 0, c = d.length; u < c; u++) d[u].split(".").reduce(function(e, n) {
                            return s.default.removeEventListener(n, t, !1), n
                        }, "")
                }
            }, {
                key: "buildfeatures",
                value: function(e, t, n, o) {
                    for (var i = this, r = 0, a = i.options.features.length; r < a; r++) {
                        var s = i.options.features[r];
                        if (i["build" + s]) try {
                            i["build" + s](e, t, n, o)
                        } catch (e) {
                            console.error("error building " + s, e)
                        }
                    }
                }
            }, {
                key: "buildposter",
                value: function(e, t, n, o) {
                    var i = this,
                        r = l.default.createElement("div");
                    r.className = i.options.classPrefix + "poster " + i.options.classPrefix + "layer", n.appendChild(r);
                    var a = o.originalNode.getAttribute("poster");
                    "" !== e.options.poster && (a && p.IS_IOS && o.originalNode.removeAttribute("poster"), a = e.options.poster), a ? i.setPoster(a) : null !== i.media.renderer && "function" == typeof i.media.renderer.getPosterUrl ? i.setPoster(i.media.renderer.getPosterUrl()) : r.style.display = "none", o.addEventListener("play", function() {
                        r.style.display = "none"
                    }), o.addEventListener("playing", function() {
                        r.style.display = "none"
                    }), e.options.showPosterWhenEnded && e.options.autoRewind && o.addEventListener("ended", function() {
                        r.style.display = ""
                    }), o.addEventListener("error", function() {
                        r.style.display = "none"
                    }), e.options.showPosterWhenPaused && o.addEventListener("pause", function() {
                        e.ended || (r.style.display = "")
                    })
                }
            }, {
                key: "buildoverlays",
                value: function(e, t, n, o) {
                    if (e.isVideo) {
                        var i = this,
                            r = l.default.createElement("div"),
                            a = l.default.createElement("div"),
                            s = l.default.createElement("div");
                        r.style.display = "none", r.className = i.options.classPrefix + "overlay " + i.options.classPrefix + "layer", r.innerHTML = '<div class="' + i.options.classPrefix + 'overlay-loading"><span class="' + i.options.classPrefix + 'overlay-loading-bg-img"></span></div>', n.appendChild(r), a.style.display = "none", a.className = i.options.classPrefix + "overlay " + i.options.classPrefix + "layer", a.innerHTML = '<div class="' + i.options.classPrefix + 'overlay-error"></div>', n.appendChild(a), s.className = i.options.classPrefix + "overlay " + i.options.classPrefix + "layer " + i.options.classPrefix + "overlay-play", s.innerHTML = '<div class="' + i.options.classPrefix + 'overlay-button" role="button" tabindex="0" aria-label="' + f.default.t("mejs.play") + '" aria-pressed="false"></div>', s.addEventListener("click", function() {
                            if (i.options.clickToPlayPause) {
                                var e = i.getElement(i.container).querySelector("." + i.options.classPrefix + "overlay-button"),
                                    t = e.getAttribute("aria-pressed");
                                i.paused ? i.play() : i.pause(), e.setAttribute("aria-pressed", !!t), i.getElement(i.container).focus()
                            }
                        }), s.addEventListener("keydown", function(e) {
                            var t = e.keyCode || e.which || 0;
                            if (13 === t || p.IS_FIREFOX && 32 === t) {
                                var n = (0, m.createEvent)("click", s);
                                return s.dispatchEvent(n), !1
                            }
                        }), n.appendChild(s), null !== i.media.rendererName && (/(youtube|facebook)/i.test(i.media.rendererName) && !(i.media.originalNode.getAttribute("poster") || e.options.poster || "function" == typeof i.media.renderer.getPosterUrl && i.media.renderer.getPosterUrl()) || p.IS_STOCK_ANDROID || i.media.originalNode.getAttribute("autoplay")) && (s.style.display = "none");
                        var d = !1;
                        o.addEventListener("play", function() {
                            s.style.display = "none", r.style.display = "none", a.style.display = "none", d = !1
                        }), o.addEventListener("playing", function() {
                            s.style.display = "none", r.style.display = "none", a.style.display = "none", d = !1
                        }), o.addEventListener("seeking", function() {
                            s.style.display = "none", r.style.display = "", d = !1
                        }), o.addEventListener("seeked", function() {
                            s.style.display = i.paused && !p.IS_STOCK_ANDROID ? "" : "none", r.style.display = "none", d = !1
                        }), o.addEventListener("pause", function() {
                            r.style.display = "none", p.IS_STOCK_ANDROID || d || (s.style.display = ""), d = !1
                        }), o.addEventListener("waiting", function() {
                            r.style.display = "", d = !1
                        }), o.addEventListener("loadeddata", function() {
                            r.style.display = "", p.IS_ANDROID && (o.canplayTimeout = setTimeout(function() {
                                if (l.default.createEvent) {
                                    var e = l.default.createEvent("HTMLEvents");
                                    return e.initEvent("canplay", !0, !0), o.dispatchEvent(e)
                                }
                            }, 300)), d = !1
                        }), o.addEventListener("canplay", function() {
                            r.style.display = "none", clearTimeout(o.canplayTimeout), d = !1
                        }), o.addEventListener("error", function(e) {
                            i._handleError(e, i.media, i.node), r.style.display = "none", s.style.display = "none", d = !0
                        }), o.addEventListener("loadedmetadata", function() {
                            i.controlsEnabled || i.enableControls()
                        }), o.addEventListener("keydown", function(t) {
                            i.onkeydown(e, o, t), d = !1
                        })
                    }
                }
            }, {
                key: "buildkeyboard",
                value: function(e, t, n, o) {
                    var i = this;
                    i.getElement(i.container).addEventListener("keydown", function() {
                        i.keyboardAction = !0
                    }), i.globalKeydownCallback = function(t) {
                        var n = l.default.activeElement.closest("." + i.options.classPrefix + "container"),
                            r = i.media.closest("." + i.options.classPrefix + "container");
                        return i.hasFocus = !(!n || !r || n.id !== r.id), i.onkeydown(e, o, t)
                    }, i.globalClickCallback = function(e) {
                        i.hasFocus = !!e.target.closest("." + i.options.classPrefix + "container")
                    }, i.globalBind("keydown", i.globalKeydownCallback), i.globalBind("click", i.globalClickCallback)
                }
            }, {
                key: "onkeydown",
                value: function(e, t, n) {
                    if (e.hasFocus && e.options.enableKeyboard)
                        for (var o = 0, i = e.options.keyActions.length; o < i; o++)
                            for (var r = e.options.keyActions[o], a = 0, s = r.keys.length; a < s; a++)
                                if (n.keyCode === r.keys[a]) return r.action(e, t, n.keyCode, n), n.preventDefault(), void n.stopPropagation();
                    return !0
                }
            }, {
                key: "play",
                value: function() {
                    this.proxy.play()
                }
            }, {
                key: "pause",
                value: function() {
                    this.proxy.pause()
                }
            }, {
                key: "load",
                value: function() {
                    this.proxy.load()
                }
            }, {
                key: "setCurrentTime",
                value: function(e) {
                    this.proxy.setCurrentTime(e)
                }
            }, {
                key: "getCurrentTime",
                value: function() {
                    return this.proxy.currentTime
                }
            }, {
                key: "getDuration",
                value: function() {
                    return this.proxy.duration
                }
            }, {
                key: "setVolume",
                value: function(e) {
                    this.proxy.volume = e
                }
            }, {
                key: "getVolume",
                value: function() {
                    return this.proxy.getVolume()
                }
            }, {
                key: "setMuted",
                value: function(e) {
                    this.proxy.setMuted(e)
                }
            }, {
                key: "setSrc",
                value: function(e) {
                    this.controlsEnabled || this.enableControls(), this.proxy.setSrc(e)
                }
            }, {
                key: "getSrc",
                value: function() {
                    return this.proxy.getSrc()
                }
            }, {
                key: "canPlayType",
                value: function(e) {
                    return this.proxy.canPlayType(e)
                }
            }, {
                key: "remove",
                value: function() {
                    var e = this,
                        t = e.media.rendererName,
                        n = e.media.originalNode.src;
                    for (var o in e.options.features) {
                        var i = e.options.features[o];
                        if (e["clean" + i]) try {
                            e["clean" + i](e, e.getElement(e.layers), e.getElement(e.controls), e.media)
                        } catch (e) {
                            console.error("error cleaning " + i, e)
                        }
                    }
                    var a = e.node.getAttribute("width"),
                        s = e.node.getAttribute("height");
                    a ? -1 === a.indexOf("%") && (a += "px") : a = "auto", s ? -1 === s.indexOf("%") && (s += "px") : s = "auto", e.node.style.width = a, e.node.style.height = s, e.setPlayerSize(0, 0), e.isDynamic ? e.getElement(e.container).parentNode.insertBefore(e.node, e.getElement(e.container)) : function() {
                        e.node.setAttribute("controls", !0), e.node.setAttribute("id", e.node.getAttribute("id").replace("_" + t, "").replace("_from_mejs", ""));
                        var o = e.getElement(e.container).querySelector("." + e.options.classPrefix + "poster>img");
                        o && e.node.setAttribute("poster", o.src), delete e.node.autoplay, "" !== e.media.canPlayType((0, v.getTypeFromFile)(n)) && e.node.setAttribute("src", n), ~t.indexOf("iframe") && l.default.getElementById(e.media.id + "-iframe-overlay").remove();
                        var i = e.node.cloneNode();
                        if (i.style.display = "", e.getElement(e.container).parentNode.insertBefore(i, e.getElement(e.container)), e.node.remove(), e.mediaFiles)
                            for (var r = 0, a = e.mediaFiles.length; r < a; r++) {
                                var s = l.default.createElement("source");
                                s.setAttribute("src", e.mediaFiles[r].src), s.setAttribute("type", e.mediaFiles[r].type), i.appendChild(s)
                            }
                        if (e.trackFiles)
                            for (var d = 0, u = e.trackFiles.length; d < u; d++) ! function(t, n) {
                                var o = e.trackFiles[t],
                                    r = l.default.createElement("track");
                                r.kind = o.kind, r.label = o.label, r.srclang = o.srclang, r.src = o.src, i.appendChild(r), r.addEventListener("load", function() {
                                    this.mode = "showing", i.textTracks[t].mode = "showing"
                                })
                            }(d);
                        delete e.node, delete e.mediaFiles, delete e.trackFiles
                    }(), "function" == typeof e.media.renderer.destroy && e.media.renderer.destroy(), delete d.default.players[e.id], "object" === r(e.getElement(e.container)) && (e.getElement(e.container).parentNode.querySelector("." + e.options.classPrefix + "offscreen").remove(), e.getElement(e.container).remove()), e.globalUnbind("resize", e.globalResizeCallback), e.globalUnbind("keydown", e.globalKeydownCallback), e.globalUnbind("click", e.globalClickCallback), delete e.media.player
                }
            }, {
                key: "paused",
                get: function() {
                    return this.proxy.paused
                }
            }, {
                key: "muted",
                get: function() {
                    return this.proxy.muted
                },
                set: function(e) {
                    this.setMuted(e)
                }
            }, {
                key: "ended",
                get: function() {
                    return this.proxy.ended
                }
            }, {
                key: "readyState",
                get: function() {
                    return this.proxy.readyState
                }
            }, {
                key: "currentTime",
                set: function(e) {
                    this.setCurrentTime(e)
                },
                get: function() {
                    return this.getCurrentTime()
                }
            }, {
                key: "duration",
                get: function() {
                    return this.getDuration()
                }
            }, {
                key: "volume",
                set: function(e) {
                    this.setVolume(e)
                },
                get: function() {
                    return this.getVolume()
                }
            }, {
                key: "src",
                set: function(e) {
                    this.setSrc(e)
                },
                get: function() {
                    return this.getSrc()
                }
            }]), e
        }();
        s.default.MediaElementPlayer = E, d.default.MediaElementPlayer = E, n.default = E
    }, {
        17: 17,
        2: 2,
        25: 25,
        26: 26,
        27: 27,
        28: 28,
        3: 3,
        30: 30,
        5: 5,
        6: 6,
        7: 7
    }],
    17: [function(e, t, n) {
        "use strict";

        function o(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var i = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var o = t[n];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                    }
                }
                return function(t, n, o) {
                    return n && e(t.prototype, n), o && e(t, o), t
                }
            }(),
            r = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(e(3)),
            a = function() {
                function e(t) {
                    return o(this, e), this.media = t.media, this.isVideo = t.isVideo, this.classPrefix = t.options.classPrefix, this.createIframeLayer = function() {
                        return t.createIframeLayer()
                    }, this.setPoster = function(e) {
                        return t.setPoster(e)
                    }, this
                }
                return i(e, [{
                    key: "play",
                    value: function() {
                        this.media.play()
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this.media.pause()
                    }
                }, {
                    key: "load",
                    value: function() {
                        var e = this;
                        e.isLoaded || e.media.load(), e.isLoaded = !0
                    }
                }, {
                    key: "setCurrentTime",
                    value: function(e) {
                        this.media.setCurrentTime(e)
                    }
                }, {
                    key: "getCurrentTime",
                    value: function() {
                        return this.media.currentTime
                    }
                }, {
                    key: "getDuration",
                    value: function() {
                        return this.media.getDuration()
                    }
                }, {
                    key: "setVolume",
                    value: function(e) {
                        this.media.setVolume(e)
                    }
                }, {
                    key: "getVolume",
                    value: function() {
                        return this.media.getVolume()
                    }
                }, {
                    key: "setMuted",
                    value: function(e) {
                        this.media.setMuted(e)
                    }
                }, {
                    key: "setSrc",
                    value: function(e) {
                        var t = this,
                            n = document.getElementById(t.media.id + "-iframe-overlay");
                        n && n.remove(), t.media.setSrc(e), t.createIframeLayer(), null !== t.media.renderer && "function" == typeof t.media.renderer.getPosterUrl && t.setPoster(t.media.renderer.getPosterUrl())
                    }
                }, {
                    key: "getSrc",
                    value: function() {
                        return this.media.getSrc()
                    }
                }, {
                    key: "canPlayType",
                    value: function(e) {
                        return this.media.canPlayType(e)
                    }
                }, {
                    key: "paused",
                    get: function() {
                        return this.media.paused
                    }
                }, {
                    key: "muted",
                    set: function(e) {
                        this.setMuted(e)
                    },
                    get: function() {
                        return this.media.muted
                    }
                }, {
                    key: "ended",
                    get: function() {
                        return this.media.ended
                    }
                }, {
                    key: "readyState",
                    get: function() {
                        return this.media.readyState
                    }
                }, {
                    key: "currentTime",
                    set: function(e) {
                        this.setCurrentTime(e)
                    },
                    get: function() {
                        return this.getCurrentTime()
                    }
                }, {
                    key: "duration",
                    get: function() {
                        return this.getDuration()
                    }
                }, {
                    key: "volume",
                    set: function(e) {
                        this.setVolume(e)
                    },
                    get: function() {
                        return this.getVolume()
                    }
                }, {
                    key: "src",
                    set: function(e) {
                        this.setSrc(e)
                    },
                    get: function() {
                        return this.getSrc()
                    }
                }]), e
            }();
        n.default = a, r.default.DefaultPlayer = a
    }, {
        3: 3
    }],
    18: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = o(e(3)),
            r = o(e(7)),
            a = o(e(16));
        "undefined" != typeof jQuery ? r.default.$ = i.default.jQuery = i.default.$ = jQuery : "undefined" != typeof Zepto ? r.default.$ = i.default.Zepto = i.default.$ = Zepto : "undefined" != typeof ender && (r.default.$ = i.default.ender = i.default.$ = ender),
            function(e) {
                void 0 !== e && (e.fn.mediaelementplayer = function(t) {
                    return !1 === t ? this.each(function() {
                        var t = e(this).data("mediaelementplayer");
                        t && t.remove(), e(this).removeData("mediaelementplayer")
                    }) : this.each(function() {
                        e(this).data("mediaelementplayer", new a.default(this, t))
                    }), this
                }, e(document).ready(function() {
                    e("." + r.default.MepDefaults.classPrefix + "player").mediaelementplayer()
                }))
            }(r.default.$)
    }, {
        16: 16,
        3: 3,
        7: 7
    }],
    19: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            r = o(e(3)),
            a = o(e(7)),
            s = e(8),
            l = e(27),
            d = e(28),
            u = e(25),
            c = e(26),
            f = {
                promise: null,
                load: function(e) {
                    return "undefined" != typeof dashjs ? f.promise = new Promise(function(e) {
                        e()
                    }).then(function() {
                        f._createPlayer(e)
                    }) : (e.options.path = "string" == typeof e.options.path ? e.options.path : "https://cdn.dashjs.org/latest/dash.all.min.js", f.promise = f.promise || (0, c.loadScript)(e.options.path), f.promise.then(function() {
                        f._createPlayer(e)
                    })), f.promise
                },
                _createPlayer: function(e) {
                    var t = dashjs.MediaPlayer().create();
                    return r.default["__ready__" + e.id](t), t
                }
            },
            p = {
                name: "native_dash",
                options: {
                    prefix: "native_dash",
                    dash: {
                        path: "https://cdn.dashjs.org/latest/dash.all.min.js",
                        debug: !1,
                        drm: {},
                        robustnessLevel: ""
                    }
                },
                canPlayType: function(e) {
                    return u.HAS_MSE && ["application/dash+xml"].indexOf(e.toLowerCase()) > -1
                },
                create: function(e, t, n) {
                    var o = e.originalNode,
                        d = e.id + "_" + t.prefix,
                        u = o.autoplay,
                        c = o.children,
                        p = null,
                        m = null;
                    o.removeAttribute("type");
                    for (var h = 0, v = c.length; h < v; h++) c[h].removeAttribute("type");
                    p = o.cloneNode(!0), t = Object.assign(t, e.options);
                    for (var g = a.default.html5media.properties, y = a.default.html5media.events.concat(["click", "mouseover", "mouseout"]), E = function(t) {
                            if ("error" !== t.type) {
                                var n = (0, l.createEvent)(t.type, e);
                                e.dispatchEvent(n)
                            }
                        }, b = 0, S = g.length; b < S; b++) ! function(e) {
                        var n = "" + e.substring(0, 1).toUpperCase() + e.substring(1);
                        p["get" + n] = function() {
                            return null !== m ? p[e] : null
                        }, p["set" + n] = function(n) {
                            if (-1 === a.default.html5media.readOnlyProperties.indexOf(e))
                                if ("src" === e) {
                                    var o = "object" === (void 0 === n ? "undefined" : i(n)) && n.src ? n.src : n;
                                    if (p[e] = o, null !== m) {
                                        m.reset();
                                        for (var r = 0, s = y.length; r < s; r++) p.removeEventListener(y[r], E);
                                        m = f._createPlayer({
                                            options: t.dash,
                                            id: d
                                        }), n && "object" === (void 0 === n ? "undefined" : i(n)) && "object" === i(n.drm) && (m.setProtectionData(n.drm), (0, l.isString)(t.dash.robustnessLevel) && t.dash.robustnessLevel && m.getProtectionController().setRobustnessLevel(t.dash.robustnessLevel)), m.attachSource(o), u && m.play()
                                    }
                                } else p[e] = n
                        }
                    }(g[b]);
                    if (r.default["__ready__" + d] = function(n) {
                            e.dashPlayer = m = n;
                            for (var o = dashjs.MediaPlayer.events, r = 0, s = y.length; r < s; r++) ! function(e) {
                                "loadedmetadata" === e && (m.getDebug().setLogToBrowserConsole(t.dash.debug), m.initialize(), m.setScheduleWhilePaused(!1), m.setFastSwitchEnabled(!0), m.attachView(p), m.setAutoPlay(!1), "object" !== i(t.dash.drm) || a.default.Utils.isObjectEmpty(t.dash.drm) || (m.setProtectionData(t.dash.drm), (0, l.isString)(t.dash.robustnessLevel) && t.dash.robustnessLevel && m.getProtectionController().setRobustnessLevel(t.dash.robustnessLevel)), m.attachSource(p.getSrc())), p.addEventListener(e, E)
                            }(y[r]);
                            var d = function(t, n) {
                                if ("error" === t.toLowerCase()) e.generateError(n.message, p.src), console.error(n);
                                else {
                                    var o = (0, l.createEvent)(t, e);
                                    o.data = n, e.dispatchEvent(o)
                                }
                            };
                            for (var u in o) o.hasOwnProperty(u) && m.on(o[u], function(e) {
                                for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), o = 1; o < t; o++) n[o - 1] = arguments[o];
                                return d(e.type, n)
                            })
                        }, n && n.length > 0)
                        for (var x = 0, w = n.length; x < w; x++)
                            if (s.renderer.renderers[t.prefix].canPlayType(n[x].type)) {
                                p.setAttribute("src", n[x].src), void 0 !== n[x].drm && (t.dash.drm = n[x].drm);
                                break
                            }
                    p.setAttribute("id", d), o.parentNode.insertBefore(p, o), o.autoplay = !1, o.style.display = "none", p.setSize = function(e, t) {
                        return p.style.width = e + "px", p.style.height = t + "px", p
                    }, p.hide = function() {
                        return p.pause(), p.style.display = "none", p
                    }, p.show = function() {
                        return p.style.display = "", p
                    }, p.destroy = function() {
                        null !== m && m.reset()
                    };
                    var P = (0, l.createEvent)("rendererready", p);
                    return e.dispatchEvent(P), e.promises.push(f.load({
                        options: t.dash,
                        id: d
                    })), p
                }
            };
        d.typeChecks.push(function(e) {
            return ~e.toLowerCase().indexOf(".mpd") ? "application/dash+xml" : null
        }), s.renderer.add(p)
    }, {
        25: 25,
        26: 26,
        27: 27,
        28: 28,
        3: 3,
        7: 7,
        8: 8
    }],
    20: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.PluginDetector = void 0;
        var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            r = o(e(3)),
            a = o(e(2)),
            s = o(e(7)),
            l = o(e(5)),
            d = e(8),
            u = e(27),
            c = e(25),
            f = e(28),
            p = n.PluginDetector = {
                plugins: [],
                hasPluginVersion: function(e, t) {
                    var n = p.plugins[e];
                    return t[1] = t[1] || 0, t[2] = t[2] || 0, n[0] > t[0] || n[0] === t[0] && n[1] > t[1] || n[0] === t[0] && n[1] === t[1] && n[2] >= t[2]
                },
                addPlugin: function(e, t, n, o, i) {
                    p.plugins[e] = p.detectPlugin(t, n, o, i)
                },
                detectPlugin: function(e, t, n, o) {
                    var a = [0, 0, 0],
                        s = void 0,
                        l = void 0;
                    if (null !== c.NAV.plugins && void 0 !== c.NAV.plugins && "object" === i(c.NAV.plugins[e])) {
                        if ((s = c.NAV.plugins[e].description) && (void 0 === c.NAV.mimeTypes || !c.NAV.mimeTypes[t] || c.NAV.mimeTypes[t].enabledPlugin))
                            for (var d = 0, u = (a = s.replace(e, "").replace(/^\s+/, "").replace(/\sr/gi, ".").split(".")).length; d < u; d++) a[d] = parseInt(a[d].match(/\d+/), 10)
                    } else if (void 0 !== r.default.ActiveXObject) try {
                        (l = new ActiveXObject(n)) && (a = o(l))
                    } catch (e) {}
                    return a
                }
            };
        p.addPlugin("flash", "Shockwave Flash", "application/x-shockwave-flash", "ShockwaveFlash.ShockwaveFlash", function(e) {
            var t = [],
                n = e.GetVariable("$version");
            return n && (n = n.split(" ")[1].split(","), t = [parseInt(n[0], 10), parseInt(n[1], 10), parseInt(n[2], 10)]), t
        });
        var m = {
            create: function(e, t, n) {
                var o = {},
                    i = !1;
                o.options = t, o.id = e.id + "_" + o.options.prefix, o.mediaElement = e, o.flashState = {}, o.flashApi = null, o.flashApiStack = [];
                for (var p = s.default.html5media.properties, m = 0, h = p.length; m < h; m++) ! function(e) {
                    o.flashState[e] = null;
                    var t = "" + e.substring(0, 1).toUpperCase() + e.substring(1);
                    o["get" + t] = function() {
                        if (null !== o.flashApi) {
                            if ("function" == typeof o.flashApi["get_" + e]) {
                                var t = o.flashApi["get_" + e]();
                                return "buffered" === e ? {
                                    start: function() {
                                        return 0
                                    },
                                    end: function() {
                                        return t
                                    },
                                    length: 1
                                } : t
                            }
                            return null
                        }
                        return null
                    }, o["set" + t] = function(t) {
                        if ("src" === e && (t = (0, f.absolutizeUrl)(t)), null !== o.flashApi && void 0 !== o.flashApi["set_" + e]) try {
                            o.flashApi["set_" + e](t)
                        } catch (e) {} else o.flashApiStack.push({
                            type: "set",
                            propName: e,
                            value: t
                        })
                    }
                }(p[m]);
                var v = s.default.html5media.methods;
                v.push("stop");
                for (var g = 0, y = v.length; g < y; g++) ! function(e) {
                    o[e] = function() {
                        if (i)
                            if (null !== o.flashApi) {
                                if (o.flashApi["fire_" + e]) try {
                                    o.flashApi["fire_" + e]()
                                } catch (e) {}
                            } else o.flashApiStack.push({
                                type: "call",
                                methodName: e
                            })
                    }
                }(v[g]);
                for (var E = ["rendererready"], b = 0, S = E.length; b < S; b++) {
                    var x = (0, u.createEvent)(E[b], o);
                    e.dispatchEvent(x)
                }
                r.default["__ready__" + o.id] = function() {
                    if (o.flashReady = !0, o.flashApi = a.default.getElementById("__" + o.id), o.flashApiStack.length)
                        for (var e = 0, t = o.flashApiStack.length; e < t; e++) {
                            var n = o.flashApiStack[e];
                            if ("set" === n.type) {
                                var i = n.propName,
                                    r = "" + i.substring(0, 1).toUpperCase() + i.substring(1);
                                o["set" + r](n.value)
                            } else "call" === n.type && o[n.methodName]()
                        }
                }, r.default["__event__" + o.id] = function(e, t) {
                    var n = (0, u.createEvent)(e, o);
                    if (t) try {
                        n.data = JSON.parse(t), n.details.data = JSON.parse(t)
                    } catch (e) {
                        n.message = t
                    }
                    o.mediaElement.dispatchEvent(n)
                }, o.flashWrapper = a.default.createElement("div"), -1 === ["always", "sameDomain"].indexOf(o.options.shimScriptAccess) && (o.options.shimScriptAccess = "sameDomain");
                var w = e.originalNode.autoplay,
                    P = ["uid=" + o.id, "autoplay=" + w, "allowScriptAccess=" + o.options.shimScriptAccess, "preload=" + (e.originalNode.getAttribute("preload") || "")],
                    T = null !== e.originalNode && "video" === e.originalNode.tagName.toLowerCase(),
                    C = T ? e.originalNode.height : 1,
                    k = T ? e.originalNode.width : 1;
                e.originalNode.getAttribute("src") && P.push("src=" + e.originalNode.getAttribute("src")), !0 === o.options.enablePseudoStreaming && (P.push("pseudostreamstart=" + o.options.pseudoStreamingStartQueryParam), P.push("pseudostreamtype=" + o.options.pseudoStreamingType)), o.options.streamDelimiter && P.push("streamdelimiter=" + encodeURIComponent(o.options.streamDelimiter)), o.options.proxyType && P.push("proxytype=" + o.options.proxyType), e.appendChild(o.flashWrapper), e.originalNode.style.display = "none";
                var _ = [];
                if (c.IS_IE || c.IS_EDGE) {
                    var N = a.default.createElement("div");
                    o.flashWrapper.appendChild(N), _ = c.IS_EDGE ? ['type="application/x-shockwave-flash"', 'data="' + o.options.pluginPath + o.options.filename + '"', 'id="__' + o.id + '"', 'width="' + k + '"', 'height="' + C + "'\""] : ['classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"', 'codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"', 'id="__' + o.id + '"', 'width="' + k + '"', 'height="' + C + '"'], T || _.push('style="clip: rect(0 0 0 0); position: absolute;"'), N.outerHTML = "<object " + _.join(" ") + '><param name="movie" value="' + o.options.pluginPath + o.options.filename + "?x=" + new Date + '" /><param name="flashvars" value="' + P.join("&amp;") + '" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="' + o.options.shimScriptAccess + '" /><param name="allowFullScreen" value="true" /><div>' + l.default.t("mejs.install-flash") + "</div></object>"
                } else _ = ['id="__' + o.id + '"', 'name="__' + o.id + '"', 'play="true"', 'loop="false"', 'quality="high"', 'bgcolor="#000000"', 'wmode="transparent"', 'allowScriptAccess="' + o.options.shimScriptAccess + '"', 'allowFullScreen="true"', 'type="application/x-shockwave-flash"', 'pluginspage="//www.macromedia.com/go/getflashplayer"', 'src="' + o.options.pluginPath + o.options.filename + '"', 'flashvars="' + P.join("&") + '"'], T ? (_.push('width="' + k + '"'), _.push('height="' + C + '"')) : _.push('style="position: fixed; left: -9999em; top: -9999em;"'), o.flashWrapper.innerHTML = "<embed " + _.join(" ") + ">";
                if (o.flashNode = o.flashWrapper.lastChild, o.hide = function() {
                        i = !1, T && (o.flashNode.style.display = "none")
                    }, o.show = function() {
                        i = !0, T && (o.flashNode.style.display = "")
                    }, o.setSize = function(e, t) {
                        o.flashNode.style.width = e + "px", o.flashNode.style.height = t + "px", null !== o.flashApi && "function" == typeof o.flashApi.fire_setSize && o.flashApi.fire_setSize(e, t)
                    }, o.destroy = function() {
                        o.flashNode.remove()
                    }, n && n.length > 0)
                    for (var A = 0, L = n.length; A < L; A++)
                        if (d.renderer.renderers[t.prefix].canPlayType(n[A].type)) {
                            o.setSrc(n[A].src);
                            break
                        }
                return o
            }
        };
        if (p.hasPluginVersion("flash", [10, 0, 0])) {
            f.typeChecks.push(function(e) {
                return (e = e.toLowerCase()).startsWith("rtmp") ? ~e.indexOf(".mp3") ? "audio/rtmp" : "video/rtmp" : /\.og(a|g)/i.test(e) ? "audio/ogg" : ~e.indexOf(".m3u8") ? "application/x-mpegURL" : ~e.indexOf(".mpd") ? "application/dash+xml" : ~e.indexOf(".flv") ? "video/flv" : null
            });
            var h = {
                name: "flash_video",
                options: {
                    prefix: "flash_video",
                    filename: "mediaelement-flash-video.swf",
                    enablePseudoStreaming: !1,
                    pseudoStreamingStartQueryParam: "start",
                    pseudoStreamingType: "byte",
                    proxyType: "",
                    streamDelimiter: ""
                },
                canPlayType: function(e) {
                    return ~["video/mp4", "video/rtmp", "audio/rtmp", "rtmp/mp4", "audio/mp4", "video/flv", "video/x-flv"].indexOf(e.toLowerCase())
                },
                create: m.create
            };
            d.renderer.add(h);
            var v = {
                name: "flash_hls",
                options: {
                    prefix: "flash_hls",
                    filename: "mediaelement-flash-video-hls.swf"
                },
                canPlayType: function(e) {
                    return ~["application/x-mpegurl", "application/vnd.apple.mpegurl", "audio/mpegurl", "audio/hls", "video/hls"].indexOf(e.toLowerCase())
                },
                create: m.create
            };
            d.renderer.add(v);
            var g = {
                name: "flash_dash",
                options: {
                    prefix: "flash_dash",
                    filename: "mediaelement-flash-video-mdash.swf"
                },
                canPlayType: function(e) {
                    return ~["application/dash+xml"].indexOf(e.toLowerCase())
                },
                create: m.create
            };
            d.renderer.add(g);
            var y = {
                name: "flash_audio",
                options: {
                    prefix: "flash_audio",
                    filename: "mediaelement-flash-audio.swf"
                },
                canPlayType: function(e) {
                    return ~["audio/mp3"].indexOf(e.toLowerCase())
                },
                create: m.create
            };
            d.renderer.add(y);
            var E = {
                name: "flash_audio_ogg",
                options: {
                    prefix: "flash_audio_ogg",
                    filename: "mediaelement-flash-audio-ogg.swf"
                },
                canPlayType: function(e) {
                    return ~["audio/ogg", "audio/oga", "audio/ogv"].indexOf(e.toLowerCase())
                },
                create: m.create
            };
            d.renderer.add(E)
        }
    }, {
        2: 2,
        25: 25,
        27: 27,
        28: 28,
        3: 3,
        5: 5,
        7: 7,
        8: 8
    }],
    21: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            r = o(e(3)),
            a = o(e(7)),
            s = e(8),
            l = e(27),
            d = e(25),
            u = e(28),
            c = e(26),
            f = {
                promise: null,
                load: function(e) {
                    return "undefined" != typeof flvjs ? f.promise = new Promise(function(e) {
                        e()
                    }).then(function() {
                        f._createPlayer(e)
                    }) : (e.options.path = "string" == typeof e.options.path ? e.options.path : "https://cdnjs.cloudflare.com/ajax/libs/flv.js/1.3.3/flv.min.js", f.promise = f.promise || (0, c.loadScript)(e.options.path), f.promise.then(function() {
                        f._createPlayer(e)
                    })), f.promise
                },
                _createPlayer: function(e) {
                    flvjs.LoggingControl.enableDebug = e.options.debug, flvjs.LoggingControl.enableVerbose = e.options.debug;
                    var t = flvjs.createPlayer(e.options, e.configs);
                    return r.default["__ready__" + e.id](t), t
                }
            },
            p = {
                name: "native_flv",
                options: {
                    prefix: "native_flv",
                    flv: {
                        path: "https://cdnjs.cloudflare.com/ajax/libs/flv.js/1.3.3/flv.min.js",
                        cors: !0,
                        debug: !1
                    }
                },
                canPlayType: function(e) {
                    return d.HAS_MSE && ["video/x-flv", "video/flv"].indexOf(e.toLowerCase()) > -1
                },
                create: function(e, t, n) {
                    var o = e.originalNode,
                        d = e.id + "_" + t.prefix,
                        u = null,
                        c = null;
                    u = o.cloneNode(!0), t = Object.assign(t, e.options);
                    for (var p = a.default.html5media.properties, m = a.default.html5media.events.concat(["click", "mouseover", "mouseout"]), h = function(t) {
                            if ("error" !== t.type) {
                                var n = (0, l.createEvent)(t.type, e);
                                e.dispatchEvent(n)
                            }
                        }, v = 0, g = p.length; v < g; v++) ! function(e) {
                        var n = "" + e.substring(0, 1).toUpperCase() + e.substring(1);
                        u["get" + n] = function() {
                            return null !== c ? u[e] : null
                        }, u["set" + n] = function(n) {
                            if (-1 === a.default.html5media.readOnlyProperties.indexOf(e))
                                if ("src" === e) {
                                    if (u[e] = "object" === (void 0 === n ? "undefined" : i(n)) && n.src ? n.src : n, null !== c) {
                                        var o = {};
                                        o.type = "flv", o.url = n, o.cors = t.flv.cors, o.debug = t.flv.debug, o.path = t.flv.path;
                                        var r = t.flv.configs;
                                        c.destroy();
                                        for (var s = 0, l = m.length; s < l; s++) u.removeEventListener(m[s], h);
                                        (c = f._createPlayer({
                                            options: o,
                                            configs: r,
                                            id: d
                                        })).attachMediaElement(u), c.load()
                                    }
                                } else u[e] = n
                        }
                    }(p[v]);
                    if (r.default["__ready__" + d] = function(t) {
                            e.flvPlayer = c = t;
                            for (var n = flvjs.Events, o = 0, i = m.length; o < i; o++) ! function(e) {
                                "loadedmetadata" === e && (c.unload(), c.detachMediaElement(), c.attachMediaElement(u), c.load()), u.addEventListener(e, h)
                            }(m[o]);
                            var r = function(t, n) {
                                if ("error" === t) {
                                    var o = n[0] + ": " + n[1] + " " + n[2].msg;
                                    e.generateError(o, u.src)
                                } else {
                                    var i = (0, l.createEvent)(t, e);
                                    i.data = n, e.dispatchEvent(i)
                                }
                            };
                            for (var a in n) ! function(e) {
                                n.hasOwnProperty(e) && c.on(n[e], function() {
                                    for (var t = arguments.length, o = Array(t), i = 0; i < t; i++) o[i] = arguments[i];
                                    return r(n[e], o)
                                })
                            }(a)
                        }, n && n.length > 0)
                        for (var y = 0, E = n.length; y < E; y++)
                            if (s.renderer.renderers[t.prefix].canPlayType(n[y].type)) {
                                u.setAttribute("src", n[y].src);
                                break
                            }
                    u.setAttribute("id", d), o.parentNode.insertBefore(u, o), o.autoplay = !1, o.style.display = "none";
                    var b = {};
                    b.type = "flv", b.url = u.src, b.cors = t.flv.cors, b.debug = t.flv.debug, b.path = t.flv.path;
                    var S = t.flv.configs;
                    u.setSize = function(e, t) {
                        return u.style.width = e + "px", u.style.height = t + "px", u
                    }, u.hide = function() {
                        return null !== c && c.pause(), u.style.display = "none", u
                    }, u.show = function() {
                        return u.style.display = "", u
                    }, u.destroy = function() {
                        null !== c && c.destroy()
                    };
                    var x = (0, l.createEvent)("rendererready", u);
                    return e.dispatchEvent(x), e.promises.push(f.load({
                        options: b,
                        configs: S,
                        id: d
                    })), u
                }
            };
        u.typeChecks.push(function(e) {
            return ~e.toLowerCase().indexOf(".flv") ? "video/flv" : null
        }), s.renderer.add(p)
    }, {
        25: 25,
        26: 26,
        27: 27,
        28: 28,
        3: 3,
        7: 7,
        8: 8
    }],
    22: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            r = o(e(3)),
            a = o(e(7)),
            s = e(8),
            l = e(27),
            d = e(25),
            u = e(28),
            c = e(26),
            f = {
                promise: null,
                load: function(e) {
                    return "undefined" != typeof Hls ? f.promise = new Promise(function(e) {
                        e()
                    }).then(function() {
                        f._createPlayer(e)
                    }) : (e.options.path = "string" == typeof e.options.path ? e.options.path : "https://cdnjs.cloudflare.com/ajax/libs/hls.js/0.8.4/hls.min.js", f.promise = f.promise || (0, c.loadScript)(e.options.path), f.promise.then(function() {
                        f._createPlayer(e)
                    })), f.promise
                },
                _createPlayer: function(e) {
                    var t = new Hls(e.options);
                    return r.default["__ready__" + e.id](t), t
                }
            },
            p = {
                name: "native_hls",
                options: {
                    prefix: "native_hls",
                    hls: {
                        path: "https://cdnjs.cloudflare.com/ajax/libs/hls.js/0.8.4/hls.min.js",
                        autoStartLoad: !1,
                        debug: !1
                    }
                },
                canPlayType: function(e) {
                    return d.HAS_MSE && ["application/x-mpegurl", "application/vnd.apple.mpegurl", "audio/mpegurl", "audio/hls", "video/hls"].indexOf(e.toLowerCase()) > -1
                },
                create: function(e, t, n) {
                    var o = e.originalNode,
                        d = e.id + "_" + t.prefix,
                        u = o.getAttribute("preload"),
                        c = o.autoplay,
                        p = null,
                        m = null,
                        h = 0,
                        v = n.length;
                    m = o.cloneNode(!0), (t = Object.assign(t, e.options)).hls.autoStartLoad = u && "none" !== u || c;
                    for (var g = a.default.html5media.properties, y = a.default.html5media.events.concat(["click", "mouseover", "mouseout"]), E = function(t) {
                            if ("error" !== t.type) {
                                var n = (0, l.createEvent)(t.type, e);
                                e.dispatchEvent(n)
                            }
                        }, b = 0, S = g.length; b < S; b++) ! function(e) {
                        var n = "" + e.substring(0, 1).toUpperCase() + e.substring(1);
                        m["get" + n] = function() {
                            return null !== p ? m[e] : null
                        }, m["set" + n] = function(n) {
                            if (-1 === a.default.html5media.readOnlyProperties.indexOf(e))
                                if ("src" === e) {
                                    if (m[e] = "object" === (void 0 === n ? "undefined" : i(n)) && n.src ? n.src : n, null !== p) {
                                        p.destroy();
                                        for (var o = 0, r = y.length; o < r; o++) m.removeEventListener(y[o], E);
                                        (p = f._createPlayer({
                                            options: t.hls,
                                            id: d
                                        })).loadSource(n), p.attachMedia(m)
                                    }
                                } else m[e] = n
                        }
                    }(g[b]);
                    if (r.default["__ready__" + d] = function(t) {
                            e.hlsPlayer = p = t;
                            for (var o = Hls.Events, i = 0, r = y.length; i < r; i++) ! function(t) {
                                if ("loadedmetadata" === t) {
                                    var n = e.originalNode.src;
                                    p.detachMedia(), p.loadSource(n), p.attachMedia(m)
                                }
                                m.addEventListener(t, E)
                            }(y[i]);
                            var a = void 0,
                                s = void 0,
                                d = function(t, o) {
                                    if ("hlsError" === t) {
                                        if (console.warn(o), (o = o[1]).fatal) switch (o.type) {
                                            case "mediaError":
                                                var i = (new Date).getTime();
                                                if (!a || i - a > 3e3) a = (new Date).getTime(), p.recoverMediaError();
                                                else if (!s || i - s > 3e3) s = (new Date).getTime(), console.warn("Attempting to swap Audio Codec and recover from media error"), p.swapAudioCodec(), p.recoverMediaError();
                                                else {
                                                    var r = "Cannot recover, last media error recovery failed";
                                                    e.generateError(r, m.src), console.error(r)
                                                }
                                                break;
                                            case "networkError":
                                                if ("manifestLoadError" === o.details)
                                                    if (h < v && void 0 !== n[h + 1]) m.setSrc(n[h++].src), m.load(), m.play();
                                                    else {
                                                        e.generateError("Network error", n), console.error("Network error")
                                                    } else {
                                                    e.generateError("Network error", n), console.error("Network error")
                                                }
                                                break;
                                            default:
                                                p.destroy()
                                        }
                                    } else {
                                        var d = (0, l.createEvent)(t, e);
                                        d.data = o, e.dispatchEvent(d)
                                    }
                                };
                            for (var u in o) ! function(e) {
                                o.hasOwnProperty(e) && p.on(o[e], function() {
                                    for (var t = arguments.length, n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
                                    return d(o[e], n)
                                })
                            }(u)
                        }, v > 0)
                        for (; h < v; h++)
                            if (s.renderer.renderers[t.prefix].canPlayType(n[h].type)) {
                                m.setAttribute("src", n[h].src);
                                break
                            }
                            "auto" === u || c || (m.addEventListener("play", function() {
                        null !== p && p.startLoad()
                    }), m.addEventListener("pause", function() {
                        null !== p && p.stopLoad()
                    })), m.setAttribute("id", d), o.parentNode.insertBefore(m, o), o.autoplay = !1, o.style.display = "none", m.setSize = function(e, t) {
                        return m.style.width = e + "px", m.style.height = t + "px", m
                    }, m.hide = function() {
                        return m.pause(), m.style.display = "none", m
                    }, m.show = function() {
                        return m.style.display = "", m
                    }, m.destroy = function() {
                        null !== p && (p.stopLoad(), p.destroy())
                    };
                    var x = (0, l.createEvent)("rendererready", m);
                    return e.dispatchEvent(x), e.promises.push(f.load({
                        options: t.hls,
                        id: d
                    })), m
                }
            };
        u.typeChecks.push(function(e) {
            return ~e.toLowerCase().indexOf(".m3u8") ? "application/x-mpegURL" : null
        }), s.renderer.add(p)
    }, {
        25: 25,
        26: 26,
        27: 27,
        28: 28,
        3: 3,
        7: 7,
        8: 8
    }],
    23: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = o(e(3)),
            r = o(e(2)),
            a = o(e(7)),
            s = e(8),
            l = e(27),
            d = e(25),
            u = {
                name: "html5",
                options: {
                    prefix: "html5"
                },
                canPlayType: function(e) {
                    var t = r.default.createElement("video");
                    return d.IS_ANDROID && /\/mp(3|4)$/i.test(e) || ~["application/x-mpegurl", "vnd.apple.mpegurl", "audio/mpegurl", "audio/hls", "video/hls"].indexOf(e.toLowerCase()) && d.SUPPORTS_NATIVE_HLS ? "yes" : t.canPlayType ? t.canPlayType(e.toLowerCase()).replace(/no/, "") : ""
                },
                create: function(e, t, n) {
                    var o = e.id + "_" + t.prefix,
                        i = !1,
                        d = null;
                    void 0 === e.originalNode || null === e.originalNode ? (d = r.default.createElement("audio"), e.appendChild(d)) : d = e.originalNode, d.setAttribute("id", o);
                    for (var u = a.default.html5media.properties, c = 0, f = u.length; c < f; c++) ! function(e) {
                        var t = "" + e.substring(0, 1).toUpperCase() + e.substring(1);
                        d["get" + t] = function() {
                            return d[e]
                        }, d["set" + t] = function(t) {
                            -1 === a.default.html5media.readOnlyProperties.indexOf(e) && (d[e] = t)
                        }
                    }(u[c]);
                    for (var p = a.default.html5media.events.concat(["click", "mouseover", "mouseout"]), m = 0, h = p.length; m < h; m++) ! function(t) {
                        d.addEventListener(t, function(t) {
                            if (i) {
                                var n = (0, l.createEvent)(t.type, t.target);
                                e.dispatchEvent(n)
                            }
                        })
                    }(p[m]);
                    d.setSize = function(e, t) {
                        return d.style.width = e + "px", d.style.height = t + "px", d
                    }, d.hide = function() {
                        return i = !1, d.style.display = "none", d
                    }, d.show = function() {
                        return i = !0, d.style.display = "", d
                    };
                    var v = 0,
                        g = n.length;
                    if (g > 0)
                        for (; v < g; v++)
                            if (s.renderer.renderers[t.prefix].canPlayType(n[v].type)) {
                                d.setAttribute("src", n[v].src);
                                break
                            }
                    d.addEventListener("error", function(t) {
                        4 === t.target.error.code && i && (v < g && void 0 !== n[v + 1] ? (d.src = n[v++].src, d.load(), d.play()) : e.generateError("Media error: Format(s) not supported or source(s) not found", n))
                    });
                    var y = (0, l.createEvent)("rendererready", d);
                    return e.dispatchEvent(y), d
                }
            };
        i.default.HtmlMediaElement = a.default.HtmlMediaElement = u, s.renderer.add(u)
    }, {
        2: 2,
        25: 25,
        27: 27,
        3: 3,
        7: 7,
        8: 8
    }],
    24: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = o(e(3)),
            r = o(e(2)),
            a = o(e(7)),
            s = e(8),
            l = e(27),
            d = e(28),
            u = e(26),
            c = {
                isIframeStarted: !1,
                isIframeLoaded: !1,
                iframeQueue: [],
                enqueueIframe: function(e) {
                    c.isLoaded = "undefined" != typeof YT && YT.loaded, c.isLoaded ? c.createIframe(e) : (c.loadIframeApi(), c.iframeQueue.push(e))
                },
                loadIframeApi: function() {
                    c.isIframeStarted || ((0, u.loadScript)("https://www.youtube.com/player_api"), c.isIframeStarted = !0)
                },
                iFrameReady: function() {
                    for (c.isLoaded = !0, c.isIframeLoaded = !0; c.iframeQueue.length > 0;) {
                        var e = c.iframeQueue.pop();
                        c.createIframe(e)
                    }
                },
                createIframe: function(e) {
                    return new YT.Player(e.containerId, e)
                },
                getYouTubeId: function(e) {
                    var t = "";
                    return e.indexOf("?") > 0 ? "" === (t = c.getYouTubeIdFromParam(e)) && (t = c.getYouTubeIdFromUrl(e)) : t = c.getYouTubeIdFromUrl(e), (t = t.substring(t.lastIndexOf("/") + 1).split("?"))[0]
                },
                getYouTubeIdFromParam: function(e) {
                    if (void 0 === e || null === e || !e.trim().length) return null;
                    for (var t = e.split("?")[1].split("&"), n = "", o = 0, i = t.length; o < i; o++) {
                        var r = t[o].split("=");
                        if ("v" === r[0]) {
                            n = r[1];
                            break
                        }
                    }
                    return n
                },
                getYouTubeIdFromUrl: function(e) {
                    return void 0 !== e && null !== e && e.trim().length ? (e = e.split("?")[0]).substring(e.lastIndexOf("/") + 1) : null
                },
                getYouTubeNoCookieUrl: function(e) {
                    if (void 0 === e || null === e || !e.trim().length || -1 === e.indexOf("//www.youtube")) return e;
                    var t = e.split("/");
                    return t[2] = t[2].replace(".com", "-nocookie.com"), t.join("/")
                }
            },
            f = {
                name: "youtube_iframe",
                options: {
                    prefix: "youtube_iframe",
                    youtube: {
                        autoplay: 0,
                        controls: 0,
                        disablekb: 1,
                        end: 0,
                        loop: 0,
                        modestbranding: 0,
                        playsinline: 0,
                        rel: 0,
                        showinfo: 0,
                        start: 0,
                        iv_load_policy: 3,
                        nocookie: !1,
                        imageQuality: null
                    }
                },
                canPlayType: function(e) {
                    return ~["video/youtube", "video/x-youtube"].indexOf(e.toLowerCase())
                },
                create: function(e, t, n) {
                    var o = {},
                        s = [],
                        d = null,
                        u = !0,
                        f = !1,
                        p = null,
                        m = 1;
                    o.options = t, o.id = e.id + "_" + t.prefix, o.mediaElement = e;
                    for (var h = a.default.html5media.properties, v = 0, g = h.length; v < g; v++) ! function(t) {
                        var n = "" + t.substring(0, 1).toUpperCase() + t.substring(1);
                        o["get" + n] = function() {
                            if (null !== d) {
                                switch (t) {
                                    case "currentTime":
                                        return d.getCurrentTime();
                                    case "duration":
                                        return d.getDuration();
                                    case "volume":
                                        return m = d.getVolume() / 100;
                                    case "paused":
                                        return u;
                                    case "ended":
                                        return f;
                                    case "muted":
                                        return d.isMuted();
                                    case "buffered":
                                        var e = d.getVideoLoadedFraction(),
                                            n = d.getDuration();
                                        return {
                                            start: function() {
                                                return 0
                                            },
                                            end: function() {
                                                return e * n
                                            },
                                            length: 1
                                        };
                                    case "src":
                                        return d.getVideoUrl();
                                    case "readyState":
                                        return 4
                                }
                                return null
                            }
                            return null
                        }, o["set" + n] = function(n) {
                            if (null !== d) switch (t) {
                                case "src":
                                    var i = "string" == typeof n ? n : n[0].src,
                                        r = c.getYouTubeId(i);
                                    e.originalNode.autoplay ? d.loadVideoById(r) : d.cueVideoById(r);
                                    break;
                                case "currentTime":
                                    d.seekTo(n);
                                    break;
                                case "muted":
                                    n ? d.mute() : d.unMute(), setTimeout(function() {
                                        var t = (0, l.createEvent)("volumechange", o);
                                        e.dispatchEvent(t)
                                    }, 50);
                                    break;
                                case "volume":
                                    m = n, d.setVolume(100 * n), setTimeout(function() {
                                        var t = (0, l.createEvent)("volumechange", o);
                                        e.dispatchEvent(t)
                                    }, 50);
                                    break;
                                case "readyState":
                                    var a = (0, l.createEvent)("canplay", o);
                                    e.dispatchEvent(a)
                            } else s.push({
                                type: "set",
                                propName: t,
                                value: n
                            })
                        }
                    }(h[v]);
                    for (var y = a.default.html5media.methods, E = 0, b = y.length; E < b; E++) ! function(e) {
                        o[e] = function() {
                            if (null !== d) switch (e) {
                                case "play":
                                    return u = !1, d.playVideo();
                                case "pause":
                                    return u = !0, d.pauseVideo();
                                case "load":
                                    return null
                            } else s.push({
                                type: "call",
                                methodName: e
                            })
                        }
                    }(y[E]);
                    var S = r.default.createElement("div");
                    S.id = o.id, o.options.youtube.nocookie && (e.originalNode.src = c.getYouTubeNoCookieUrl(n[0].src)), e.originalNode.parentNode.insertBefore(S, e.originalNode), e.originalNode.style.display = "none";
                    var x = "audio" === e.originalNode.tagName.toLowerCase(),
                        w = x ? "1" : e.originalNode.height,
                        P = x ? "1" : e.originalNode.width,
                        T = c.getYouTubeId(n[0].src),
                        C = {
                            id: o.id,
                            containerId: S.id,
                            videoId: T,
                            height: w,
                            width: P,
                            playerVars: Object.assign({
                                controls: 0,
                                rel: 0,
                                disablekb: 1,
                                showinfo: 0,
                                modestbranding: 0,
                                html5: 1,
                                iv_load_policy: 3
                            }, o.options.youtube),
                            origin: i.default.location.host,
                            events: {
                                onReady: function(t) {
                                    if (e.youTubeApi = d = t.target, e.youTubeState = {
                                            paused: !0,
                                            ended: !1
                                        }, s.length)
                                        for (var n = 0, i = s.length; n < i; n++) {
                                            var r = s[n];
                                            if ("set" === r.type) {
                                                var a = r.propName,
                                                    u = "" + a.substring(0, 1).toUpperCase() + a.substring(1);
                                                o["set" + u](r.value)
                                            } else "call" === r.type && o[r.methodName]()
                                        }
                                    p = d.getIframe(), e.originalNode.muted && d.mute();
                                    for (var c = ["mouseover", "mouseout"], f = 0, m = c.length; f < m; f++) p.addEventListener(c[f], function(t) {
                                        var n = (0, l.createEvent)(t.type, o);
                                        e.dispatchEvent(n)
                                    }, !1);
                                    for (var h = ["rendererready", "loadedmetadata", "loadeddata", "canplay"], v = 0, g = h.length; v < g; v++) {
                                        var y = (0, l.createEvent)(h[v], o);
                                        e.dispatchEvent(y)
                                    }
                                },
                                onStateChange: function(t) {
                                    var n = [];
                                    switch (t.data) {
                                        case -1:
                                            n = ["loadedmetadata"], u = !0, f = !1;
                                            break;
                                        case 0:
                                            n = ["ended"], u = !1, f = !o.options.youtube.loop, o.options.youtube.loop || o.stopInterval();
                                            break;
                                        case 1:
                                            n = ["play", "playing"], u = !1, f = !1, o.startInterval();
                                            break;
                                        case 2:
                                            n = ["pause"], u = !0, f = !1, o.stopInterval();
                                            break;
                                        case 3:
                                            n = ["progress"], f = !1;
                                            break;
                                        case 5:
                                            n = ["loadeddata", "loadedmetadata", "canplay"], u = !0, f = !1
                                    }
                                    for (var i = 0, r = n.length; i < r; i++) {
                                        var a = (0, l.createEvent)(n[i], o);
                                        e.dispatchEvent(a)
                                    }
                                },
                                onError: function(t) {
                                    var n = (0, l.createEvent)("error", o);
                                    n.data = t.data, e.dispatchEvent(n)
                                }
                            }
                        };
                    return (x || e.originalNode.hasAttribute("playsinline")) && (C.playerVars.playsinline = 1), e.originalNode.controls && (C.playerVars.controls = 1), e.originalNode.autoplay && (C.playerVars.autoplay = 1), e.originalNode.loop && (C.playerVars.loop = 1), c.enqueueIframe(C), o.onEvent = function(t, n, o) {
                        null !== o && void 0 !== o && (e.youTubeState = o)
                    }, o.setSize = function(e, t) {
                        null !== d && d.setSize(e, t)
                    }, o.hide = function() {
                        o.stopInterval(), o.pause(), p && (p.style.display = "none")
                    }, o.show = function() {
                        p && (p.style.display = "")
                    }, o.destroy = function() {
                        d.destroy()
                    }, o.interval = null, o.startInterval = function() {
                        o.interval = setInterval(function() {
                            var t = (0, l.createEvent)("timeupdate", o);
                            e.dispatchEvent(t)
                        }, 250)
                    }, o.stopInterval = function() {
                        o.interval && clearInterval(o.interval)
                    }, o.getPosterUrl = function() {
                        var n = t.youtube.imageQuality,
                            o = ["default", "hqdefault", "mqdefault", "sddefault", "maxresdefault"],
                            i = c.getYouTubeId(e.originalNode.src);
                        return n && o.indexOf(n) > -1 && i ? "https://img.youtube.com/vi/" + i + "/" + n + ".jpg" : ""
                    }, o
                }
            };
        i.default.onYouTubePlayerAPIReady = function() {
            c.iFrameReady()
        }, d.typeChecks.push(function(e) {
            return /\/\/(www\.youtube|youtu\.?be)/i.test(e) ? "video/x-youtube" : null
        }), s.renderer.add(f)
    }, {
        2: 2,
        26: 26,
        27: 27,
        28: 28,
        3: 3,
        7: 7,
        8: 8
    }],
    25: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.cancelFullScreen = n.requestFullScreen = n.isFullScreen = n.FULLSCREEN_EVENT_NAME = n.HAS_NATIVE_FULLSCREEN_ENABLED = n.HAS_TRUE_NATIVE_FULLSCREEN = n.HAS_IOS_FULLSCREEN = n.HAS_MS_NATIVE_FULLSCREEN = n.HAS_MOZ_NATIVE_FULLSCREEN = n.HAS_WEBKIT_NATIVE_FULLSCREEN = n.HAS_NATIVE_FULLSCREEN = n.SUPPORTS_NATIVE_HLS = n.SUPPORT_PASSIVE_EVENT = n.SUPPORT_POINTER_EVENTS = n.HAS_MSE = n.IS_STOCK_ANDROID = n.IS_SAFARI = n.IS_FIREFOX = n.IS_CHROME = n.IS_EDGE = n.IS_IE = n.IS_ANDROID = n.IS_IOS = n.IS_IPOD = n.IS_IPHONE = n.IS_IPAD = n.UA = n.NAV = void 0;
        for (var i = o(e(3)), r = o(e(2)), a = o(e(7)), s = n.NAV = i.default.navigator, l = n.UA = s.userAgent.toLowerCase(), d = n.IS_IPAD = /ipad/i.test(l) && !i.default.MSStream, u = n.IS_IPHONE = /iphone/i.test(l) && !i.default.MSStream, c = n.IS_IPOD = /ipod/i.test(l) && !i.default.MSStream, f = (n.IS_IOS = /ipad|iphone|ipod/i.test(l) && !i.default.MSStream, n.IS_ANDROID = /android/i.test(l)), p = n.IS_IE = /(trident|microsoft)/i.test(s.appName), m = (n.IS_EDGE = "msLaunchUri" in s && !("documentMode" in r.default)), h = n.IS_CHROME = /chrome/i.test(l), v = n.IS_FIREFOX = /firefox/i.test(l), g = n.IS_SAFARI = /safari/i.test(l) && !h, y = n.IS_STOCK_ANDROID = /^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(l), E = (n.HAS_MSE = "MediaSource" in i.default), b = n.SUPPORT_POINTER_EVENTS = function() {
                var e = r.default.createElement("x"),
                    t = r.default.documentElement,
                    n = i.default.getComputedStyle;
                if (!("pointerEvents" in e.style)) return !1;
                e.style.pointerEvents = "auto", e.style.pointerEvents = "x", t.appendChild(e);
                var o = n && "auto" === n(e, "").pointerEvents;
                return e.remove(), !!o
            }(), S = n.SUPPORT_PASSIVE_EVENT = function() {
                var e = !1;
                try {
                    var t = Object.defineProperty({}, "passive", {
                        get: function() {
                            e = !0
                        }
                    });
                    i.default.addEventListener("test", null, t)
                } catch (e) {}
                return e
            }(), x = ["source", "track", "audio", "video"], w = void 0, P = 0, T = x.length; P < T; P++) w = r.default.createElement(x[P]);
        var C = n.SUPPORTS_NATIVE_HLS = g || f && (h || y) || p && /edge/i.test(l),
            k = void 0 !== w.webkitEnterFullscreen,
            _ = void 0 !== w.requestFullscreen;
        k && /mac os x 10_5/i.test(l) && (_ = !1, k = !1);
        var N = void 0 !== w.webkitRequestFullScreen,
            A = void 0 !== w.mozRequestFullScreen,
            L = void 0 !== w.msRequestFullscreen,
            F = N || A || L,
            j = F,
            I = "",
            M = void 0,
            O = void 0,
            D = void 0;
        A ? j = r.default.mozFullScreenEnabled : L && (j = r.default.msFullscreenEnabled), h && (k = !1), F && (N ? I = "webkitfullscreenchange" : A ? I = "mozfullscreenchange" : L && (I = "MSFullscreenChange"), n.isFullScreen = M = function() {
            return A ? r.default.mozFullScreen : N ? r.default.webkitIsFullScreen : L ? null !== r.default.msFullscreenElement : void 0
        }, n.requestFullScreen = O = function(e) {
            N ? e.webkitRequestFullScreen() : A ? e.mozRequestFullScreen() : L && e.msRequestFullscreen()
        }, n.cancelFullScreen = D = function() {
            N ? r.default.webkitCancelFullScreen() : A ? r.default.mozCancelFullScreen() : L && r.default.msExitFullscreen()
        });
        var R = n.HAS_NATIVE_FULLSCREEN = _,
            V = n.HAS_WEBKIT_NATIVE_FULLSCREEN = N,
            H = n.HAS_MOZ_NATIVE_FULLSCREEN = A,
            U = n.HAS_MS_NATIVE_FULLSCREEN = L,
            q = n.HAS_IOS_FULLSCREEN = k,
            B = n.HAS_TRUE_NATIVE_FULLSCREEN = F,
            z = n.HAS_NATIVE_FULLSCREEN_ENABLED = j,
            W = n.FULLSCREEN_EVENT_NAME = I;
        n.isFullScreen = M, n.requestFullScreen = O, n.cancelFullScreen = D, a.default.Features = a.default.Features || {}, a.default.Features.isiPad = d, a.default.Features.isiPod = c, a.default.Features.isiPhone = u, a.default.Features.isiOS = a.default.Features.isiPhone || a.default.Features.isiPad, a.default.Features.isAndroid = f, a.default.Features.isIE = p, a.default.Features.isEdge = m, a.default.Features.isChrome = h, a.default.Features.isFirefox = v, a.default.Features.isSafari = g, a.default.Features.isStockAndroid = y, a.default.Features.hasMSE = E, a.default.Features.supportsNativeHLS = C, a.default.Features.supportsPointerEvents = b, a.default.Features.supportsPassiveEvent = S, a.default.Features.hasiOSFullScreen = q, a.default.Features.hasNativeFullscreen = R, a.default.Features.hasWebkitNativeFullScreen = V, a.default.Features.hasMozNativeFullScreen = H, a.default.Features.hasMsNativeFullScreen = U, a.default.Features.hasTrueNativeFullScreen = B, a.default.Features.nativeFullScreenEnabled = z, a.default.Features.fullScreenEventName = W, a.default.Features.isFullScreen = M, a.default.Features.requestFullScreen = O, a.default.Features.cancelFullScreen = D
    }, {
        2: 2,
        3: 3,
        7: 7
    }],
    26: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function i(e) {
            return new Promise(function(t, n) {
                var o = p.default.createElement("script");
                o.src = e, o.async = !0, o.onload = function() {
                    o.remove(), t()
                }, o.onerror = function() {
                    o.remove(), n()
                }, p.default.head.appendChild(o)
            })
        }

        function r(e) {
            var t = e.getBoundingClientRect(),
                n = f.default.pageXOffset || p.default.documentElement.scrollLeft,
                o = f.default.pageYOffset || p.default.documentElement.scrollTop;
            return {
                top: t.top + o,
                left: t.left + n
            }
        }

        function a(e, t) {
            y(e, t) ? b(e, t) : E(e, t)
        }

        function s(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 400,
                n = arguments[2];
            e.style.opacity || (e.style.opacity = 1);
            var o = null;
            f.default.requestAnimationFrame(function i(r) {
                var a = r - (o = o || r),
                    s = parseFloat(1 - a / t, 2);
                e.style.opacity = s < 0 ? 0 : s, a > t ? n && "function" == typeof n && n() : f.default.requestAnimationFrame(i)
            })
        }

        function l(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 400,
                n = arguments[2];
            e.style.opacity || (e.style.opacity = 0);
            var o = null;
            f.default.requestAnimationFrame(function i(r) {
                var a = r - (o = o || r),
                    s = parseFloat(a / t, 2);
                e.style.opacity = s > 1 ? 1 : s, a > t ? n && "function" == typeof n && n() : f.default.requestAnimationFrame(i)
            })
        }

        function d(e, t) {
            var n = [];
            e = e.parentNode.firstChild;
            do {
                t && !t(e) || n.push(e)
            } while (e = e.nextSibling);
            return n
        }

        function u(e) {
            return void 0 !== e.getClientRects && "function" === e.getClientRects ? !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length) : !(!e.offsetWidth && !e.offsetHeight)
        }

        function c(e, t, n, o) {
            var i = f.default.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP"),
                r = "application/x-www-form-urlencoded; charset=UTF-8",
                a = !1,
                s = "*/".concat("*");
            switch (t) {
                case "text":
                    r = "text/plain";
                    break;
                case "json":
                    r = "application/json, text/javascript";
                    break;
                case "html":
                    r = "text/html";
                    break;
                case "xml":
                    r = "application/xml, text/xml"
            }
            "application/x-www-form-urlencoded" !== r && (s = r + ", */*; q=0.01"), i && (i.open("GET", e, !0), i.setRequestHeader("Accept", s), i.onreadystatechange = function() {
                if (!a && 4 === i.readyState)
                    if (200 === i.status) {
                        a = !0;
                        var e = void 0;
                        switch (t) {
                            case "json":
                                e = JSON.parse(i.responseText);
                                break;
                            case "xml":
                                e = i.responseXML;
                                break;
                            default:
                                e = i.responseText
                        }
                        n(e)
                    } else "function" == typeof o && o(i.status)
            }, i.send())
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.removeClass = n.addClass = n.hasClass = void 0, n.loadScript = i, n.offset = r, n.toggleClass = a, n.fadeOut = s, n.fadeIn = l, n.siblings = d, n.visible = u, n.ajax = c;
        var f = o(e(3)),
            p = o(e(2)),
            m = o(e(7)),
            h = void 0,
            v = void 0,
            g = void 0;
        "classList" in p.default.documentElement ? (h = function(e, t) {
            return void 0 !== e.classList && e.classList.contains(t)
        }, v = function(e, t) {
            return e.classList.add(t)
        }, g = function(e, t) {
            return e.classList.remove(t)
        }) : (h = function(e, t) {
            return new RegExp("\\b" + t + "\\b").test(e.className)
        }, v = function(e, t) {
            y(e, t) || (e.className += " " + t)
        }, g = function(e, t) {
            e.className = e.className.replace(new RegExp("\\b" + t + "\\b", "g"), "")
        });
        var y = n.hasClass = h,
            E = n.addClass = v,
            b = n.removeClass = g;
        m.default.Utils = m.default.Utils || {}, m.default.Utils.offset = r, m.default.Utils.hasClass = y, m.default.Utils.addClass = E, m.default.Utils.removeClass = b, m.default.Utils.toggleClass = a, m.default.Utils.fadeIn = l, m.default.Utils.fadeOut = s, m.default.Utils.siblings = d, m.default.Utils.visible = u, m.default.Utils.ajax = c, m.default.Utils.loadScript = i
    }, {
        2: 2,
        3: 3,
        7: 7
    }],
    27: [function(e, t, n) {
        "use strict";

        function o(e) {
            if ("string" != typeof e) throw new Error("Argument passed must be a string");
            var t = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;"
            };
            return e.replace(/[&<>"]/g, function(e) {
                return t[e]
            })
        }

        function i(e, t) {
            var n = this,
                o = arguments,
                i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
            if ("function" != typeof e) throw new Error("First argument must be a function");
            if ("number" != typeof t) throw new Error("Second argument must be a numeric value");
            var r = void 0;
            return function() {
                var a = n,
                    s = o,
                    l = i && !r;
                clearTimeout(r), r = setTimeout(function() {
                    r = null, i || e.apply(a, s)
                }, t), l && e.apply(a, s)
            }
        }

        function r(e) {
            return Object.getOwnPropertyNames(e).length <= 0
        }

        function a(e, t) {
            var n = /^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/,
                o = {
                    d: [],
                    w: []
                };
            return (e || "").split(" ").forEach(function(e) {
                var i = e + (t ? "." + t : "");
                i.startsWith(".") ? (o.d.push(i), o.w.push(i)) : o[n.test(e) ? "w" : "d"].push(i)
            }), o.d = o.d.join(" "), o.w = o.w.join(" "), o
        }

        function s(e, t) {
            if ("string" != typeof e) throw new Error("Event name must be a string");
            var n = e.match(/([a-z]+\.([a-z]+))/i),
                o = {
                    target: t
                };
            return null !== n && (e = n[1], o.namespace = n[2]), new window.CustomEvent(e, {
                detail: o
            })
        }

        function l(e, t) {
            return !!(e && t && 2 & e.compareDocumentPosition(t))
        }

        function d(e) {
            return "string" == typeof e
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.escapeHTML = o, n.debounce = i, n.isObjectEmpty = r, n.splitEvents = a, n.createEvent = s, n.isNodeAfter = l, n.isString = d;
        var u = function(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }(e(7));
        u.default.Utils = u.default.Utils || {}, u.default.Utils.escapeHTML = o, u.default.Utils.debounce = i, u.default.Utils.isObjectEmpty = r, u.default.Utils.splitEvents = a, u.default.Utils.createEvent = s, u.default.Utils.isNodeAfter = l, u.default.Utils.isString = d
    }, {
        7: 7
    }],
    28: [function(e, t, n) {
        "use strict";

        function o(e) {
            if ("string" != typeof e) throw new Error("`url` argument must be a string");
            var t = document.createElement("div");
            return t.innerHTML = '<a href="' + (0, u.escapeHTML)(e) + '">x</a>', t.firstChild.href
        }

        function i(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
            return e && !t ? a(e) : t
        }

        function r(e) {
            if ("string" != typeof e) throw new Error("`type` argument must be a string");
            return e && e.indexOf(";") > -1 ? e.substr(0, e.indexOf(";")) : e
        }

        function a(e) {
            if ("string" != typeof e) throw new Error("`url` argument must be a string");
            for (var t = 0, n = c.length; t < n; t++) {
                var o = c[t](e);
                if (o) return o
            }
            var i = l(s(e)),
                r = "video/mp4";
            return i && (~["mp4", "m4v", "ogg", "ogv", "webm", "flv", "mpeg", "mov"].indexOf(i) ? r = "video/" + i : ~["mp3", "oga", "wav", "mid", "midi"].indexOf(i) && (r = "audio/" + i)), r
        }

        function s(e) {
            if ("string" != typeof e) throw new Error("`url` argument must be a string");
            var t = e.split("?")[0].split("\\").pop().split("/").pop();
            return ~t.indexOf(".") ? t.substring(t.lastIndexOf(".") + 1) : ""
        }

        function l(e) {
            if ("string" != typeof e) throw new Error("`extension` argument must be a string");
            switch (e) {
                case "mp4":
                case "m4v":
                    return "mp4";
                case "webm":
                case "webma":
                case "webmv":
                    return "webm";
                case "ogg":
                case "oga":
                case "ogv":
                    return "ogg";
                default:
                    return e
            }
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.typeChecks = void 0, n.absolutizeUrl = o, n.formatType = i, n.getMimeFromType = r, n.getTypeFromFile = a, n.getExtension = s, n.normalizeExtension = l;
        var d = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(e(7)),
            u = e(27),
            c = n.typeChecks = [];
        d.default.Utils = d.default.Utils || {}, d.default.Utils.typeChecks = c, d.default.Utils.absolutizeUrl = o, d.default.Utils.formatType = i, d.default.Utils.getMimeFromType = r, d.default.Utils.getTypeFromFile = a, d.default.Utils.getExtension = s, d.default.Utils.normalizeExtension = l
    }, {
        27: 27,
        7: 7
    }],
    29: [function(e, t, n) {
        "use strict";

        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var i = o(e(2)),
            r = o(e(4));
        if ([Element.prototype, CharacterData.prototype, DocumentType.prototype].forEach(function(e) {
                e.hasOwnProperty("remove") || Object.defineProperty(e, "remove", {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    value: function() {
                        this.parentNode.removeChild(this)
                    }
                })
            }), function() {
                function e(e, t) {
                    t = t || {
                        bubbles: !1,
                        cancelable: !1,
                        detail: void 0
                    };
                    var n = i.default.createEvent("CustomEvent");
                    return n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail), n
                }
                if ("function" == typeof window.CustomEvent) return !1;
                e.prototype = window.Event.prototype, window.CustomEvent = e
            }(), "function" != typeof Object.assign && (Object.assign = function(e) {
                if (null === e || void 0 === e) throw new TypeError("Cannot convert undefined or null to object");
                for (var t = Object(e), n = 1, o = arguments.length; n < o; n++) {
                    var i = arguments[n];
                    if (null !== i)
                        for (var r in i) Object.prototype.hasOwnProperty.call(i, r) && (t[r] = i[r])
                }
                return t
            }), String.prototype.startsWith || (String.prototype.startsWith = function(e, t) {
                return t = t || 0, this.substr(t, e.length) === e
            }), Element.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function(e) {
                for (var t = (this.document || this.ownerDocument).querySelectorAll(e), n = t.length - 1; --n >= 0 && t.item(n) !== this;);
                return n > -1
            }), window.Element && !Element.prototype.closest && (Element.prototype.closest = function(e) {
                var t = (this.document || this.ownerDocument).querySelectorAll(e),
                    n = void 0,
                    o = this;
                do {
                    for (n = t.length; --n >= 0 && t.item(n) !== o;);
                } while (n < 0 && (o = o.parentElement));
                return o
            }), function() {
                for (var e = 0, t = ["ms", "moz", "webkit", "o"], n = 0; n < t.length && !window.requestAnimationFrame; ++n) window.requestAnimationFrame = window[t[n] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[n] + "CancelAnimationFrame"] || window[t[n] + "CancelRequestAnimationFrame"];
                window.requestAnimationFrame || (window.requestAnimationFrame = function(t) {
                    var n = (new Date).getTime(),
                        o = Math.max(0, 16 - (n - e)),
                        i = window.setTimeout(function() {
                            t(n + o)
                        }, o);
                    return e = n + o, i
                }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function(e) {
                    clearTimeout(e)
                })
            }(), /firefox/i.test(navigator.userAgent)) {
            var a = window.getComputedStyle;
            window.getComputedStyle = function(e, t) {
                var n = a(e, t);
                return null === n ? {
                    getPropertyValue: function() {}
                } : n
            }
        }
        window.Promise || (window.Promise = r.default),
            function(e) {
                e && e.prototype && null === e.prototype.children && Object.defineProperty(e.prototype, "children", {
                    get: function() {
                        for (var e = 0, t = void 0, n = this.childNodes, o = []; t = n[e++];) 1 === t.nodeType && o.push(t);
                        return o
                    }
                })
            }(window.Node || window.Element)
    }, {
        2: 2,
        4: 4
    }],
    30: [function(e, t, n) {
        "use strict";

        function o() {
            return !((arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 25) % 1 == 0)
        }

        function i(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 25,
                r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                a = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : "mm:ss";
            e = !e || "number" != typeof e || e < 0 ? 0 : e;
            var s = Math.round(.066666 * i),
                l = Math.round(i),
                d = 24 * Math.round(3600 * i),
                u = Math.round(600 * i),
                c = o(i) ? ";" : ":",
                f = void 0,
                p = void 0,
                m = void 0,
                h = void 0,
                v = Math.round(e * i);
            if (o(i)) {
                v < 0 && (v = d + v);
                var g = (v %= d) % u;
                v += 9 * s * Math.floor(v / u), g > s && (v += s * Math.floor((g - s) / Math.round(60 * l - s)));
                var y = Math.floor(v / l);
                f = Math.floor(Math.floor(y / 60) / 60), p = Math.floor(y / 60) % 60, m = n ? y % 60 : (v / l % 60).toFixed(r)
            } else f = Math.floor(e / 3600) % 24, p = Math.floor(e / 60) % 60, m = n ? Math.floor(e % 60) : (e % 60).toFixed(r);
            f = f <= 0 ? 0 : f, p = p <= 0 ? 0 : p, m = m <= 0 ? 0 : m;
            for (var E = a.split(":"), b = {}, S = 0, x = E.length; S < x; ++S) {
                for (var w = "", P = 0, T = E[S].length; P < T; P++) w.indexOf(E[S][P]) < 0 && (w += E[S][P]);
                ~["f", "s", "m", "h"].indexOf(w) && (b[w] = E[S].length)
            }
            var C = t || f > 0 ? (f < 10 && b.h > 1 ? "0" + f : f) + ":" : "";
            return C += (p < 10 && b.m > 1 ? "0" + p : p) + ":", C += "" + (m < 10 && b.s > 1 ? "0" + m : m), n && (C += (h = (h = (v % l).toFixed(0)) <= 0 ? 0 : h) < 10 && b.f ? c + "0" + h : "" + c + h), C
        }

        function r(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 25;
            if ("string" != typeof e) throw new TypeError("Time must be a string");
            if (e.indexOf(";") > 0 && (e = e.replace(";", ":")), !/\d{2}(\:\d{2}){0,3}/i.test(e)) throw new TypeError("Time code must have the format `00:00:00`");
            var n = e.split(":"),
                i = void 0,
                r = 0,
                a = 0,
                s = 0,
                l = 0,
                d = 0,
                u = Math.round(.066666 * t),
                c = Math.round(t),
                f = 3600 * c,
                p = 60 * c;
            switch (n.length) {
                default:
                    case 1:
                    s = parseInt(n[0], 10);
                break;
                case 2:
                        a = parseInt(n[0], 10),
                    s = parseInt(n[1], 10);
                    break;
                case 3:
                        r = parseInt(n[0], 10),
                    a = parseInt(n[1], 10),
                    s = parseInt(n[2], 10);
                    break;
                case 4:
                        r = parseInt(n[0], 10),
                    a = parseInt(n[1], 10),
                    s = parseInt(n[2], 10),
                    l = parseInt(n[3], 10)
            }
            return i = o(t) ? f * r + p * a + c * s + l - u * ((d = 60 * r + a) - Math.floor(d / 10)) : (f * r + p * a + t * s + l) / t, parseFloat(i.toFixed(3))
        }

        function a(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 25;
            e = !e || "number" != typeof e || e < 0 ? 0 : e;
            for (var o = Math.floor(e / 3600) % 24, i = Math.floor(e / 60) % 60, r = Math.floor(e % 60), a = [
                    [Math.floor((e % 1 * n).toFixed(3)), "f"],
                    [r, "s"],
                    [i, "m"],
                    [o, "h"]
                ], s = t.timeFormat, l = s[1] === s[0], d = l ? 2 : 1, u = s.length < d ? s[d] : ":", c = s[0], f = !1, p = 0, m = a.length; p < m; p++)
                if (~s.indexOf(a[p][1])) f = !0;
                else if (f) {
                for (var h = !1, v = p; v < m; v++)
                    if (a[v][0] > 0) {
                        h = !0;
                        break
                    }
                if (!h) break;
                l || (s = c + s), s = a[p][1] + u + s, l && (s = a[p][1] + s), c = a[p][1]
            }
            t.timeFormat = s
        }

        function s(e) {
            if ("string" != typeof e) throw new TypeError("Argument must be a string value");
            for (var t = ~(e = e.replace(",", ".")).indexOf(".") ? e.split(".")[1].length : 0, n = 0, o = 1, i = 0, r = (e = e.split(":").reverse()).length; i < r; i++) o = 1, i > 0 && (o = Math.pow(60, i)), n += Number(e[i]) * o;
            return Number(n.toFixed(t))
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }), n.isDropFrame = o, n.secondsToTimeCode = i, n.timeCodeToSeconds = r, n.calculateTimeFormat = a, n.convertSMPTEtoSeconds = s;
        var l = function(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }(e(7));
        l.default.Utils = l.default.Utils || {}, l.default.Utils.secondsToTimeCode = i, l.default.Utils.timeCodeToSeconds = r, l.default.Utils.calculateTimeFormat = a, l.default.Utils.convertSMPTEtoSeconds = s
    }, {
        7: 7
    }]
}, {}, [29, 6, 5, 15, 23, 20, 19, 21, 22, 24, 16, 18, 17, 9, 10, 11, 12, 13, 14]);
! function(a, b) {
    void 0 === mejs.plugins && (mejs.plugins = {}, mejs.plugins.silverlight = [], mejs.plugins.silverlight.push({
        types: []
    })), mejs.HtmlMediaElementShim = mejs.HtmlMediaElementShim || {
        getTypeFromFile: mejs.Utils.getTypeFromFile
    }, void 0 === mejs.MediaFeatures && (mejs.MediaFeatures = mejs.Features), void 0 === mejs.Utility && (mejs.Utility = mejs.Utils);
    var c = MediaElementPlayer.prototype.init;
    MediaElementPlayer.prototype.init = function() {
        this.options.classPrefix = "mejs-", this.$media = this.$node = b(this.node), c.call(this)
    };
    var d = MediaElementPlayer.prototype._meReady;
    MediaElementPlayer.prototype._meReady = function() {
        this.container = b(this.container), this.controls = b(this.controls), this.layers = b(this.layers), d.apply(this, arguments)
    }, MediaElementPlayer.prototype.getElement = function(a) {
        return void 0 !== b && a instanceof b ? a[0] : a
    }, MediaElementPlayer.prototype.buildfeatures = function(a, c, d, e) {
        for (var f = ["playpause", "current", "progress", "duration", "tracks", "volume", "fullscreen"], g = 0, h = this.options.features.length; g < h; g++) {
            var i = this.options.features[g];
            if (this["build" + i]) try {
                f.indexOf(i) === -1 ? this["build" + i](a, b(c), b(d), e) : this["build" + i](a, c, d, e)
            } catch (j) {
                console.error("error building " + i, j)
            }
        }
    }
}(window, jQuery);
/*! jQuery OwlCarousel v1.3.3 | Author Bartosz Wojciechowski ( http://www.owlgraphic.com/owlcarousel ) | License : MIT */
"function" != typeof Object.create && (Object.create = function(a) {
        function b() {}
        return b.prototype = a, new b
    }),
    function(a, b, c) {
        var d = {
            init: function(b, c) {
                var d = this;
                d.$elem = a(c), d.options = a.extend({}, a.fn.owlCarousel.options, d.$elem.data(), b), d.userOptions = b, d.loadContent()
            },
            loadContent: function() {
                function d(a) {
                    var c, d = "";
                    if ("function" == typeof b.options.jsonSuccess) b.options.jsonSuccess.apply(this, [a]);
                    else {
                        for (c in a.owl) a.owl.hasOwnProperty(c) && (d += a.owl[c].item);
                        b.$elem.html(d)
                    }
                    b.logIn()
                }
                var c, b = this;
                "function" == typeof b.options.beforeInit && b.options.beforeInit.apply(this, [b.$elem]), "string" == typeof b.options.jsonPath ? (c = b.options.jsonPath, a.getJSON(c, d)) : b.logIn()
            },
            logIn: function() {
                var a = this;
                a.$elem.data({
                    "owl-originalStyles": a.$elem.attr("style"),
                    "owl-originalClasses": a.$elem.attr("class")
                }), a.$elem.css({
                    opacity: 0
                }), a.orignalItems = a.options.items, a.checkBrowser(), a.wrapperWidth = 0, a.checkVisible = null, a.setVars()
            },
            setVars: function() {
                var a = this;
                return 0 === a.$elem.children().length ? !1 : (a.baseClass(), a.eventTypes(), a.$userItems = a.$elem.children(), a.itemsAmount = a.$userItems.length, a.wrapItems(), a.$owlItems = a.$elem.find(".owl-item"), a.$owlWrapper = a.$elem.find(".owl-wrapper"), a.playDirection = "next", a.prevItem = 0, a.prevArr = [0], a.currentItem = 0, a.customEvents(), void a.onStartup())
            },
            onStartup: function() {
                var a = this;
                a.updateItems(), a.calculateAll(), a.buildControls(), a.updateControls(), a.response(), a.moveEvents(), a.stopOnHover(), a.owlStatus(), a.options.transitionStyle !== !1 && a.transitionTypes(a.options.transitionStyle), a.options.autoPlay === !0 && (a.options.autoPlay = 5e3), a.play(), a.$elem.find(".owl-wrapper").css("display", "block"), a.$elem.is(":visible") ? a.$elem.css("opacity", 1) : a.watchVisibility(), a.onstartup = !1, a.eachMoveUpdate(), "function" == typeof a.options.afterInit && a.options.afterInit.apply(this, [a.$elem])
            },
            eachMoveUpdate: function() {
                var a = this;
                a.options.lazyLoad === !0 && a.lazyLoad(), a.options.autoHeight === !0 && a.autoHeight(), a.onVisibleItems(), "function" == typeof a.options.afterAction && a.options.afterAction.apply(this, [a.$elem])
            },
            updateVars: function() {
                var a = this;
                "function" == typeof a.options.beforeUpdate && a.options.beforeUpdate.apply(this, [a.$elem]), a.watchVisibility(), a.updateItems(), a.calculateAll(), a.updatePosition(), a.updateControls(), a.eachMoveUpdate(), "function" == typeof a.options.afterUpdate && a.options.afterUpdate.apply(this, [a.$elem])
            },
            reload: function() {
                var a = this;
                b.setTimeout(function() {
                    a.updateVars()
                }, 0)
            },
            watchVisibility: function() {
                var a = this;
                return a.$elem.is(":visible") !== !1 ? !1 : (a.$elem.css({
                    opacity: 0
                }), b.clearInterval(a.autoPlayInterval), b.clearInterval(a.checkVisible), void(a.checkVisible = b.setInterval(function() {
                    a.$elem.is(":visible") && (a.reload(), a.$elem.animate({
                        opacity: 1
                    }, 200), b.clearInterval(a.checkVisible))
                }, 500)))
            },
            wrapItems: function() {
                var a = this;
                a.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'), a.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'), a.wrapperOuter = a.$elem.find(".owl-wrapper-outer"), a.$elem.css("display", "block")
            },
            baseClass: function() {
                var a = this,
                    b = a.$elem.hasClass(a.options.baseClass),
                    c = a.$elem.hasClass(a.options.theme);
                b || a.$elem.addClass(a.options.baseClass), c || a.$elem.addClass(a.options.theme)
            },
            updateItems: function() {
                var c, d, b = this;
                if (b.options.responsive === !1) return !1;
                if (b.options.singleItem === !0) return b.options.items = b.orignalItems = 1, b.options.itemsCustom = !1, b.options.itemsDesktop = !1, b.options.itemsDesktopSmall = !1, b.options.itemsTablet = !1, b.options.itemsTabletSmall = !1, b.options.itemsMobile = !1, !1;
                if (c = a(b.options.responsiveBaseWidth).width(), c > (b.options.itemsDesktop[0] || b.orignalItems) && (b.options.items = b.orignalItems), b.options.itemsCustom !== !1)
                    for (b.options.itemsCustom.sort(function(a, b) {
                            return a[0] - b[0]
                        }), d = 0; d < b.options.itemsCustom.length; d += 1) b.options.itemsCustom[d][0] <= c && (b.options.items = b.options.itemsCustom[d][1]);
                else c <= b.options.itemsDesktop[0] && b.options.itemsDesktop !== !1 && (b.options.items = b.options.itemsDesktop[1]), c <= b.options.itemsDesktopSmall[0] && b.options.itemsDesktopSmall !== !1 && (b.options.items = b.options.itemsDesktopSmall[1]), c <= b.options.itemsTablet[0] && b.options.itemsTablet !== !1 && (b.options.items = b.options.itemsTablet[1]), c <= b.options.itemsTabletSmall[0] && b.options.itemsTabletSmall !== !1 && (b.options.items = b.options.itemsTabletSmall[1]), c <= b.options.itemsMobile[0] && b.options.itemsMobile !== !1 && (b.options.items = b.options.itemsMobile[1]);
                b.options.items > b.itemsAmount && b.options.itemsScaleUp === !0 && (b.options.items = b.itemsAmount)
            },
            response: function() {
                var d, e, c = this;
                return c.options.responsive !== !0 ? !1 : (e = a(b).width(), c.resizer = function() {
                    a(b).width() !== e && (c.options.autoPlay !== !1 && b.clearInterval(c.autoPlayInterval), b.clearTimeout(d), d = b.setTimeout(function() {
                        e = a(b).width(), c.updateVars()
                    }, c.options.responsiveRefreshRate))
                }, void a(b).resize(c.resizer))
            },
            updatePosition: function() {
                var a = this;
                a.jumpTo(a.currentItem), a.options.autoPlay !== !1 && a.checkAp()
            },
            appendItemsSizes: function() {
                var b = this,
                    c = 0,
                    d = b.itemsAmount - b.options.items;
                b.$owlItems.each(function(e) {
                    var f = a(this);
                    f.css({
                        width: b.itemWidth
                    }).data("owl-item", Number(e)), (e % b.options.items === 0 || e === d) && (e > d || (c += 1)), f.data("owl-roundPages", c)
                })
            },
            appendWrapperSizes: function() {
                var a = this,
                    b = a.$owlItems.length * a.itemWidth;
                a.$owlWrapper.css({
                    width: 2 * b,
                    left: 0
                }), a.appendItemsSizes()
            },
            calculateAll: function() {
                var a = this;
                a.calculateWidth(), a.appendWrapperSizes(), a.loops(), a.max()
            },
            calculateWidth: function() {
                var a = this;
                a.itemWidth = Math.round(a.$elem.width() / a.options.items)
            },
            max: function() {
                var a = this,
                    b = -1 * (a.itemsAmount * a.itemWidth - a.options.items * a.itemWidth);
                return a.options.items > a.itemsAmount ? (a.maximumItem = 0, b = 0, a.maximumPixels = 0) : (a.maximumItem = a.itemsAmount - a.options.items, a.maximumPixels = b), b
            },
            min: function() {
                return 0
            },
            loops: function() {
                var e, f, g, b = this,
                    c = 0,
                    d = 0;
                for (b.positionsInArray = [0], b.pagesInArray = [], e = 0; e < b.itemsAmount; e += 1) d += b.itemWidth, b.positionsInArray.push(-d), b.options.scrollPerPage === !0 && (f = a(b.$owlItems[e]), g = f.data("owl-roundPages"), g !== c && (b.pagesInArray[c] = b.positionsInArray[e], c = g))
            },
            buildControls: function() {
                var b = this;
                (b.options.navigation === !0 || b.options.pagination === !0) && (b.owlControls = a('<div class="owl-controls"/>').toggleClass("clickable", !b.browser.isTouch).appendTo(b.$elem)), b.options.pagination === !0 && b.buildPagination(), b.options.navigation === !0 && b.buildButtons()
            },
            buildButtons: function() {
                var b = this,
                    c = a('<div class="owl-buttons"/>');
                b.owlControls.append(c), b.buttonPrev = a("<div/>", {
                    "class": "owl-prev",
                    html: b.options.navigationText[0] || ""
                }), b.buttonNext = a("<div/>", {
                    "class": "owl-next",
                    html: b.options.navigationText[1] || ""
                }), c.append(b.buttonPrev).append(b.buttonNext), c.on("touchstart.owlControls mousedown.owlControls", 'div[class^="owl"]', function(a) {
                    a.preventDefault()
                }), c.on("touchend.owlControls mouseup.owlControls", 'div[class^="owl"]', function(c) {
                    c.preventDefault(), a(this).hasClass("owl-next") ? b.next() : b.prev()
                })
            },
            buildPagination: function() {
                var b = this;
                b.paginationWrapper = a('<div class="owl-pagination"/>'), b.owlControls.append(b.paginationWrapper), b.paginationWrapper.on("touchend.owlControls mouseup.owlControls", ".owl-page", function(c) {
                    c.preventDefault(), Number(a(this).data("owl-page")) !== b.currentItem && b.goTo(Number(a(this).data("owl-page")), !0)
                })
            },
            updatePagination: function() {
                var c, d, e, f, g, h, b = this;
                if (b.options.pagination === !1) return !1;
                for (b.paginationWrapper.html(""), c = 0, d = b.itemsAmount - b.itemsAmount % b.options.items, f = 0; f < b.itemsAmount; f += 1) f % b.options.items === 0 && (c += 1, d === f && (e = b.itemsAmount - b.options.items), g = a("<div/>", {
                    "class": "owl-page"
                }), h = a("<span></span>", {
                    text: b.options.paginationNumbers === !0 ? c : "",
                    "class": b.options.paginationNumbers === !0 ? "owl-numbers" : ""
                }), g.append(h), g.data("owl-page", d === f ? e : f), g.data("owl-roundPages", c), b.paginationWrapper.append(g));
                b.checkPagination()
            },
            checkPagination: function() {
                var b = this;
                return b.options.pagination === !1 ? !1 : void b.paginationWrapper.find(".owl-page").each(function() {
                    a(this).data("owl-roundPages") === a(b.$owlItems[b.currentItem]).data("owl-roundPages") && (b.paginationWrapper.find(".owl-page").removeClass("active"), a(this).addClass("active"))
                })
            },
            checkNavigation: function() {
                var a = this;
                return a.options.navigation === !1 ? !1 : void(a.options.rewindNav === !1 && (0 === a.currentItem && 0 === a.maximumItem ? (a.buttonPrev.addClass("disabled"), a.buttonNext.addClass("disabled")) : 0 === a.currentItem && 0 !== a.maximumItem ? (a.buttonPrev.addClass("disabled"), a.buttonNext.removeClass("disabled")) : a.currentItem === a.maximumItem ? (a.buttonPrev.removeClass("disabled"), a.buttonNext.addClass("disabled")) : 0 !== a.currentItem && a.currentItem !== a.maximumItem && (a.buttonPrev.removeClass("disabled"), a.buttonNext.removeClass("disabled"))))
            },
            updateControls: function() {
                var a = this;
                a.updatePagination(), a.checkNavigation(), a.owlControls && (a.options.items >= a.itemsAmount ? a.owlControls.hide() : a.owlControls.show())
            },
            destroyControls: function() {
                var a = this;
                a.owlControls && a.owlControls.remove()
            },
            next: function(a) {
                var b = this;
                if (b.isTransition) return !1;
                if (b.currentItem += b.options.scrollPerPage === !0 ? b.options.items : 1, b.currentItem > b.maximumItem + (b.options.scrollPerPage === !0 ? b.options.items - 1 : 0)) {
                    if (b.options.rewindNav !== !0) return b.currentItem = b.maximumItem, !1;
                    b.currentItem = 0, a = "rewind"
                }
                b.goTo(b.currentItem, a)
            },
            prev: function(a) {
                var b = this;
                if (b.isTransition) return !1;
                if (b.options.scrollPerPage === !0 && b.currentItem > 0 && b.currentItem < b.options.items ? b.currentItem = 0 : b.currentItem -= b.options.scrollPerPage === !0 ? b.options.items : 1, b.currentItem < 0) {
                    if (b.options.rewindNav !== !0) return b.currentItem = 0, !1;
                    b.currentItem = b.maximumItem, a = "rewind"
                }
                b.goTo(b.currentItem, a)
            },
            goTo: function(a, c, d) {
                var f, e = this;
                return e.isTransition ? !1 : ("function" == typeof e.options.beforeMove && e.options.beforeMove.apply(this, [e.$elem]), a >= e.maximumItem ? a = e.maximumItem : 0 >= a && (a = 0), e.currentItem = e.owl.currentItem = a, e.options.transitionStyle !== !1 && "drag" !== d && 1 === e.options.items && e.browser.support3d === !0 ? (e.swapSpeed(0), e.browser.support3d === !0 ? e.transition3d(e.positionsInArray[a]) : e.css2slide(e.positionsInArray[a], 1), e.afterGo(), e.singleItemTransition(), !1) : (f = e.positionsInArray[a], e.browser.support3d === !0 ? (e.isCss3Finish = !1, c === !0 ? (e.swapSpeed("paginationSpeed"), b.setTimeout(function() {
                    e.isCss3Finish = !0
                }, e.options.paginationSpeed)) : "rewind" === c ? (e.swapSpeed(e.options.rewindSpeed), b.setTimeout(function() {
                    e.isCss3Finish = !0
                }, e.options.rewindSpeed)) : (e.swapSpeed("slideSpeed"), b.setTimeout(function() {
                    e.isCss3Finish = !0
                }, e.options.slideSpeed)), e.transition3d(f)) : c === !0 ? e.css2slide(f, e.options.paginationSpeed) : "rewind" === c ? e.css2slide(f, e.options.rewindSpeed) : e.css2slide(f, e.options.slideSpeed), void e.afterGo()))
            },
            jumpTo: function(a) {
                var b = this;
                "function" == typeof b.options.beforeMove && b.options.beforeMove.apply(this, [b.$elem]), a >= b.maximumItem || -1 === a ? a = b.maximumItem : 0 >= a && (a = 0), b.swapSpeed(0), b.browser.support3d === !0 ? b.transition3d(b.positionsInArray[a]) : b.css2slide(b.positionsInArray[a], 1), b.currentItem = b.owl.currentItem = a, b.afterGo()
            },
            afterGo: function() {
                var a = this;
                a.prevArr.push(a.currentItem), a.prevItem = a.owl.prevItem = a.prevArr[a.prevArr.length - 2], a.prevArr.shift(0), a.prevItem !== a.currentItem && (a.checkPagination(), a.checkNavigation(), a.eachMoveUpdate(), a.options.autoPlay !== !1 && a.checkAp()), "function" == typeof a.options.afterMove && a.prevItem !== a.currentItem && a.options.afterMove.apply(this, [a.$elem])
            },
            stop: function() {
                var a = this;
                a.apStatus = "stop", b.clearInterval(a.autoPlayInterval)
            },
            checkAp: function() {
                var a = this;
                "stop" !== a.apStatus && a.play()
            },
            play: function() {
                var a = this;
                return a.apStatus = "play", a.options.autoPlay === !1 ? !1 : (b.clearInterval(a.autoPlayInterval), void(a.autoPlayInterval = b.setInterval(function() {
                    a.next(!0)
                }, a.options.autoPlay)))
            },
            swapSpeed: function(a) {
                var b = this;
                "slideSpeed" === a ? b.$owlWrapper.css(b.addCssSpeed(b.options.slideSpeed)) : "paginationSpeed" === a ? b.$owlWrapper.css(b.addCssSpeed(b.options.paginationSpeed)) : "string" != typeof a && b.$owlWrapper.css(b.addCssSpeed(a))
            },
            addCssSpeed: function(a) {
                return {
                    "-webkit-transition": "all " + a + "ms ease",
                    "-moz-transition": "all " + a + "ms ease",
                    "-o-transition": "all " + a + "ms ease",
                    transition: "all " + a + "ms ease"
                }
            },
            removeTransition: function() {
                return {
                    "-webkit-transition": "",
                    "-moz-transition": "",
                    "-o-transition": "",
                    transition: ""
                }
            },
            doTranslate: function(a) {
                return {
                    "-webkit-transform": "translate3d(" + a + "px, 0px, 0px)",
                    "-moz-transform": "translate3d(" + a + "px, 0px, 0px)",
                    "-o-transform": "translate3d(" + a + "px, 0px, 0px)",
                    "-ms-transform": "translate3d(" + a + "px, 0px, 0px)",
                    transform: "translate3d(" + a + "px, 0px,0px)"
                }
            },
            transition3d: function(a) {
                var b = this;
                b.$owlWrapper.css(b.doTranslate(a))
            },
            css2move: function(a) {
                var b = this;
                b.$owlWrapper.css({
                    left: a
                })
            },
            css2slide: function(a, b) {
                var c = this;
                c.isCssFinish = !1, c.$owlWrapper.stop(!0, !0).animate({
                    left: a
                }, {
                    duration: b || c.options.slideSpeed,
                    complete: function() {
                        c.isCssFinish = !0
                    }
                })
            },
            checkBrowser: function() {
                var f, g, h, i, a = this,
                    d = "translate3d(0px, 0px, 0px)",
                    e = c.createElement("div");
                e.style.cssText = "  -moz-transform:" + d + "; -ms-transform:" + d + "; -o-transform:" + d + "; -webkit-transform:" + d + "; transform:" + d, f = /translate3d\(0px, 0px, 0px\)/g, g = e.style.cssText.match(f), h = null !== g && 1 === g.length, i = "ontouchstart" in b || b.navigator.msMaxTouchPoints, a.browser = {
                    support3d: h,
                    isTouch: i
                }
            },
            moveEvents: function() {
                var a = this;
                (a.options.mouseDrag !== !1 || a.options.touchDrag !== !1) && (a.gestures(), a.disabledEvents())
            },
            eventTypes: function() {
                var a = this,
                    b = ["s", "e", "x"];
                a.ev_types = {}, a.options.mouseDrag === !0 && a.options.touchDrag === !0 ? b = ["touchstart.owl mousedown.owl", "touchmove.owl mousemove.owl", "touchend.owl touchcancel.owl mouseup.owl"] : a.options.mouseDrag === !1 && a.options.touchDrag === !0 ? b = ["touchstart.owl", "touchmove.owl", "touchend.owl touchcancel.owl"] : a.options.mouseDrag === !0 && a.options.touchDrag === !1 && (b = ["mousedown.owl", "mousemove.owl", "mouseup.owl"]), a.ev_types.start = b[0], a.ev_types.move = b[1], a.ev_types.end = b[2]
            },
            disabledEvents: function() {
                var b = this;
                b.$elem.on("dragstart.owl", function(a) {
                    a.preventDefault()
                }), b.$elem.on("mousedown.disableTextSelect", function(b) {
                    return a(b.target).is("input, textarea, select, option")
                })
            },
            gestures: function() {
                function f(a) {
                    if (void 0 !== a.touches) return {
                        x: a.touches[0].pageX,
                        y: a.touches[0].pageY
                    };
                    if (void 0 === a.touches) {
                        if (void 0 !== a.pageX) return {
                            x: a.pageX,
                            y: a.pageY
                        };
                        if (void 0 === a.pageX) return {
                            x: a.clientX,
                            y: a.clientY
                        }
                    }
                }

                function g(b) {
                    "on" === b ? (a(c).on(d.ev_types.move, i), a(c).on(d.ev_types.end, j)) : "off" === b && (a(c).off(d.ev_types.move), a(c).off(d.ev_types.end))
                }

                function h(c) {
                    var i, h = c.originalEvent || c || b.event;
                    if (3 === h.which) return !1;
                    if (!(d.itemsAmount <= d.options.items)) {
                        if (d.isCssFinish === !1 && !d.options.dragBeforeAnimFinish) return !1;
                        if (d.isCss3Finish === !1 && !d.options.dragBeforeAnimFinish) return !1;
                        d.options.autoPlay !== !1 && b.clearInterval(d.autoPlayInterval), d.browser.isTouch === !0 || d.$owlWrapper.hasClass("grabbing") || d.$owlWrapper.addClass("grabbing"), d.newPosX = 0, d.newRelativeX = 0, a(this).css(d.removeTransition()), i = a(this).position(), e.relativePos = i.left, e.offsetX = f(h).x - i.left, e.offsetY = f(h).y - i.top, g("on"), e.sliding = !1, e.targetElement = h.target || h.srcElement
                    }
                }

                function i(g) {
                    var i, j, h = g.originalEvent || g || b.event;
                    d.newPosX = f(h).x - e.offsetX, d.newPosY = f(h).y - e.offsetY, d.newRelativeX = d.newPosX - e.relativePos, "function" == typeof d.options.startDragging && e.dragging !== !0 && 0 !== d.newRelativeX && (e.dragging = !0, d.options.startDragging.apply(d, [d.$elem])), (d.newRelativeX > 8 || d.newRelativeX < -8) && d.browser.isTouch === !0 && (void 0 !== h.preventDefault ? h.preventDefault() : h.returnValue = !1, e.sliding = !0), (d.newPosY > 10 || d.newPosY < -10) && e.sliding === !1 && a(c).off("touchmove.owl"), i = function() {
                        return d.newRelativeX / 5
                    }, j = function() {
                        return d.maximumPixels + d.newRelativeX / 5
                    }, d.newPosX = Math.max(Math.min(d.newPosX, i()), j()), d.browser.support3d === !0 ? d.transition3d(d.newPosX) : d.css2move(d.newPosX)
                }

                function j(c) {
                    var h, i, j, f = c.originalEvent || c || b.event;
                    f.target = f.target || f.srcElement, e.dragging = !1, d.browser.isTouch !== !0 && d.$owlWrapper.removeClass("grabbing"), d.newRelativeX < 0 ? d.dragDirection = d.owl.dragDirection = "left" : d.dragDirection = d.owl.dragDirection = "right", 0 !== d.newRelativeX && (h = d.getNewPosition(), d.goTo(h, !1, "drag"), e.targetElement === f.target && d.browser.isTouch !== !0 && (a(f.target).on("click.disable", function(b) {
                        b.stopImmediatePropagation(), b.stopPropagation(), b.preventDefault(), a(b.target).off("click.disable")
                    }), i = a._data(f.target, "events").click, j = i.pop(), i.splice(0, 0, j))), g("off")
                }
                var d = this,
                    e = {
                        offsetX: 0,
                        offsetY: 0,
                        baseElWidth: 0,
                        relativePos: 0,
                        position: null,
                        minSwipe: null,
                        maxSwipe: null,
                        sliding: null,
                        dargging: null,
                        targetElement: null
                    };
                d.isCssFinish = !0, d.$elem.on(d.ev_types.start, ".owl-wrapper", h)
            },
            getNewPosition: function() {
                var a = this,
                    b = a.closestItem();
                return b > a.maximumItem ? (a.currentItem = a.maximumItem, b = a.maximumItem) : a.newPosX >= 0 && (b = 0, a.currentItem = 0), b
            },
            closestItem: function() {
                var b = this,
                    c = b.options.scrollPerPage === !0 ? b.pagesInArray : b.positionsInArray,
                    d = b.newPosX,
                    e = null;
                return a.each(c, function(f, g) {
                    d - b.itemWidth / 20 > c[f + 1] && d - b.itemWidth / 20 < g && "left" === b.moveDirection() ? (e = g, b.options.scrollPerPage === !0 ? b.currentItem = a.inArray(e, b.positionsInArray) : b.currentItem = f) : d + b.itemWidth / 20 < g && d + b.itemWidth / 20 > (c[f + 1] || c[f] - b.itemWidth) && "right" === b.moveDirection() && (b.options.scrollPerPage === !0 ? (e = c[f + 1] || c[c.length - 1], b.currentItem = a.inArray(e, b.positionsInArray)) : (e = c[f + 1], b.currentItem = f + 1))
                }), b.currentItem
            },
            moveDirection: function() {
                var b, a = this;
                return a.newRelativeX < 0 ? (b = "right", a.playDirection = "next") : (b = "left", a.playDirection = "prev"), b
            },
            customEvents: function() {
                var a = this;
                a.$elem.on("owl.next", function() {
                    a.next()
                }), a.$elem.on("owl.prev", function() {
                    a.prev()
                }), a.$elem.on("owl.play", function(b, c) {
                    a.options.autoPlay = c, a.play(), a.hoverStatus = "play"
                }), a.$elem.on("owl.stop", function() {
                    a.stop(), a.hoverStatus = "stop"
                }), a.$elem.on("owl.goTo", function(b, c) {
                    a.goTo(c)
                }), a.$elem.on("owl.jumpTo", function(b, c) {
                    a.jumpTo(c)
                })
            },
            stopOnHover: function() {
                var a = this;
                a.options.stopOnHover === !0 && a.browser.isTouch !== !0 && a.options.autoPlay !== !1 && (a.$elem.on("mouseover", function() {
                    a.stop()
                }), a.$elem.on("mouseout", function() {
                    "stop" !== a.hoverStatus && a.play()
                }))
            },
            lazyLoad: function() {
                var c, d, e, f, g, b = this;
                if (b.options.lazyLoad === !1) return !1;
                for (c = 0; c < b.itemsAmount; c += 1) d = a(b.$owlItems[c]), "loaded" !== d.data("owl-loaded") && (e = d.data("owl-item"), f = d.find(".lazyOwl"), "string" == typeof f.data("src") ? (void 0 === d.data("owl-loaded") && (f.hide(), d.addClass("loading").data("owl-loaded", "checked")), g = b.options.lazyFollow === !0 ? e >= b.currentItem : !0, g && e < b.currentItem + b.options.items && f.length && f.each(function() {
                    b.lazyPreload(d, a(this))
                })) : d.data("owl-loaded", "loaded"))
            },
            lazyPreload: function(a, c) {
                function g() {
                    a.data("owl-loaded", "loaded").removeClass("loading"), c.removeAttr("data-src"), "fade" === d.options.lazyEffect ? c.fadeIn(400) : c.show(), "function" == typeof d.options.afterLazyLoad && d.options.afterLazyLoad.apply(this, [d.$elem])
                }

                function h() {
                    e += 1, d.completeImg(c.get(0)) || f === !0 ? g() : 100 >= e ? b.setTimeout(h, 100) : g()
                }
                var f, d = this,
                    e = 0;
                "DIV" === c.prop("tagName") ? (c.css("background-image", "url(" + c.data("src") + ")"), f = !0) : c[0].src = c.data("src"), h()
            },
            autoHeight: function() {
                function f() {
                    var d = a(c.$owlItems[c.currentItem]).height();
                    c.wrapperOuter.css("height", d + "px"), c.wrapperOuter.hasClass("autoHeight") || b.setTimeout(function() {
                        c.wrapperOuter.addClass("autoHeight")
                    }, 0)
                }

                function g() {
                    e += 1, c.completeImg(d.get(0)) ? f() : 100 >= e ? b.setTimeout(g, 100) : c.wrapperOuter.css("height", "")
                }
                var e, c = this,
                    d = a(c.$owlItems[c.currentItem]).find("img");
                void 0 !== d.get(0) ? (e = 0, g()) : f()
            },
            completeImg: function(a) {
                var b;
                return a.complete ? (b = typeof a.naturalWidth, "undefined" !== b && 0 === a.naturalWidth ? !1 : !0) : !1
            },
            onVisibleItems: function() {
                var c, b = this;
                for (b.options.addClassActive === !0 && b.$owlItems.removeClass("active"), b.visibleItems = [], c = b.currentItem; c < b.currentItem + b.options.items; c += 1) b.visibleItems.push(c), b.options.addClassActive === !0 && a(b.$owlItems[c]).addClass("active");
                b.owl.visibleItems = b.visibleItems
            },
            transitionTypes: function(a) {
                var b = this;
                b.outClass = "owl-" + a + "-out", b.inClass = "owl-" + a + "-in"
            },
            singleItemTransition: function() {
                function i(a) {
                    return {
                        position: "relative",
                        left: a + "px"
                    }
                }
                var a = this,
                    b = a.outClass,
                    c = a.inClass,
                    d = a.$owlItems.eq(a.currentItem),
                    e = a.$owlItems.eq(a.prevItem),
                    f = Math.abs(a.positionsInArray[a.currentItem]) + a.positionsInArray[a.prevItem],
                    g = Math.abs(a.positionsInArray[a.currentItem]) + a.itemWidth / 2,
                    h = "webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";
                a.isTransition = !0, a.$owlWrapper.addClass("owl-origin").css({
                    "-webkit-transform-origin": g + "px",
                    "-moz-perspective-origin": g + "px",
                    "perspective-origin": g + "px"
                }), e.css(i(f, 10)).addClass(b).on(h, function() {
                    a.endPrev = !0, e.off(h), a.clearTransStyle(e, b)
                }), d.addClass(c).on(h, function() {
                    a.endCurrent = !0, d.off(h), a.clearTransStyle(d, c)
                })
            },
            clearTransStyle: function(a, b) {
                var c = this;
                a.css({
                    position: "",
                    left: ""
                }).removeClass(b), c.endPrev && c.endCurrent && (c.$owlWrapper.removeClass("owl-origin"), c.endPrev = !1, c.endCurrent = !1, c.isTransition = !1)
            },
            owlStatus: function() {
                var a = this;
                a.owl = {
                    userOptions: a.userOptions,
                    baseElement: a.$elem,
                    userItems: a.$userItems,
                    owlItems: a.$owlItems,
                    currentItem: a.currentItem,
                    prevItem: a.prevItem,
                    visibleItems: a.visibleItems,
                    isTouch: a.browser.isTouch,
                    browser: a.browser,
                    dragDirection: a.dragDirection
                }
            },
            clearEvents: function() {
                var d = this;
                d.$elem.off(".owl owl mousedown.disableTextSelect"), a(c).off(".owl owl"), a(b).off("resize", d.resizer)
            },
            unWrap: function() {
                var a = this;
                0 !== a.$elem.children().length && (a.$owlWrapper.unwrap(), a.$userItems.unwrap().unwrap(), a.owlControls && a.owlControls.remove()), a.clearEvents(), a.$elem.attr({
                    style: a.$elem.data("owl-originalStyles") || "",
                    "class": a.$elem.data("owl-originalClasses")
                })
            },
            destroy: function() {
                var a = this;
                a.stop(), b.clearInterval(a.checkVisible), a.unWrap(), a.$elem.removeData()
            },
            reinit: function(b) {
                var c = this,
                    d = a.extend({}, c.userOptions, b);
                c.unWrap(), c.init(d, c.$elem)
            },
            addItem: function(a, b) {
                var d, c = this;
                return a ? 0 === c.$elem.children().length ? (c.$elem.append(a), c.setVars(), !1) : (c.unWrap(), d = void 0 === b || -1 === b ? -1 : b, d >= c.$userItems.length || -1 === d ? c.$userItems.eq(-1).after(a) : c.$userItems.eq(d).before(a), void c.setVars()) : !1
            },
            removeItem: function(a) {
                var c, b = this;
                return 0 === b.$elem.children().length ? !1 : (c = void 0 === a || -1 === a ? -1 : a, b.unWrap(), b.$userItems.eq(c).remove(), void b.setVars())
            }
        };
        a.fn.owlCarousel = function(b) {
            return this.each(function() {
                if (a(this).data("owl-init") === !0) return !1;
                a(this).data("owl-init", !0);
                var c = Object.create(d);
                c.init(b, this), a.data(this, "owlCarousel", c)
            })
        }, a.fn.owlCarousel.options = {
            items: 5,
            itemsCustom: !1,
            itemsDesktop: [1199, 4],
            itemsDesktopSmall: [979, 3],
            itemsTablet: [768, 2],
            itemsTabletSmall: !1,
            itemsMobile: [479, 1],
            singleItem: !1,
            itemsScaleUp: !1,
            slideSpeed: 200,
            paginationSpeed: 800,
            rewindSpeed: 1e3,
            autoPlay: !1,
            stopOnHover: !1,
            navigation: !1,
            navigationText: ["prev", "next"],
            rewindNav: !0,
            scrollPerPage: !1,
            pagination: !0,
            paginationNumbers: !1,
            responsive: !0,
            responsiveRefreshRate: 200,
            responsiveBaseWidth: b,
            baseClass: "owl-carousel",
            theme: "owl-theme",
            lazyLoad: !1,
            lazyFollow: !0,
            lazyEffect: "fade",
            autoHeight: !1,
            jsonPath: !1,
            jsonSuccess: !1,
            dragBeforeAnimFinish: !0,
            mouseDrag: !0,
            touchDrag: !0,
            addClassActive: !1,
            transitionStyle: !1,
            beforeUpdate: !1,
            afterUpdate: !1,
            beforeInit: !1,
            afterInit: !1,
            beforeMove: !1,
            afterMove: !1,
            afterAction: !1,
            startDragging: !1,
            afterLazyLoad: !1
        }
    }(jQuery, window, document);
/*! Magnific Popup - v1.1.0 - 2016-02-20 | Dmitry Semenov ( http://dimsemenov.com/plugins/magnific-popup/ ) | License: MIT | Copyright (c) 2016 Dmitry Semenov; */
! function(a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : a("object" == typeof exports ? require("jquery") : window.jQuery || window.Zepto)
}(function(a) {
    var b, c, d, e, f, g, h = "Close",
        i = "BeforeClose",
        j = "AfterClose",
        k = "BeforeAppend",
        l = "MarkupParse",
        m = "Open",
        n = "Change",
        o = "mfp",
        p = "." + o,
        q = "mfp-ready",
        r = "mfp-removing",
        s = "mfp-prevent-close",
        t = function() {},
        u = !!window.jQuery,
        v = a(window),
        w = function(a, c) {
            b.ev.on(o + a + p, c)
        },
        x = function(b, c, d, e) {
            var f = document.createElement("div");
            return f.className = "mfp-" + b, d && (f.innerHTML = d), e ? c && c.appendChild(f) : (f = a(f), c && f.appendTo(c)), f
        },
        y = function(c, d) {
            b.ev.triggerHandler(o + c, d), b.st.callbacks && (c = c.charAt(0).toLowerCase() + c.slice(1), b.st.callbacks[c] && b.st.callbacks[c].apply(b, a.isArray(d) ? d : [d]))
        },
        z = function(c) {
            return c === g && b.currTemplate.closeBtn || (b.currTemplate.closeBtn = a(b.st.closeMarkup.replace("%title%", b.st.tClose)), g = c), b.currTemplate.closeBtn
        },
        A = function() {
            a.magnificPopup.instance || (b = new t, b.init(), a.magnificPopup.instance = b)
        },
        B = function() {
            var a = document.createElement("p").style,
                b = ["ms", "O", "Moz", "Webkit"];
            if (void 0 !== a.transition) return !0;
            for (; b.length;)
                if (b.pop() + "Transition" in a) return !0;
            return !1
        };
    t.prototype = {
        constructor: t,
        init: function() {
            var c = navigator.appVersion;
            b.isLowIE = b.isIE8 = document.all && !document.addEventListener, b.isAndroid = /android/gi.test(c), b.isIOS = /iphone|ipad|ipod/gi.test(c), b.supportsTransition = B(), b.probablyMobile = b.isAndroid || b.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent), d = a(document), b.popupsCache = {}
        },
        open: function(c) {
            var e;
            if (c.isObj === !1) {
                b.items = c.items.toArray(), b.index = 0;
                var g, h = c.items;
                for (e = 0; e < h.length; e++)
                    if (g = h[e], g.parsed && (g = g.el[0]), g === c.el[0]) {
                        b.index = e;
                        break
                    }
            } else b.items = a.isArray(c.items) ? c.items : [c.items], b.index = c.index || 0;
            if (b.isOpen) return void b.updateItemHTML();
            b.types = [], f = "", c.mainEl && c.mainEl.length ? b.ev = c.mainEl.eq(0) : b.ev = d, c.key ? (b.popupsCache[c.key] || (b.popupsCache[c.key] = {}), b.currTemplate = b.popupsCache[c.key]) : b.currTemplate = {}, b.st = a.extend(!0, {}, a.magnificPopup.defaults, c), b.fixedContentPos = "auto" === b.st.fixedContentPos ? !b.probablyMobile : b.st.fixedContentPos, b.st.modal && (b.st.closeOnContentClick = !1, b.st.closeOnBgClick = !1, b.st.showCloseBtn = !1, b.st.enableEscapeKey = !1), b.bgOverlay || (b.bgOverlay = x("bg").on("click" + p, function() {
                b.close()
            }), b.wrap = x("wrap").attr("tabindex", -1).on("click" + p, function(a) {
                b._checkIfClose(a.target) && b.close()
            }), b.container = x("container", b.wrap)), b.contentContainer = x("content"), b.st.preloader && (b.preloader = x("preloader", b.container, b.st.tLoading));
            var i = a.magnificPopup.modules;
            for (e = 0; e < i.length; e++) {
                var j = i[e];
                j = j.charAt(0).toUpperCase() + j.slice(1), b["init" + j].call(b)
            }
            y("BeforeOpen"), b.st.showCloseBtn && (b.st.closeBtnInside ? (w(l, function(a, b, c, d) {
                c.close_replaceWith = z(d.type)
            }), f += " mfp-close-btn-in") : b.wrap.append(z())), b.st.alignTop && (f += " mfp-align-top"), b.fixedContentPos ? b.wrap.css({
                overflow: b.st.overflowY,
                overflowX: "hidden",
                overflowY: b.st.overflowY
            }) : b.wrap.css({
                top: v.scrollTop(),
                position: "absolute"
            }), (b.st.fixedBgPos === !1 || "auto" === b.st.fixedBgPos && !b.fixedContentPos) && b.bgOverlay.css({
                height: d.height(),
                position: "absolute"
            }), b.st.enableEscapeKey && d.on("keyup" + p, function(a) {
                27 === a.keyCode && b.close()
            }), v.on("resize" + p, function() {
                b.updateSize()
            }), b.st.closeOnContentClick || (f += " mfp-auto-cursor"), f && b.wrap.addClass(f);
            var k = b.wH = v.height(),
                n = {};
            if (b.fixedContentPos && b._hasScrollBar(k)) {
                var o = b._getScrollbarSize();
                o && (n.marginRight = o)
            }
            b.fixedContentPos && (b.isIE7 ? a("body, html").css("overflow", "hidden") : n.overflow = "hidden");
            var r = b.st.mainClass;
            return b.isIE7 && (r += " mfp-ie7"), r && b._addClassToMFP(r), b.updateItemHTML(), y("BuildControls"), a("html").css(n), b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo || a(document.body)), b._lastFocusedEl = document.activeElement, setTimeout(function() {
                b.content ? (b._addClassToMFP(q), b._setFocus()) : b.bgOverlay.addClass(q), d.on("focusin" + p, b._onFocusIn)
            }, 16), b.isOpen = !0, b.updateSize(k), y(m), c
        },
        close: function() {
            b.isOpen && (y(i), b.isOpen = !1, b.st.removalDelay && !b.isLowIE && b.supportsTransition ? (b._addClassToMFP(r), setTimeout(function() {
                b._close()
            }, b.st.removalDelay)) : b._close())
        },
        _close: function() {
            y(h);
            var c = r + " " + q + " ";
            if (b.bgOverlay.detach(), b.wrap.detach(), b.container.empty(), b.st.mainClass && (c += b.st.mainClass + " "), b._removeClassFromMFP(c), b.fixedContentPos) {
                var e = {
                    marginRight: ""
                };
                b.isIE7 ? a("body, html").css("overflow", "") : e.overflow = "", a("html").css(e)
            }
            d.off("keyup" + p + " focusin" + p), b.ev.off(p), b.wrap.attr("class", "mfp-wrap").removeAttr("style"), b.bgOverlay.attr("class", "mfp-bg"), b.container.attr("class", "mfp-container"), !b.st.showCloseBtn || b.st.closeBtnInside && b.currTemplate[b.currItem.type] !== !0 || b.currTemplate.closeBtn && b.currTemplate.closeBtn.detach(), b.st.autoFocusLast && b._lastFocusedEl && a(b._lastFocusedEl).focus(), b.currItem = null, b.content = null, b.currTemplate = null, b.prevHeight = 0, y(j)
        },
        updateSize: function(a) {
            if (b.isIOS) {
                var c = document.documentElement.clientWidth / window.innerWidth,
                    d = window.innerHeight * c;
                b.wrap.css("height", d), b.wH = d
            } else b.wH = a || v.height();
            b.fixedContentPos || b.wrap.css("height", b.wH), y("Resize")
        },
        updateItemHTML: function() {
            var c = b.items[b.index];
            b.contentContainer.detach(), b.content && b.content.detach(), c.parsed || (c = b.parseEl(b.index));
            var d = c.type;
            if (y("BeforeChange", [b.currItem ? b.currItem.type : "", d]), b.currItem = c, !b.currTemplate[d]) {
                var f = b.st[d] ? b.st[d].markup : !1;
                y("FirstMarkupParse", f), f ? b.currTemplate[d] = a(f) : b.currTemplate[d] = !0
            }
            e && e !== c.type && b.container.removeClass("mfp-" + e + "-holder");
            var g = b["get" + d.charAt(0).toUpperCase() + d.slice(1)](c, b.currTemplate[d]);
            b.appendContent(g, d), c.preloaded = !0, y(n, c), e = c.type, b.container.prepend(b.contentContainer), y("AfterChange")
        },
        appendContent: function(a, c) {
            b.content = a, a ? b.st.showCloseBtn && b.st.closeBtnInside && b.currTemplate[c] === !0 ? b.content.find(".mfp-close").length || b.content.append(z()) : b.content = a : b.content = "", y(k), b.container.addClass("mfp-" + c + "-holder"), b.contentContainer.append(b.content)
        },
        parseEl: function(c) {
            var d, e = b.items[c];
            if (e.tagName ? e = {
                    el: a(e)
                } : (d = e.type, e = {
                    data: e,
                    src: e.src
                }), e.el) {
                for (var f = b.types, g = 0; g < f.length; g++)
                    if (e.el.hasClass("mfp-" + f[g])) {
                        d = f[g];
                        break
                    }
                e.src = e.el.attr("data-mfp-src"), e.src || (e.src = e.el.attr("href"))
            }
            return e.type = d || b.st.type || "inline", e.index = c, e.parsed = !0, b.items[c] = e, y("ElementParse", e), b.items[c]
        },
        addGroup: function(a, c) {
            var d = function(d) {
                d.mfpEl = this, b._openClick(d, a, c)
            };
            c || (c = {});
            var e = "click.magnificPopup";
            c.mainEl = a, c.items ? (c.isObj = !0, a.off(e).on(e, d)) : (c.isObj = !1, c.delegate ? a.off(e).on(e, c.delegate, d) : (c.items = a, a.off(e).on(e, d)))
        },
        _openClick: function(c, d, e) {
            var f = void 0 !== e.midClick ? e.midClick : a.magnificPopup.defaults.midClick;
            if (f || !(2 === c.which || c.ctrlKey || c.metaKey || c.altKey || c.shiftKey)) {
                var g = void 0 !== e.disableOn ? e.disableOn : a.magnificPopup.defaults.disableOn;
                if (g)
                    if (a.isFunction(g)) {
                        if (!g.call(b)) return !0
                    } else if (v.width() < g) return !0;
                c.type && (c.preventDefault(), b.isOpen && c.stopPropagation()), e.el = a(c.mfpEl), e.delegate && (e.items = d.find(e.delegate)), b.open(e)
            }
        },
        updateStatus: function(a, d) {
            if (b.preloader) {
                c !== a && b.container.removeClass("mfp-s-" + c), d || "loading" !== a || (d = b.st.tLoading);
                var e = {
                    status: a,
                    text: d
                };
                y("UpdateStatus", e), a = e.status, d = e.text, b.preloader.html(d), b.preloader.find("a").on("click", function(a) {
                    a.stopImmediatePropagation()
                }), b.container.addClass("mfp-s-" + a), c = a
            }
        },
        _checkIfClose: function(c) {
            if (!a(c).hasClass(s)) {
                var d = b.st.closeOnContentClick,
                    e = b.st.closeOnBgClick;
                if (d && e) return !0;
                if (!b.content || a(c).hasClass("mfp-close") || b.preloader && c === b.preloader[0]) return !0;
                if (c === b.content[0] || a.contains(b.content[0], c)) {
                    if (d) return !0
                } else if (e && a.contains(document, c)) return !0;
                return !1
            }
        },
        _addClassToMFP: function(a) {
            b.bgOverlay.addClass(a), b.wrap.addClass(a)
        },
        _removeClassFromMFP: function(a) {
            this.bgOverlay.removeClass(a), b.wrap.removeClass(a)
        },
        _hasScrollBar: function(a) {
            return (b.isIE7 ? d.height() : document.body.scrollHeight) > (a || v.height())
        },
        _setFocus: function() {
            (b.st.focus ? b.content.find(b.st.focus).eq(0) : b.wrap).focus()
        },
        _onFocusIn: function(c) {
            return c.target === b.wrap[0] || a.contains(b.wrap[0], c.target) ? void 0 : (b._setFocus(), !1)
        },
        _parseMarkup: function(b, c, d) {
            var e;
            d.data && (c = a.extend(d.data, c)), y(l, [b, c, d]), a.each(c, function(c, d) {
                if (void 0 === d || d === !1) return !0;
                if (e = c.split("_"), e.length > 1) {
                    var f = b.find(p + "-" + e[0]);
                    if (f.length > 0) {
                        var g = e[1];
                        "replaceWith" === g ? f[0] !== d[0] && f.replaceWith(d) : "img" === g ? f.is("img") ? f.attr("src", d) : f.replaceWith(a("<img>").attr("src", d).attr("class", f.attr("class"))) : f.attr(e[1], d)
                    }
                } else b.find(p + "-" + c).html(d)
            })
        },
        _getScrollbarSize: function() {
            if (void 0 === b.scrollbarSize) {
                var a = document.createElement("div");
                a.style.cssText = "width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;", document.body.appendChild(a), b.scrollbarSize = a.offsetWidth - a.clientWidth, document.body.removeChild(a)
            }
            return b.scrollbarSize
        }
    }, a.magnificPopup = {
        instance: null,
        proto: t.prototype,
        modules: [],
        open: function(b, c) {
            return A(), b = b ? a.extend(!0, {}, b) : {}, b.isObj = !0, b.index = c || 0, this.instance.open(b)
        },
        close: function() {
            return a.magnificPopup.instance && a.magnificPopup.instance.close()
        },
        registerModule: function(b, c) {
            c.options && (a.magnificPopup.defaults[b] = c.options), a.extend(this.proto, c.proto), this.modules.push(b)
        },
        defaults: {
            disableOn: 0,
            key: null,
            midClick: !1,
            mainClass: "",
            preloader: !0,
            focus: "",
            closeOnContentClick: !1,
            closeOnBgClick: !0,
            closeBtnInside: !0,
            showCloseBtn: !0,
            enableEscapeKey: !0,
            modal: !1,
            alignTop: !1,
            removalDelay: 0,
            prependTo: null,
            fixedContentPos: "auto",
            fixedBgPos: "auto",
            overflowY: "auto",
            closeMarkup: '<button title="%title%" type="button" class="mfp-close">&#215;</button>',
            tClose: "Close (Esc)",
            tLoading: "Loading...",
            autoFocusLast: !0
        }
    }, a.fn.magnificPopup = function(c) {
        A();
        var d = a(this);
        if ("string" == typeof c)
            if ("open" === c) {
                var e, f = u ? d.data("magnificPopup") : d[0].magnificPopup,
                    g = parseInt(arguments[1], 10) || 0;
                f.items ? e = f.items[g] : (e = d, f.delegate && (e = e.find(f.delegate)), e = e.eq(g)), b._openClick({
                    mfpEl: e
                }, d, f)
            } else b.isOpen && b[c].apply(b, Array.prototype.slice.call(arguments, 1));
        else c = a.extend(!0, {}, c), u ? d.data("magnificPopup", c) : d[0].magnificPopup = c, b.addGroup(d, c);
        return d
    };
    var C, D, E, F = "inline",
        G = function() {
            E && (D.after(E.addClass(C)).detach(), E = null)
        };
    a.magnificPopup.registerModule(F, {
        options: {
            hiddenClass: "hide",
            markup: "",
            tNotFound: "Content not found"
        },
        proto: {
            initInline: function() {
                b.types.push(F), w(h + "." + F, function() {
                    G()
                })
            },
            getInline: function(c, d) {
                if (G(), c.src) {
                    var e = b.st.inline,
                        f = a(c.src);
                    if (f.length) {
                        var g = f[0].parentNode;
                        g && g.tagName && (D || (C = e.hiddenClass, D = x(C), C = "mfp-" + C), E = f.after(D).detach().removeClass(C)), b.updateStatus("ready")
                    } else b.updateStatus("error", e.tNotFound), f = a("<div>");
                    return c.inlineElement = f, f
                }
                return b.updateStatus("ready"), b._parseMarkup(d, {}, c), d
            }
        }
    });
    var H, I = "ajax",
        J = function() {
            H && a(document.body).removeClass(H)
        },
        K = function() {
            J(), b.req && b.req.abort()
        };
    a.magnificPopup.registerModule(I, {
        options: {
            settings: null,
            cursor: "mfp-ajax-cur",
            tError: '<a href="%url%">The content</a> could not be loaded.'
        },
        proto: {
            initAjax: function() {
                b.types.push(I), H = b.st.ajax.cursor, w(h + "." + I, K), w("BeforeChange." + I, K)
            },
            getAjax: function(c) {
                H && a(document.body).addClass(H), b.updateStatus("loading");
                var d = a.extend({
                    url: c.src,
                    success: function(d, e, f) {
                        var g = {
                            data: d,
                            xhr: f
                        };
                        y("ParseAjax", g), b.appendContent(a(g.data), I), c.finished = !0, J(), b._setFocus(), setTimeout(function() {
                            b.wrap.addClass(q)
                        }, 16), b.updateStatus("ready"), y("AjaxContentAdded")
                    },
                    error: function() {
                        J(), c.finished = c.loadError = !0, b.updateStatus("error", b.st.ajax.tError.replace("%url%", c.src))
                    }
                }, b.st.ajax.settings);
                return b.req = a.ajax(d), ""
            }
        }
    });
    var L, M = function(c) {
        if (c.data && void 0 !== c.data.title) return c.data.title;
        var d = b.st.image.titleSrc;
        if (d) {
            if (a.isFunction(d)) return d.call(b, c);
            if (c.el) return c.el.attr(d) || ""
        }
        return ""
    };
    a.magnificPopup.registerModule("image", {
        options: {
            markup: '<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',
            cursor: "mfp-zoom-out-cur",
            titleSrc: "title",
            verticalFit: !0,
            tError: '<a href="%url%">The image</a> could not be loaded.'
        },
        proto: {
            initImage: function() {
                var c = b.st.image,
                    d = ".image";
                b.types.push("image"), w(m + d, function() {
                    "image" === b.currItem.type && c.cursor && a(document.body).addClass(c.cursor)
                }), w(h + d, function() {
                    c.cursor && a(document.body).removeClass(c.cursor), v.off("resize" + p)
                }), w("Resize" + d, b.resizeImage), b.isLowIE && w("AfterChange", b.resizeImage)
            },
            resizeImage: function() {
                var a = b.currItem;
                if (a && a.img && b.st.image.verticalFit) {
                    var c = 0;
                    b.isLowIE && (c = parseInt(a.img.css("padding-top"), 10) + parseInt(a.img.css("padding-bottom"), 10)), a.img.css("max-height", b.wH - c)
                }
            },
            _onImageHasSize: function(a) {
                a.img && (a.hasSize = !0, L && clearInterval(L), a.isCheckingImgSize = !1, y("ImageHasSize", a), a.imgHidden && (b.content && b.content.removeClass("mfp-loading"), a.imgHidden = !1))
            },
            findImageSize: function(a) {
                var c = 0,
                    d = a.img[0],
                    e = function(f) {
                        L && clearInterval(L), L = setInterval(function() {
                            return d.naturalWidth > 0 ? void b._onImageHasSize(a) : (c > 200 && clearInterval(L), c++, void(3 === c ? e(10) : 40 === c ? e(50) : 100 === c && e(500)))
                        }, f)
                    };
                e(1)
            },
            getImage: function(c, d) {
                var e = 0,
                    f = function() {
                        c && (c.img[0].complete ? (c.img.off(".mfploader"), c === b.currItem && (b._onImageHasSize(c), b.updateStatus("ready")), c.hasSize = !0, c.loaded = !0, y("ImageLoadComplete")) : (e++, 200 > e ? setTimeout(f, 100) : g()))
                    },
                    g = function() {
                        c && (c.img.off(".mfploader"), c === b.currItem && (b._onImageHasSize(c), b.updateStatus("error", h.tError.replace("%url%", c.src))), c.hasSize = !0, c.loaded = !0, c.loadError = !0)
                    },
                    h = b.st.image,
                    i = d.find(".mfp-img");
                if (i.length) {
                    var j = document.createElement("img");
                    j.className = "mfp-img", c.el && c.el.find("img").length && (j.alt = c.el.find("img").attr("alt")), c.img = a(j).on("load.mfploader", f).on("error.mfploader", g), j.src = c.src, i.is("img") && (c.img = c.img.clone()), j = c.img[0], j.naturalWidth > 0 ? c.hasSize = !0 : j.width || (c.hasSize = !1)
                }
                return b._parseMarkup(d, {
                    title: M(c),
                    img_replaceWith: c.img
                }, c), b.resizeImage(), c.hasSize ? (L && clearInterval(L), c.loadError ? (d.addClass("mfp-loading"), b.updateStatus("error", h.tError.replace("%url%", c.src))) : (d.removeClass("mfp-loading"), b.updateStatus("ready")), d) : (b.updateStatus("loading"), c.loading = !0, c.hasSize || (c.imgHidden = !0, d.addClass("mfp-loading"), b.findImageSize(c)), d)
            }
        }
    });
    var N, O = function() {
        return void 0 === N && (N = void 0 !== document.createElement("p").style.MozTransform), N
    };
    a.magnificPopup.registerModule("zoom", {
        options: {
            enabled: !1,
            easing: "ease-in-out",
            duration: 300,
            opener: function(a) {
                return a.is("img") ? a : a.find("img")
            }
        },
        proto: {
            initZoom: function() {
                var a, c = b.st.zoom,
                    d = ".zoom";
                if (c.enabled && b.supportsTransition) {
                    var e, f, g = c.duration,
                        j = function(a) {
                            var b = a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),
                                d = "all " + c.duration / 1e3 + "s " + c.easing,
                                e = {
                                    position: "fixed",
                                    zIndex: 9999,
                                    left: 0,
                                    top: 0,
                                    "-webkit-backface-visibility": "hidden"
                                },
                                f = "transition";
                            return e["-webkit-" + f] = e["-moz-" + f] = e["-o-" + f] = e[f] = d, b.css(e), b
                        },
                        k = function() {
                            b.content.css("visibility", "visible")
                        };
                    w("BuildControls" + d, function() {
                        if (b._allowZoom()) {
                            if (clearTimeout(e), b.content.css("visibility", "hidden"), a = b._getItemToZoom(), !a) return void k();
                            f = j(a), f.css(b._getOffset()), b.wrap.append(f), e = setTimeout(function() {
                                f.css(b._getOffset(!0)), e = setTimeout(function() {
                                    k(), setTimeout(function() {
                                        f.remove(), a = f = null, y("ZoomAnimationEnded")
                                    }, 16)
                                }, g)
                            }, 16)
                        }
                    }), w(i + d, function() {
                        if (b._allowZoom()) {
                            if (clearTimeout(e), b.st.removalDelay = g, !a) {
                                if (a = b._getItemToZoom(), !a) return;
                                f = j(a)
                            }
                            f.css(b._getOffset(!0)), b.wrap.append(f), b.content.css("visibility", "hidden"), setTimeout(function() {
                                f.css(b._getOffset())
                            }, 16)
                        }
                    }), w(h + d, function() {
                        b._allowZoom() && (k(), f && f.remove(), a = null)
                    })
                }
            },
            _allowZoom: function() {
                return "image" === b.currItem.type
            },
            _getItemToZoom: function() {
                return b.currItem.hasSize ? b.currItem.img : !1
            },
            _getOffset: function(c) {
                var d;
                d = c ? b.currItem.img : b.st.zoom.opener(b.currItem.el || b.currItem);
                var e = d.offset(),
                    f = parseInt(d.css("padding-top"), 10),
                    g = parseInt(d.css("padding-bottom"), 10);
                e.top -= a(window).scrollTop() - f;
                var h = {
                    width: d.width(),
                    height: (u ? d.innerHeight() : d[0].offsetHeight) - g - f
                };
                return O() ? h["-moz-transform"] = h.transform = "translate(" + e.left + "px," + e.top + "px)" : (h.left = e.left, h.top = e.top), h
            }
        }
    });
    var P = "iframe",
        Q = "//about:blank",
        R = function(a) {
            if (b.currTemplate[P]) {
                var c = b.currTemplate[P].find("iframe");
                c.length && (a || (c[0].src = Q), b.isIE8 && c.css("display", a ? "block" : "none"))
            }
        };
    a.magnificPopup.registerModule(P, {
        options: {
            markup: '<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',
            srcAction: "iframe_src",
            patterns: {
                youtube: {
                    index: "youtube.com",
                    id: "v=",
                    src: "//www.youtube.com/embed/%id%?autoplay=1"
                },
                vimeo: {
                    index: "vimeo.com/",
                    id: "/",
                    src: "//player.vimeo.com/video/%id%?autoplay=1"
                },
                gmaps: {
                    index: "//maps.google.",
                    src: "%id%&output=embed"
                }
            }
        },
        proto: {
            initIframe: function() {
                b.types.push(P), w("BeforeChange", function(a, b, c) {
                    b !== c && (b === P ? R() : c === P && R(!0))
                }), w(h + "." + P, function() {
                    R()
                })
            },
            getIframe: function(c, d) {
                var e = c.src,
                    f = b.st.iframe;
                a.each(f.patterns, function() {
                    return e.indexOf(this.index) > -1 ? (this.id && (e = "string" == typeof this.id ? e.substr(e.lastIndexOf(this.id) + this.id.length, e.length) : this.id.call(this, e)), e = this.src.replace("%id%", e), !1) : void 0
                });
                var g = {};
                return f.srcAction && (g[f.srcAction] = e), b._parseMarkup(d, g, c), b.updateStatus("ready"), d
            }
        }
    });
    var S = function(a) {
            var c = b.items.length;
            return a > c - 1 ? a - c : 0 > a ? c + a : a
        },
        T = function(a, b, c) {
            return a.replace(/%curr%/gi, b + 1).replace(/%total%/gi, c)
        };
    a.magnificPopup.registerModule("gallery", {
        options: {
            enabled: !1,
            arrowMarkup: '<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',
            preload: [0, 2],
            navigateByImgClick: !0,
            arrows: !0,
            tPrev: "Previous (Left arrow key)",
            tNext: "Next (Right arrow key)",
            tCounter: "%curr% of %total%"
        },
        proto: {
            initGallery: function() {
                var c = b.st.gallery,
                    e = ".mfp-gallery";
                return b.direction = !0, c && c.enabled ? (f += " mfp-gallery", w(m + e, function() {
                    c.navigateByImgClick && b.wrap.on("click" + e, ".mfp-img", function() {
                        return b.items.length > 1 ? (b.next(), !1) : void 0
                    }), d.on("keydown" + e, function(a) {
                        37 === a.keyCode ? b.prev() : 39 === a.keyCode && b.next()
                    })
                }), w("UpdateStatus" + e, function(a, c) {
                    c.text && (c.text = T(c.text, b.currItem.index, b.items.length))
                }), w(l + e, function(a, d, e, f) {
                    var g = b.items.length;
                    e.counter = g > 1 ? T(c.tCounter, f.index, g) : ""
                }), w("BuildControls" + e, function() {
                    if (b.items.length > 1 && c.arrows && !b.arrowLeft) {
                        var d = c.arrowMarkup,
                            e = b.arrowLeft = a(d.replace(/%title%/gi, c.tPrev).replace(/%dir%/gi, "left")).addClass(s),
                            f = b.arrowRight = a(d.replace(/%title%/gi, c.tNext).replace(/%dir%/gi, "right")).addClass(s);
                        e.click(function() {
                            b.prev()
                        }), f.click(function() {
                            b.next()
                        }), b.container.append(e.add(f))
                    }
                }), w(n + e, function() {
                    b._preloadTimeout && clearTimeout(b._preloadTimeout), b._preloadTimeout = setTimeout(function() {
                        b.preloadNearbyImages(), b._preloadTimeout = null
                    }, 16)
                }), void w(h + e, function() {
                    d.off(e), b.wrap.off("click" + e), b.arrowRight = b.arrowLeft = null
                })) : !1
            },
            next: function() {
                b.direction = !0, b.index = S(b.index + 1), b.updateItemHTML()
            },
            prev: function() {
                b.direction = !1, b.index = S(b.index - 1), b.updateItemHTML()
            },
            goTo: function(a) {
                b.direction = a >= b.index, b.index = a, b.updateItemHTML()
            },
            preloadNearbyImages: function() {
                var a, c = b.st.gallery.preload,
                    d = Math.min(c[0], b.items.length),
                    e = Math.min(c[1], b.items.length);
                for (a = 1; a <= (b.direction ? e : d); a++) b._preloadItem(b.index + a);
                for (a = 1; a <= (b.direction ? d : e); a++) b._preloadItem(b.index - a)
            },
            _preloadItem: function(c) {
                if (c = S(c), !b.items[c].preloaded) {
                    var d = b.items[c];
                    d.parsed || (d = b.parseEl(c)), y("LazyLoad", d), "image" === d.type && (d.img = a('<img class="mfp-img" />').on("load.mfploader", function() {
                        d.hasSize = !0
                    }).on("error.mfploader", function() {
                        d.hasSize = !0, d.loadError = !0, y("LazyLoadError", d)
                    }).attr("src", d.src)), d.preloaded = !0
                }
            }
        }
    });
    var U = "retina";
    a.magnificPopup.registerModule(U, {
        options: {
            replaceSrc: function(a) {
                return a.src.replace(/\.\w+$/, function(a) {
                    return "@2x" + a
                })
            },
            ratio: 1
        },
        proto: {
            initRetina: function() {
                if (window.devicePixelRatio > 1) {
                    var a = b.st.retina,
                        c = a.ratio;
                    c = isNaN(c) ? c() : c, c > 1 && (w("ImageHasSize." + U, function(a, b) {
                        b.img.css({
                            "max-width": b.img[0].naturalWidth / c,
                            width: "100%"
                        })
                    }), w("ElementParse." + U, function(b, d) {
                        d.src = a.replaceSrc(d, c)
                    }))
                }
            }
        }
    }), A()
});
/*! Viewport | Author: Mika Tuupola (http://www.appelsiini.net/projects/viewport) | License: MIT */
(function($) {
    $.belowthefold = function(element, settings) {
        var fold = $(window).height() + $(window).scrollTop();
        return fold <= $(element).offset().top - settings.threshold;
    };
    $.abovethetop = function(element, settings) {
        var top = $(window).scrollTop();
        return top >= $(element).offset().top + $(element).height() - settings.threshold;
    };
    $.rightofscreen = function(element, settings) {
        var fold = $(window).width() + $(window).scrollLeft();
        return fold <= $(element).offset().left - settings.threshold;
    };
    $.leftofscreen = function(element, settings) {
        var left = $(window).scrollLeft();
        return left >= $(element).offset().left + $(element).width() - settings.threshold;
    };
    $.inviewport = function(element, settings) {
        return !$.rightofscreen(element, settings) && !$.leftofscreen(element, settings) && !$.belowthefold(element, settings) && !$.abovethetop(element, settings);
    };
    $.extend($.expr[':'], {
        "below-the-fold": function(a, i, m) {
            return $.belowthefold(a, {
                threshold: 0
            });
        },
        "above-the-top": function(a, i, m) {
            return $.abovethetop(a, {
                threshold: 0
            });
        },
        "left-of-screen": function(a, i, m) {
            return $.leftofscreen(a, {
                threshold: 0
            });
        },
        "right-of-screen": function(a, i, m) {
            return $.rightofscreen(a, {
                threshold: 0
            });
        },
        "in-viewport": function(a, i, m) {
            return $.inviewport(a, {
                threshold: 0
            });
        }
    });
})(jQuery);
/*! JavaScript Cookie v2.0.4 | https://github.com/js-cookie/js-cookie | Copyright 2006, 2015 Klaus Hartl & Fagner Brack | Released under the MIT license */
! function(e) {
    if ("function" == typeof define && define.amd) define(e);
    else if ("object" == typeof exports) module.exports = e();
    else {
        var n = window.Cookies,
            t = window.Cookies = e();
        t.noConflict = function() {
            return window.Cookies = n, t
        }
    }
}(function() {
    function e() {
        for (var e = 0, n = {}; e < arguments.length; e++) {
            var t = arguments[e];
            for (var o in t) n[o] = t[o]
        }
        return n
    }

    function n(t) {
        function o(n, r, i) {
            var c;
            if (arguments.length > 1) {
                if (i = e({
                        path: "/"
                    }, o.defaults, i), "number" == typeof i.expires) {
                    var s = new Date;
                    s.setMilliseconds(s.getMilliseconds() + 864e5 * i.expires), i.expires = s
                }
                try {
                    c = JSON.stringify(r), /^[\{\[]/.test(c) && (r = c)
                } catch (a) {}
                return r = t.write ? t.write(r, n) : encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), n = encodeURIComponent(String(n)), n = n.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), n = n.replace(/[\(\)]/g, escape), document.cookie = [n, "=", r, i.expires && "; expires=" + i.expires.toUTCString(), i.path && "; path=" + i.path, i.domain && "; domain=" + i.domain, i.secure ? "; secure" : ""].join("")
            }
            n || (c = {});
            for (var p = document.cookie ? document.cookie.split("; ") : [], d = /(%[0-9A-Z]{2})+/g, u = 0; u < p.length; u++) {
                var f = p[u].split("="),
                    l = f[0].replace(d, decodeURIComponent),
                    m = f.slice(1).join("=");
                '"' === m.charAt(0) && (m = m.slice(1, -1));
                try {
                    if (m = t.read ? t.read(m, l) : t(m, l) || m.replace(d, decodeURIComponent), this.json) try {
                        m = JSON.parse(m)
                    } catch (a) {}
                    if (n === l) {
                        c = m;
                        break
                    }
                    n || (c[l] = m)
                } catch (a) {}
            }
            return c
        }
        return o.get = o.set = o, o.getJSON = function() {
            return o.apply({
                json: !0
            }, [].slice.call(arguments))
        }, o.defaults = {}, o.remove = function(n, t) {
            o(n, "", e(t, {
                expires: -1
            }))
        }, o.withConverter = n, o
    }
    return n(function() {})
});
jQuery(window).load(function() {
    jQuery('#wptime-plugin-preloader').delay(250).fadeOut("slow");
    setTimeout(wptime_plugin_remove_preloader, 2000);

    function wptime_plugin_remove_preloader() {
        jQuery('#wptime-plugin-preloader').remove();
    }
});
! function(t, i) {
    "object" == typeof exports && "undefined" != typeof module ? i(exports) : "function" == typeof define && define.amd ? define(["exports"], i) : i(t.L = {})
}(this, function(t) {
    "use strict";

    function i(t) {
        var i, e, n, o;
        for (e = 1, n = arguments.length; e < n; e++) {
            o = arguments[e];
            for (i in o) t[i] = o[i]
        }
        return t
    }

    function e(t, i) {
        var e = Array.prototype.slice;
        if (t.bind) return t.bind.apply(t, e.call(arguments, 1));
        var n = e.call(arguments, 2);
        return function() {
            return t.apply(i, n.length ? n.concat(e.call(arguments)) : arguments)
        }
    }

    function n(t) {
        return t._leaflet_id = t._leaflet_id || ++ei, t._leaflet_id
    }

    function o(t, i, e) {
        var n, o, s, r;
        return r = function() {
            n = !1, o && (s.apply(e, o), o = !1)
        }, s = function() {
            n ? o = arguments : (t.apply(e, arguments), setTimeout(r, i), n = !0)
        }
    }

    function s(t, i, e) {
        var n = i[1],
            o = i[0],
            s = n - o;
        return t === n && e ? t : ((t - o) % s + s) % s + o
    }

    function r() {
        return !1
    }

    function a(t, i) {
        var e = Math.pow(10, void 0 === i ? 6 : i);
        return Math.round(t * e) / e
    }

    function h(t) {
        return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
    }

    function u(t) {
        return h(t).split(/\s+/)
    }

    function l(t, i) {
        t.hasOwnProperty("options") || (t.options = t.options ? ii(t.options) : {});
        for (var e in i) t.options[e] = i[e];
        return t.options
    }

    function c(t, i, e) {
        var n = [];
        for (var o in t) n.push(encodeURIComponent(e ? o.toUpperCase() : o) + "=" + encodeURIComponent(t[o]));
        return (i && -1 !== i.indexOf("?") ? "&" : "?") + n.join("&")
    }

    function _(t, i) {
        return t.replace(ni, function(t, e) {
            var n = i[e];
            if (void 0 === n) throw new Error("No value provided for variable " + t);
            return "function" == typeof n && (n = n(i)), n
        })
    }

    function d(t, i) {
        for (var e = 0; e < t.length; e++)
            if (t[e] === i) return e;
        return -1
    }

    function p(t) {
        return window["webkit" + t] || window["moz" + t] || window["ms" + t]
    }

    function m(t) {
        var i = +new Date,
            e = Math.max(0, 16 - (i - ri));
        return ri = i + e, window.setTimeout(t, e)
    }

    function f(t, i, n) {
        if (!n || ai !== m) return ai.call(window, e(t, i));
        t.call(i)
    }

    function g(t) {
        t && hi.call(window, t)
    }

    function v() {}

    function y(t) {
        if ("undefined" != typeof L && L && L.Mixin) {
            t = oi(t) ? t : [t];
            for (var i = 0; i < t.length; i++) t[i] === L.Mixin.Events && console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.", (new Error).stack)
        }
    }

    function x(t, i, e) {
        this.x = e ? Math.round(t) : t, this.y = e ? Math.round(i) : i
    }

    function w(t, i, e) {
        return t instanceof x ? t : oi(t) ? new x(t[0], t[1]) : void 0 === t || null === t ? t : "object" == typeof t && "x" in t && "y" in t ? new x(t.x, t.y) : new x(t, i, e)
    }

    function P(t, i) {
        if (t)
            for (var e = i ? [t, i] : t, n = 0, o = e.length; n < o; n++) this.extend(e[n])
    }

    function b(t, i) {
        return !t || t instanceof P ? t : new P(t, i)
    }

    function T(t, i) {
        if (t)
            for (var e = i ? [t, i] : t, n = 0, o = e.length; n < o; n++) this.extend(e[n])
    }

    function z(t, i) {
        return t instanceof T ? t : new T(t, i)
    }

    function M(t, i, e) {
        if (isNaN(t) || isNaN(i)) throw new Error("Invalid LatLng object: (" + t + ", " + i + ")");
        this.lat = +t, this.lng = +i, void 0 !== e && (this.alt = +e)
    }

    function C(t, i, e) {
        return t instanceof M ? t : oi(t) && "object" != typeof t[0] ? 3 === t.length ? new M(t[0], t[1], t[2]) : 2 === t.length ? new M(t[0], t[1]) : null : void 0 === t || null === t ? t : "object" == typeof t && "lat" in t ? new M(t.lat, "lng" in t ? t.lng : t.lon, t.alt) : void 0 === i ? null : new M(t, i, e)
    }

    function S(t, i, e, n) {
        if (oi(t)) return this._a = t[0], this._b = t[1], this._c = t[2], void(this._d = t[3]);
        this._a = t, this._b = i, this._c = e, this._d = n
    }

    function Z(t, i, e, n) {
        return new S(t, i, e, n)
    }

    function E(t) {
        return document.createElementNS("http://www.w3.org/2000/svg", t)
    }

    function k(t, i) {
        var e, n, o, s, r, a, h = "";
        for (e = 0, o = t.length; e < o; e++) {
            for (n = 0, s = (r = t[e]).length; n < s; n++) a = r[n], h += (n ? "L" : "M") + a.x + " " + a.y;
            h += i ? Ji ? "z" : "x" : ""
        }
        return h || "M0 0"
    }

    function A(t) {
        return navigator.userAgent.toLowerCase().indexOf(t) >= 0
    }

    function B(t, i, e, n) {
        return "touchstart" === i ? O(t, e, n) : "touchmove" === i ? W(t, e, n) : "touchend" === i && H(t, e, n), this
    }

    function I(t, i, e) {
        var n = t["_leaflet_" + i + e];
        return "touchstart" === i ? t.removeEventListener(te, n, !1) : "touchmove" === i ? t.removeEventListener(ie, n, !1) : "touchend" === i && (t.removeEventListener(ee, n, !1), t.removeEventListener(ne, n, !1)), this
    }

    function O(t, i, n) {
        var o = e(function(t) {
            if ("mouse" !== t.pointerType && t.MSPOINTER_TYPE_MOUSE && t.pointerType !== t.MSPOINTER_TYPE_MOUSE) {
                if (!(oe.indexOf(t.target.tagName) < 0)) return;
                Pt(t)
            }
            j(t, i)
        });
        t["_leaflet_touchstart" + n] = o, t.addEventListener(te, o, !1), re || (document.documentElement.addEventListener(te, R, !0), document.documentElement.addEventListener(ie, N, !0), document.documentElement.addEventListener(ee, D, !0), document.documentElement.addEventListener(ne, D, !0), re = !0)
    }

    function R(t) {
        se[t.pointerId] = t, ae++
    }

    function N(t) {
        se[t.pointerId] && (se[t.pointerId] = t)
    }

    function D(t) {
        delete se[t.pointerId], ae--
    }

    function j(t, i) {
        t.touches = [];
        for (var e in se) t.touches.push(se[e]);
        t.changedTouches = [t], i(t)
    }

    function W(t, i, e) {
        var n = function(t) {
            (t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType || 0 !== t.buttons) && j(t, i)
        };
        t["_leaflet_touchmove" + e] = n, t.addEventListener(ie, n, !1)
    }

    function H(t, i, e) {
        var n = function(t) {
            j(t, i)
        };
        t["_leaflet_touchend" + e] = n, t.addEventListener(ee, n, !1), t.addEventListener(ne, n, !1)
    }

    function F(t, i, e) {
        function n(t) {
            var i;
            if (Vi) {
                if (!bi || "mouse" === t.pointerType) return;
                i = ae
            } else i = t.touches.length;
            if (!(i > 1)) {
                var e = Date.now(),
                    n = e - (s || e);
                r = t.touches ? t.touches[0] : t, a = n > 0 && n <= h, s = e
            }
        }

        function o(t) {
            if (a && !r.cancelBubble) {
                if (Vi) {
                    if (!bi || "mouse" === t.pointerType) return;
                    var e, n, o = {};
                    for (n in r) e = r[n], o[n] = e && e.bind ? e.bind(r) : e;
                    r = o
                }
                r.type = "dblclick", i(r), s = null
            }
        }
        var s, r, a = !1,
            h = 250;
        return t[le + he + e] = n, t[le + ue + e] = o, t[le + "dblclick" + e] = i, t.addEventListener(he, n, !1), t.addEventListener(ue, o, !1), t.addEventListener("dblclick", i, !1), this
    }

    function U(t, i) {
        var e = t[le + he + i],
            n = t[le + ue + i],
            o = t[le + "dblclick" + i];
        return t.removeEventListener(he, e, !1), t.removeEventListener(ue, n, !1), bi || t.removeEventListener("dblclick", o, !1), this
    }

    function V(t) {
        return "string" == typeof t ? document.getElementById(t) : t
    }

    function q(t, i) {
        var e = t.style[i] || t.currentStyle && t.currentStyle[i];
        if ((!e || "auto" === e) && document.defaultView) {
            var n = document.defaultView.getComputedStyle(t, null);
            e = n ? n[i] : null
        }
        return "auto" === e ? null : e
    }

    function G(t, i, e) {
        var n = document.createElement(t);
        return n.className = i || "", e && e.appendChild(n), n
    }

    function K(t) {
        var i = t.parentNode;
        i && i.removeChild(t)
    }

    function Y(t) {
        for (; t.firstChild;) t.removeChild(t.firstChild)
    }

    function X(t) {
        var i = t.parentNode;
        i.lastChild !== t && i.appendChild(t)
    }

    function J(t) {
        var i = t.parentNode;
        i.firstChild !== t && i.insertBefore(t, i.firstChild)
    }

    function $(t, i) {
        if (void 0 !== t.classList) return t.classList.contains(i);
        var e = et(t);
        return e.length > 0 && new RegExp("(^|\\s)" + i + "(\\s|$)").test(e)
    }

    function Q(t, i) {
        if (void 0 !== t.classList)
            for (var e = u(i), n = 0, o = e.length; n < o; n++) t.classList.add(e[n]);
        else if (!$(t, i)) {
            var s = et(t);
            it(t, (s ? s + " " : "") + i)
        }
    }

    function tt(t, i) {
        void 0 !== t.classList ? t.classList.remove(i) : it(t, h((" " + et(t) + " ").replace(" " + i + " ", " ")))
    }

    function it(t, i) {
        void 0 === t.className.baseVal ? t.className = i : t.className.baseVal = i
    }

    function et(t) {
        return void 0 === t.className.baseVal ? t.className : t.className.baseVal
    }

    function nt(t, i) {
        "opacity" in t.style ? t.style.opacity = i : "filter" in t.style && ot(t, i)
    }

    function ot(t, i) {
        var e = !1,
            n = "DXImageTransform.Microsoft.Alpha";
        try {
            e = t.filters.item(n)
        } catch (t) {
            if (1 === i) return
        }
        i = Math.round(100 * i), e ? (e.Enabled = 100 !== i, e.Opacity = i) : t.style.filter += " progid:" + n + "(opacity=" + i + ")"
    }

    function st(t) {
        for (var i = document.documentElement.style, e = 0; e < t.length; e++)
            if (t[e] in i) return t[e];
        return !1
    }

    function rt(t, i, e) {
        var n = i || new x(0, 0);
        t.style[ce] = (Ri ? "translate(" + n.x + "px," + n.y + "px)" : "translate3d(" + n.x + "px," + n.y + "px,0)") + (e ? " scale(" + e + ")" : "")
    }

    function at(t, i) {
        t._leaflet_pos = i, ji ? rt(t, i) : (t.style.left = i.x + "px", t.style.top = i.y + "px")
    }

    function ht(t) {
        return t._leaflet_pos || new x(0, 0)
    }

    function ut() {
        mt(window, "dragstart", Pt)
    }

    function lt() {
        ft(window, "dragstart", Pt)
    }

    function ct(t) {
        for (; - 1 === t.tabIndex;) t = t.parentNode;
        t.style && (_t(), me = t, fe = t.style.outline, t.style.outline = "none", mt(window, "keydown", _t))
    }

    function _t() {
        me && (me.style.outline = fe, me = void 0, fe = void 0, ft(window, "keydown", _t))
    }

    function dt(t) {
        do {
            t = t.parentNode
        } while (!(t.offsetWidth && t.offsetHeight || t === document.body));
        return t
    }

    function pt(t) {
        var i = t.getBoundingClientRect();
        return {
            x: i.width / t.offsetWidth || 1,
            y: i.height / t.offsetHeight || 1,
            boundingClientRect: i
        }
    }

    function mt(t, i, e, n) {
        if ("object" == typeof i)
            for (var o in i) gt(t, o, i[o], e);
        else
            for (var s = 0, r = (i = u(i)).length; s < r; s++) gt(t, i[s], e, n);
        return this
    }

    function ft(t, i, e, n) {
        if ("object" == typeof i)
            for (var o in i) vt(t, o, i[o], e);
        else if (i)
            for (var s = 0, r = (i = u(i)).length; s < r; s++) vt(t, i[s], e, n);
        else {
            for (var a in t[ye]) vt(t, a, t[ye][a]);
            delete t[ye]
        }
        return this
    }

    function gt(t, i, e, o) {
        var s = i + n(e) + (o ? "_" + n(o) : "");
        if (t[ye] && t[ye][s]) return this;
        var r = function(i) {
                return e.call(o || t, i || window.event)
            },
            a = r;
        Vi && 0 === i.indexOf("touch") ? B(t, i, r, s) : !qi || "dblclick" !== i || !F || Vi && Ei ? "addEventListener" in t ? "mousewheel" === i ? t.addEventListener("onwheel" in t ? "wheel" : "mousewheel", r, !1) : "mouseenter" === i || "mouseleave" === i ? (r = function(i) {
            i = i || window.event, Ct(t, i) && a(i)
        }, t.addEventListener("mouseenter" === i ? "mouseover" : "mouseout", r, !1)) : ("click" === i && zi && (r = function(t) {
            St(t, a)
        }), t.addEventListener(i, r, !1)) : "attachEvent" in t && t.attachEvent("on" + i, r) : F(t, r, s), t[ye] = t[ye] || {}, t[ye][s] = r
    }

    function vt(t, i, e, o) {
        var s = i + n(e) + (o ? "_" + n(o) : ""),
            r = t[ye] && t[ye][s];
        if (!r) return this;
        Vi && 0 === i.indexOf("touch") ? I(t, i, s) : !qi || "dblclick" !== i || !U || Vi && Ei ? "removeEventListener" in t ? "mousewheel" === i ? t.removeEventListener("onwheel" in t ? "wheel" : "mousewheel", r, !1) : t.removeEventListener("mouseenter" === i ? "mouseover" : "mouseleave" === i ? "mouseout" : i, r, !1) : "detachEvent" in t && t.detachEvent("on" + i, r) : U(t, s), t[ye][s] = null
    }

    function yt(t) {
        return t.stopPropagation ? t.stopPropagation() : t.originalEvent ? t.originalEvent._stopped = !0 : t.cancelBubble = !0, Mt(t), this
    }

    function xt(t) {
        return gt(t, "mousewheel", yt), this
    }

    function wt(t) {
        return mt(t, "mousedown touchstart dblclick", yt), gt(t, "click", zt), this
    }

    function Pt(t) {
        return t.preventDefault ? t.preventDefault() : t.returnValue = !1, this
    }

    function Lt(t) {
        return Pt(t), yt(t), this
    }

    function bt(t, i) {
        if (!i) return new x(t.clientX, t.clientY);
        var e = pt(i),
            n = e.boundingClientRect;
        return new x((t.clientX - n.left) / e.x - i.clientLeft, (t.clientY - n.top) / e.y - i.clientTop)
    }

    function Tt(t) {
        return bi ? t.wheelDeltaY / 2 : t.deltaY && 0 === t.deltaMode ? -t.deltaY / xe : t.deltaY && 1 === t.deltaMode ? 20 * -t.deltaY : t.deltaY && 2 === t.deltaMode ? 60 * -t.deltaY : t.deltaX || t.deltaZ ? 0 : t.wheelDelta ? (t.wheelDeltaY || t.wheelDelta) / 2 : t.detail && Math.abs(t.detail) < 32765 ? 20 * -t.detail : t.detail ? t.detail / -32765 * 60 : 0
    }

    function zt(t) {
        we[t.type] = !0
    }

    function Mt(t) {
        var i = we[t.type];
        return we[t.type] = !1, i
    }

    function Ct(t, i) {
        var e = i.relatedTarget;
        if (!e) return !0;
        try {
            for (; e && e !== t;) e = e.parentNode
        } catch (t) {
            return !1
        }
        return e !== t
    }

    function St(t, i) {
        var e = t.timeStamp || t.originalEvent && t.originalEvent.timeStamp,
            n = ge && e - ge;
        n && n > 100 && n < 500 || t.target._simulatedClick && !t._simulated ? Lt(t) : (ge = e, i(t))
    }

    function Zt(t, i) {
        if (!i || !t.length) return t.slice();
        var e = i * i;
        return t = Bt(t, e), t = kt(t, e)
    }

    function Et(t, i, e) {
        return Math.sqrt(Dt(t, i, e, !0))
    }

    function kt(t, i) {
        var e = t.length,
            n = new(typeof Uint8Array != void 0 + "" ? Uint8Array : Array)(e);
        n[0] = n[e - 1] = 1, At(t, n, i, 0, e - 1);
        var o, s = [];
        for (o = 0; o < e; o++) n[o] && s.push(t[o]);
        return s
    }

    function At(t, i, e, n, o) {
        var s, r, a, h = 0;
        for (r = n + 1; r <= o - 1; r++)(a = Dt(t[r], t[n], t[o], !0)) > h && (s = r, h = a);
        h > e && (i[s] = 1, At(t, i, e, n, s), At(t, i, e, s, o))
    }

    function Bt(t, i) {
        for (var e = [t[0]], n = 1, o = 0, s = t.length; n < s; n++) Nt(t[n], t[o]) > i && (e.push(t[n]), o = n);
        return o < s - 1 && e.push(t[s - 1]), e
    }

    function It(t, i, e, n, o) {
        var s, r, a, h = n ? ke : Rt(t, e),
            u = Rt(i, e);
        for (ke = u;;) {
            if (!(h | u)) return [t, i];
            if (h & u) return !1;
            a = Rt(r = Ot(t, i, s = h || u, e, o), e), s === h ? (t = r, h = a) : (i = r, u = a)
        }
    }

    function Ot(t, i, e, n, o) {
        var s, r, a = i.x - t.x,
            h = i.y - t.y,
            u = n.min,
            l = n.max;
        return 8 & e ? (s = t.x + a * (l.y - t.y) / h, r = l.y) : 4 & e ? (s = t.x + a * (u.y - t.y) / h, r = u.y) : 2 & e ? (s = l.x, r = t.y + h * (l.x - t.x) / a) : 1 & e && (s = u.x, r = t.y + h * (u.x - t.x) / a), new x(s, r, o)
    }

    function Rt(t, i) {
        var e = 0;
        return t.x < i.min.x ? e |= 1 : t.x > i.max.x && (e |= 2), t.y < i.min.y ? e |= 4 : t.y > i.max.y && (e |= 8), e
    }

    function Nt(t, i) {
        var e = i.x - t.x,
            n = i.y - t.y;
        return e * e + n * n
    }

    function Dt(t, i, e, n) {
        var o, s = i.x,
            r = i.y,
            a = e.x - s,
            h = e.y - r,
            u = a * a + h * h;
        return u > 0 && ((o = ((t.x - s) * a + (t.y - r) * h) / u) > 1 ? (s = e.x, r = e.y) : o > 0 && (s += a * o, r += h * o)), a = t.x - s, h = t.y - r, n ? a * a + h * h : new x(s, r)
    }

    function jt(t) {
        return !oi(t[0]) || "object" != typeof t[0][0] && void 0 !== t[0][0]
    }

    function Wt(t) {
        return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."), jt(t)
    }

    function Ht(t, i, e) {
        var n, o, s, r, a, h, u, l, c, _ = [1, 4, 2, 8];
        for (o = 0, u = t.length; o < u; o++) t[o]._code = Rt(t[o], i);
        for (r = 0; r < 4; r++) {
            for (l = _[r], n = [], o = 0, s = (u = t.length) - 1; o < u; s = o++) a = t[o], h = t[s], a._code & l ? h._code & l || ((c = Ot(h, a, l, i, e))._code = Rt(c, i), n.push(c)) : (h._code & l && ((c = Ot(h, a, l, i, e))._code = Rt(c, i), n.push(c)), n.push(a));
            t = n
        }
        return t
    }

    function Ft(t, i) {
        var e, n, o, s, r = "Feature" === t.type ? t.geometry : t,
            a = r ? r.coordinates : null,
            h = [],
            u = i && i.pointToLayer,
            l = i && i.coordsToLatLng || Ut;
        if (!a && !r) return null;
        switch (r.type) {
            case "Point":
                return e = l(a), u ? u(t, e) : new $e(e);
            case "MultiPoint":
                for (o = 0, s = a.length; o < s; o++) e = l(a[o]), h.push(u ? u(t, e) : new $e(e));
                return new Ke(h);
            case "LineString":
            case "MultiLineString":
                return n = Vt(a, "LineString" === r.type ? 0 : 1, l), new nn(n, i);
            case "Polygon":
            case "MultiPolygon":
                return n = Vt(a, "Polygon" === r.type ? 1 : 2, l), new on(n, i);
            case "GeometryCollection":
                for (o = 0, s = r.geometries.length; o < s; o++) {
                    var c = Ft({
                        geometry: r.geometries[o],
                        type: "Feature",
                        properties: t.properties
                    }, i);
                    c && h.push(c)
                }
                return new Ke(h);
            default:
                throw new Error("Invalid GeoJSON object.")
        }
    }

    function Ut(t) {
        return new M(t[1], t[0], t[2])
    }

    function Vt(t, i, e) {
        for (var n, o = [], s = 0, r = t.length; s < r; s++) n = i ? Vt(t[s], i - 1, e) : (e || Ut)(t[s]), o.push(n);
        return o
    }

    function qt(t, i) {
        return i = "number" == typeof i ? i : 6, void 0 !== t.alt ? [a(t.lng, i), a(t.lat, i), a(t.alt, i)] : [a(t.lng, i), a(t.lat, i)]
    }

    function Gt(t, i, e, n) {
        for (var o = [], s = 0, r = t.length; s < r; s++) o.push(i ? Gt(t[s], i - 1, e, n) : qt(t[s], n));
        return !i && e && o.push(o[0]), o
    }

    function Kt(t, e) {
        return t.feature ? i({}, t.feature, {
            geometry: e
        }) : Yt(e)
    }

    function Yt(t) {
        return "Feature" === t.type || "FeatureCollection" === t.type ? t : {
            type: "Feature",
            properties: {},
            geometry: t
        }
    }

    function Xt(t, i) {
        return new sn(t, i)
    }

    function Jt(t, i) {
        return new mn(t, i)
    }

    function $t(t) {
        return Xi ? new vn(t) : null
    }

    function Qt(t) {
        return Ji || $i ? new Pn(t) : null
    }
    var ti = Object.freeze;
    Object.freeze = function(t) {
        return t
    };
    var ii = Object.create || function() {
            function t() {}
            return function(i) {
                return t.prototype = i, new t
            }
        }(),
        ei = 0,
        ni = /\{ *([\w_-]+) *\}/g,
        oi = Array.isArray || function(t) {
            return "[object Array]" === Object.prototype.toString.call(t)
        },
        si = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",
        ri = 0,
        ai = window.requestAnimationFrame || p("RequestAnimationFrame") || m,
        hi = window.cancelAnimationFrame || p("CancelAnimationFrame") || p("CancelRequestAnimationFrame") || function(t) {
            window.clearTimeout(t)
        },
        ui = (Object.freeze || Object)({
            freeze: ti,
            extend: i,
            create: ii,
            bind: e,
            lastId: ei,
            stamp: n,
            throttle: o,
            wrapNum: s,
            falseFn: r,
            formatNum: a,
            trim: h,
            splitWords: u,
            setOptions: l,
            getParamString: c,
            template: _,
            isArray: oi,
            indexOf: d,
            emptyImageUrl: si,
            requestFn: ai,
            cancelFn: hi,
            requestAnimFrame: f,
            cancelAnimFrame: g
        });
    v.extend = function(t) {
        var e = function() {
                this.initialize && this.initialize.apply(this, arguments), this.callInitHooks()
            },
            n = e.__super__ = this.prototype,
            o = ii(n);
        o.constructor = e, e.prototype = o;
        for (var s in this) this.hasOwnProperty(s) && "prototype" !== s && "__super__" !== s && (e[s] = this[s]);
        return t.statics && (i(e, t.statics), delete t.statics), t.includes && (y(t.includes), i.apply(null, [o].concat(t.includes)), delete t.includes), o.options && (t.options = i(ii(o.options), t.options)), i(o, t), o._initHooks = [], o.callInitHooks = function() {
            if (!this._initHooksCalled) {
                n.callInitHooks && n.callInitHooks.call(this), this._initHooksCalled = !0;
                for (var t = 0, i = o._initHooks.length; t < i; t++) o._initHooks[t].call(this)
            }
        }, e
    }, v.include = function(t) {
        return i(this.prototype, t), this
    }, v.mergeOptions = function(t) {
        return i(this.prototype.options, t), this
    }, v.addInitHook = function(t) {
        var i = Array.prototype.slice.call(arguments, 1),
            e = "function" == typeof t ? t : function() {
                this[t].apply(this, i)
            };
        return this.prototype._initHooks = this.prototype._initHooks || [], this.prototype._initHooks.push(e), this
    };
    var li = {
        on: function(t, i, e) {
            if ("object" == typeof t)
                for (var n in t) this._on(n, t[n], i);
            else
                for (var o = 0, s = (t = u(t)).length; o < s; o++) this._on(t[o], i, e);
            return this
        },
        off: function(t, i, e) {
            if (t)
                if ("object" == typeof t)
                    for (var n in t) this._off(n, t[n], i);
                else
                    for (var o = 0, s = (t = u(t)).length; o < s; o++) this._off(t[o], i, e);
            else delete this._events;
            return this
        },
        _on: function(t, i, e) {
            this._events = this._events || {};
            var n = this._events[t];
            n || (n = [], this._events[t] = n), e === this && (e = void 0);
            for (var o = {
                    fn: i,
                    ctx: e
                }, s = n, r = 0, a = s.length; r < a; r++)
                if (s[r].fn === i && s[r].ctx === e) return;
            s.push(o)
        },
        _off: function(t, i, e) {
            var n, o, s;
            if (this._events && (n = this._events[t]))
                if (i) {
                    if (e === this && (e = void 0), n)
                        for (o = 0, s = n.length; o < s; o++) {
                            var a = n[o];
                            if (a.ctx === e && a.fn === i) return a.fn = r, this._firingCount && (this._events[t] = n = n.slice()), void n.splice(o, 1)
                        }
                } else {
                    for (o = 0, s = n.length; o < s; o++) n[o].fn = r;
                    delete this._events[t]
                }
        },
        fire: function(t, e, n) {
            if (!this.listens(t, n)) return this;
            var o = i({}, e, {
                type: t,
                target: this,
                sourceTarget: e && e.sourceTarget || this
            });
            if (this._events) {
                var s = this._events[t];
                if (s) {
                    this._firingCount = this._firingCount + 1 || 1;
                    for (var r = 0, a = s.length; r < a; r++) {
                        var h = s[r];
                        h.fn.call(h.ctx || this, o)
                    }
                    this._firingCount--
                }
            }
            return n && this._propagateEvent(o), this
        },
        listens: function(t, i) {
            var e = this._events && this._events[t];
            if (e && e.length) return !0;
            if (i)
                for (var n in this._eventParents)
                    if (this._eventParents[n].listens(t, i)) return !0;
            return !1
        },
        once: function(t, i, n) {
            if ("object" == typeof t) {
                for (var o in t) this.once(o, t[o], i);
                return this
            }
            var s = e(function() {
                this.off(t, i, n).off(t, s, n)
            }, this);
            return this.on(t, i, n).on(t, s, n)
        },
        addEventParent: function(t) {
            return this._eventParents = this._eventParents || {}, this._eventParents[n(t)] = t, this
        },
        removeEventParent: function(t) {
            return this._eventParents && delete this._eventParents[n(t)], this
        },
        _propagateEvent: function(t) {
            for (var e in this._eventParents) this._eventParents[e].fire(t.type, i({
                layer: t.target,
                propagatedFrom: t.target
            }, t), !0)
        }
    };
    li.addEventListener = li.on, li.removeEventListener = li.clearAllEventListeners = li.off, li.addOneTimeEventListener = li.once, li.fireEvent = li.fire, li.hasEventListeners = li.listens;
    var ci = v.extend(li),
        _i = Math.trunc || function(t) {
            return t > 0 ? Math.floor(t) : Math.ceil(t)
        };
    x.prototype = {
        clone: function() {
            return new x(this.x, this.y)
        },
        add: function(t) {
            return this.clone()._add(w(t))
        },
        _add: function(t) {
            return this.x += t.x, this.y += t.y, this
        },
        subtract: function(t) {
            return this.clone()._subtract(w(t))
        },
        _subtract: function(t) {
            return this.x -= t.x, this.y -= t.y, this
        },
        divideBy: function(t) {
            return this.clone()._divideBy(t)
        },
        _divideBy: function(t) {
            return this.x /= t, this.y /= t, this
        },
        multiplyBy: function(t) {
            return this.clone()._multiplyBy(t)
        },
        _multiplyBy: function(t) {
            return this.x *= t, this.y *= t, this
        },
        scaleBy: function(t) {
            return new x(this.x * t.x, this.y * t.y)
        },
        unscaleBy: function(t) {
            return new x(this.x / t.x, this.y / t.y)
        },
        round: function() {
            return this.clone()._round()
        },
        _round: function() {
            return this.x = Math.round(this.x), this.y = Math.round(this.y), this
        },
        floor: function() {
            return this.clone()._floor()
        },
        _floor: function() {
            return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
        },
        ceil: function() {
            return this.clone()._ceil()
        },
        _ceil: function() {
            return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
        },
        trunc: function() {
            return this.clone()._trunc()
        },
        _trunc: function() {
            return this.x = _i(this.x), this.y = _i(this.y), this
        },
        distanceTo: function(t) {
            var i = (t = w(t)).x - this.x,
                e = t.y - this.y;
            return Math.sqrt(i * i + e * e)
        },
        equals: function(t) {
            return (t = w(t)).x === this.x && t.y === this.y
        },
        contains: function(t) {
            return t = w(t), Math.abs(t.x) <= Math.abs(this.x) && Math.abs(t.y) <= Math.abs(this.y)
        },
        toString: function() {
            return "Point(" + a(this.x) + ", " + a(this.y) + ")"
        }
    }, P.prototype = {
        extend: function(t) {
            return t = w(t), this.min || this.max ? (this.min.x = Math.min(t.x, this.min.x), this.max.x = Math.max(t.x, this.max.x), this.min.y = Math.min(t.y, this.min.y), this.max.y = Math.max(t.y, this.max.y)) : (this.min = t.clone(), this.max = t.clone()), this
        },
        getCenter: function(t) {
            return new x((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, t)
        },
        getBottomLeft: function() {
            return new x(this.min.x, this.max.y)
        },
        getTopRight: function() {
            return new x(this.max.x, this.min.y)
        },
        getTopLeft: function() {
            return this.min
        },
        getBottomRight: function() {
            return this.max
        },
        getSize: function() {
            return this.max.subtract(this.min)
        },
        contains: function(t) {
            var i, e;
            return (t = "number" == typeof t[0] || t instanceof x ? w(t) : b(t)) instanceof P ? (i = t.min, e = t.max) : i = e = t, i.x >= this.min.x && e.x <= this.max.x && i.y >= this.min.y && e.y <= this.max.y
        },
        intersects: function(t) {
            t = b(t);
            var i = this.min,
                e = this.max,
                n = t.min,
                o = t.max,
                s = o.x >= i.x && n.x <= e.x,
                r = o.y >= i.y && n.y <= e.y;
            return s && r
        },
        overlaps: function(t) {
            t = b(t);
            var i = this.min,
                e = this.max,
                n = t.min,
                o = t.max,
                s = o.x > i.x && n.x < e.x,
                r = o.y > i.y && n.y < e.y;
            return s && r
        },
        isValid: function() {
            return !(!this.min || !this.max)
        }
    }, T.prototype = {
        extend: function(t) {
            var i, e, n = this._southWest,
                o = this._northEast;
            if (t instanceof M) i = t, e = t;
            else {
                if (!(t instanceof T)) return t ? this.extend(C(t) || z(t)) : this;
                if (i = t._southWest, e = t._northEast, !i || !e) return this
            }
            return n || o ? (n.lat = Math.min(i.lat, n.lat), n.lng = Math.min(i.lng, n.lng), o.lat = Math.max(e.lat, o.lat), o.lng = Math.max(e.lng, o.lng)) : (this._southWest = new M(i.lat, i.lng), this._northEast = new M(e.lat, e.lng)), this
        },
        pad: function(t) {
            var i = this._southWest,
                e = this._northEast,
                n = Math.abs(i.lat - e.lat) * t,
                o = Math.abs(i.lng - e.lng) * t;
            return new T(new M(i.lat - n, i.lng - o), new M(e.lat + n, e.lng + o))
        },
        getCenter: function() {
            return new M((this._southWest.lat + this._northEast.lat) / 2, (this._southWest.lng + this._northEast.lng) / 2)
        },
        getSouthWest: function() {
            return this._southWest
        },
        getNorthEast: function() {
            return this._northEast
        },
        getNorthWest: function() {
            return new M(this.getNorth(), this.getWest())
        },
        getSouthEast: function() {
            return new M(this.getSouth(), this.getEast())
        },
        getWest: function() {
            return this._southWest.lng
        },
        getSouth: function() {
            return this._southWest.lat
        },
        getEast: function() {
            return this._northEast.lng
        },
        getNorth: function() {
            return this._northEast.lat
        },
        contains: function(t) {
            t = "number" == typeof t[0] || t instanceof M || "lat" in t ? C(t) : z(t);
            var i, e, n = this._southWest,
                o = this._northEast;
            return t instanceof T ? (i = t.getSouthWest(), e = t.getNorthEast()) : i = e = t, i.lat >= n.lat && e.lat <= o.lat && i.lng >= n.lng && e.lng <= o.lng
        },
        intersects: function(t) {
            t = z(t);
            var i = this._southWest,
                e = this._northEast,
                n = t.getSouthWest(),
                o = t.getNorthEast(),
                s = o.lat >= i.lat && n.lat <= e.lat,
                r = o.lng >= i.lng && n.lng <= e.lng;
            return s && r
        },
        overlaps: function(t) {
            t = z(t);
            var i = this._southWest,
                e = this._northEast,
                n = t.getSouthWest(),
                o = t.getNorthEast(),
                s = o.lat > i.lat && n.lat < e.lat,
                r = o.lng > i.lng && n.lng < e.lng;
            return s && r
        },
        toBBoxString: function() {
            return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",")
        },
        equals: function(t, i) {
            return !!t && (t = z(t), this._southWest.equals(t.getSouthWest(), i) && this._northEast.equals(t.getNorthEast(), i))
        },
        isValid: function() {
            return !(!this._southWest || !this._northEast)
        }
    }, M.prototype = {
        equals: function(t, i) {
            return !!t && (t = C(t), Math.max(Math.abs(this.lat - t.lat), Math.abs(this.lng - t.lng)) <= (void 0 === i ? 1e-9 : i))
        },
        toString: function(t) {
            return "LatLng(" + a(this.lat, t) + ", " + a(this.lng, t) + ")"
        },
        distanceTo: function(t) {
            return pi.distance(this, C(t))
        },
        wrap: function() {
            return pi.wrapLatLng(this)
        },
        toBounds: function(t) {
            var i = 180 * t / 40075017,
                e = i / Math.cos(Math.PI / 180 * this.lat);
            return z([this.lat - i, this.lng - e], [this.lat + i, this.lng + e])
        },
        clone: function() {
            return new M(this.lat, this.lng, this.alt)
        }
    };
    var di = {
            latLngToPoint: function(t, i) {
                var e = this.projection.project(t),
                    n = this.scale(i);
                return this.transformation._transform(e, n)
            },
            pointToLatLng: function(t, i) {
                var e = this.scale(i),
                    n = this.transformation.untransform(t, e);
                return this.projection.unproject(n)
            },
            project: function(t) {
                return this.projection.project(t)
            },
            unproject: function(t) {
                return this.projection.unproject(t)
            },
            scale: function(t) {
                return 256 * Math.pow(2, t)
            },
            zoom: function(t) {
                return Math.log(t / 256) / Math.LN2
            },
            getProjectedBounds: function(t) {
                if (this.infinite) return null;
                var i = this.projection.bounds,
                    e = this.scale(t);
                return new P(this.transformation.transform(i.min, e), this.transformation.transform(i.max, e))
            },
            infinite: !1,
            wrapLatLng: function(t) {
                var i = this.wrapLng ? s(t.lng, this.wrapLng, !0) : t.lng;
                return new M(this.wrapLat ? s(t.lat, this.wrapLat, !0) : t.lat, i, t.alt)
            },
            wrapLatLngBounds: function(t) {
                var i = t.getCenter(),
                    e = this.wrapLatLng(i),
                    n = i.lat - e.lat,
                    o = i.lng - e.lng;
                if (0 === n && 0 === o) return t;
                var s = t.getSouthWest(),
                    r = t.getNorthEast();
                return new T(new M(s.lat - n, s.lng - o), new M(r.lat - n, r.lng - o))
            }
        },
        pi = i({}, di, {
            wrapLng: [-180, 180],
            R: 6371e3,
            distance: function(t, i) {
                var e = Math.PI / 180,
                    n = t.lat * e,
                    o = i.lat * e,
                    s = Math.sin((i.lat - t.lat) * e / 2),
                    r = Math.sin((i.lng - t.lng) * e / 2),
                    a = s * s + Math.cos(n) * Math.cos(o) * r * r,
                    h = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
                return this.R * h
            }
        }),
        mi = {
            R: 6378137,
            MAX_LATITUDE: 85.0511287798,
            project: function(t) {
                var i = Math.PI / 180,
                    e = this.MAX_LATITUDE,
                    n = Math.max(Math.min(e, t.lat), -e),
                    o = Math.sin(n * i);
                return new x(this.R * t.lng * i, this.R * Math.log((1 + o) / (1 - o)) / 2)
            },
            unproject: function(t) {
                var i = 180 / Math.PI;
                return new M((2 * Math.atan(Math.exp(t.y / this.R)) - Math.PI / 2) * i, t.x * i / this.R)
            },
            bounds: function() {
                var t = 6378137 * Math.PI;
                return new P([-t, -t], [t, t])
            }()
        };
    S.prototype = {
        transform: function(t, i) {
            return this._transform(t.clone(), i)
        },
        _transform: function(t, i) {
            return i = i || 1, t.x = i * (this._a * t.x + this._b), t.y = i * (this._c * t.y + this._d), t
        },
        untransform: function(t, i) {
            return i = i || 1, new x((t.x / i - this._b) / this._a, (t.y / i - this._d) / this._c)
        }
    };
    var fi, gi, vi, yi = i({}, pi, {
            code: "EPSG:3857",
            projection: mi,
            transformation: function() {
                var t = .5 / (Math.PI * mi.R);
                return Z(t, .5, -t, .5)
            }()
        }),
        xi = i({}, yi, {
            code: "EPSG:900913"
        }),
        wi = document.documentElement.style,
        Pi = "ActiveXObject" in window,
        Li = Pi && !document.addEventListener,
        bi = "msLaunchUri" in navigator && !("documentMode" in document),
        Ti = A("webkit"),
        zi = A("android"),
        Mi = A("android 2") || A("android 3"),
        Ci = parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1], 10),
        Si = zi && A("Google") && Ci < 537 && !("AudioNode" in window),
        Zi = !!window.opera,
        Ei = A("chrome"),
        ki = A("gecko") && !Ti && !Zi && !Pi,
        Ai = !Ei && A("safari"),
        Bi = A("phantom"),
        Ii = "OTransition" in wi,
        Oi = 0 === navigator.platform.indexOf("Win"),
        Ri = Pi && "transition" in wi,
        Ni = "WebKitCSSMatrix" in window && "m11" in new window.WebKitCSSMatrix && !Mi,
        Di = "MozPerspective" in wi,
        ji = !window.L_DISABLE_3D && (Ri || Ni || Di) && !Ii && !Bi,
        Wi = "undefined" != typeof orientation || A("mobile"),
        Hi = Wi && Ti,
        Fi = Wi && Ni,
        Ui = !window.PointerEvent && window.MSPointerEvent,
        Vi = !(!window.PointerEvent && !Ui),
        qi = !window.L_NO_TOUCH && (Vi || "ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch),
        Gi = Wi && Zi,
        Ki = Wi && ki,
        Yi = (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI) > 1,
        Xi = !!document.createElement("canvas").getContext,
        Ji = !(!document.createElementNS || !E("svg").createSVGRect),
        $i = !Ji && function() {
            try {
                var t = document.createElement("div");
                t.innerHTML = '<v:shape adj="1"/>';
                var i = t.firstChild;
                return i.style.behavior = "url(#default#VML)", i && "object" == typeof i.adj
            } catch (t) {
                return !1
            }
        }(),
        Qi = (Object.freeze || Object)({
            ie: Pi,
            ielt9: Li,
            edge: bi,
            webkit: Ti,
            android: zi,
            android23: Mi,
            androidStock: Si,
            opera: Zi,
            chrome: Ei,
            gecko: ki,
            safari: Ai,
            phantom: Bi,
            opera12: Ii,
            win: Oi,
            ie3d: Ri,
            webkit3d: Ni,
            gecko3d: Di,
            any3d: ji,
            mobile: Wi,
            mobileWebkit: Hi,
            mobileWebkit3d: Fi,
            msPointer: Ui,
            pointer: Vi,
            touch: qi,
            mobileOpera: Gi,
            mobileGecko: Ki,
            retina: Yi,
            canvas: Xi,
            svg: Ji,
            vml: $i
        }),
        te = Ui ? "MSPointerDown" : "pointerdown",
        ie = Ui ? "MSPointerMove" : "pointermove",
        ee = Ui ? "MSPointerUp" : "pointerup",
        ne = Ui ? "MSPointerCancel" : "pointercancel",
        oe = ["INPUT", "SELECT", "OPTION"],
        se = {},
        re = !1,
        ae = 0,
        he = Ui ? "MSPointerDown" : Vi ? "pointerdown" : "touchstart",
        ue = Ui ? "MSPointerUp" : Vi ? "pointerup" : "touchend",
        le = "_leaflet_",
        ce = st(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]),
        _e = st(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]),
        de = "webkitTransition" === _e || "OTransition" === _e ? _e + "End" : "transitionend";
    if ("onselectstart" in document) fi = function() {
        mt(window, "selectstart", Pt)
    }, gi = function() {
        ft(window, "selectstart", Pt)
    };
    else {
        var pe = st(["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]);
        fi = function() {
            if (pe) {
                var t = document.documentElement.style;
                vi = t[pe], t[pe] = "none"
            }
        }, gi = function() {
            pe && (document.documentElement.style[pe] = vi, vi = void 0)
        }
    }
    var me, fe, ge, ve = (Object.freeze || Object)({
            TRANSFORM: ce,
            TRANSITION: _e,
            TRANSITION_END: de,
            get: V,
            getStyle: q,
            create: G,
            remove: K,
            empty: Y,
            toFront: X,
            toBack: J,
            hasClass: $,
            addClass: Q,
            removeClass: tt,
            setClass: it,
            getClass: et,
            setOpacity: nt,
            testProp: st,
            setTransform: rt,
            setPosition: at,
            getPosition: ht,
            disableTextSelection: fi,
            enableTextSelection: gi,
            disableImageDrag: ut,
            enableImageDrag: lt,
            preventOutline: ct,
            restoreOutline: _t,
            getSizedParentNode: dt,
            getScale: pt
        }),
        ye = "_leaflet_events",
        xe = Oi && Ei ? 2 * window.devicePixelRatio : ki ? window.devicePixelRatio : 1,
        we = {},
        Pe = (Object.freeze || Object)({
            on: mt,
            off: ft,
            stopPropagation: yt,
            disableScrollPropagation: xt,
            disableClickPropagation: wt,
            preventDefault: Pt,
            stop: Lt,
            getMousePosition: bt,
            getWheelDelta: Tt,
            fakeStop: zt,
            skipped: Mt,
            isExternalTarget: Ct,
            addListener: mt,
            removeListener: ft
        }),
        Le = ci.extend({
            run: function(t, i, e, n) {
                this.stop(), this._el = t, this._inProgress = !0, this._duration = e || .25, this._easeOutPower = 1 / Math.max(n || .5, .2), this._startPos = ht(t), this._offset = i.subtract(this._startPos), this._startTime = +new Date, this.fire("start"), this._animate()
            },
            stop: function() {
                this._inProgress && (this._step(!0), this._complete())
            },
            _animate: function() {
                this._animId = f(this._animate, this), this._step()
            },
            _step: function(t) {
                var i = +new Date - this._startTime,
                    e = 1e3 * this._duration;
                i < e ? this._runFrame(this._easeOut(i / e), t) : (this._runFrame(1), this._complete())
            },
            _runFrame: function(t, i) {
                var e = this._startPos.add(this._offset.multiplyBy(t));
                i && e._round(), at(this._el, e), this.fire("step")
            },
            _complete: function() {
                g(this._animId), this._inProgress = !1, this.fire("end")
            },
            _easeOut: function(t) {
                return 1 - Math.pow(1 - t, this._easeOutPower)
            }
        }),
        be = ci.extend({
            options: {
                crs: yi,
                center: void 0,
                zoom: void 0,
                minZoom: void 0,
                maxZoom: void 0,
                layers: [],
                maxBounds: void 0,
                renderer: void 0,
                zoomAnimation: !0,
                zoomAnimationThreshold: 4,
                fadeAnimation: !0,
                markerZoomAnimation: !0,
                transform3DLimit: 8388608,
                zoomSnap: 1,
                zoomDelta: 1,
                trackResize: !0
            },
            initialize: function(t, i) {
                i = l(this, i), this._initContainer(t), this._initLayout(), this._onResize = e(this._onResize, this), this._initEvents(), i.maxBounds && this.setMaxBounds(i.maxBounds), void 0 !== i.zoom && (this._zoom = this._limitZoom(i.zoom)), i.center && void 0 !== i.zoom && this.setView(C(i.center), i.zoom, {
                    reset: !0
                }), this._handlers = [], this._layers = {}, this._zoomBoundLayers = {}, this._sizeChanged = !0, this.callInitHooks(), this._zoomAnimated = _e && ji && !Gi && this.options.zoomAnimation, this._zoomAnimated && (this._createAnimProxy(), mt(this._proxy, de, this._catchTransitionEnd, this)), this._addLayers(this.options.layers)
            },
            setView: function(t, e, n) {
                return e = void 0 === e ? this._zoom : this._limitZoom(e), t = this._limitCenter(C(t), e, this.options.maxBounds), n = n || {}, this._stop(), this._loaded && !n.reset && !0 !== n && (void 0 !== n.animate && (n.zoom = i({
                    animate: n.animate
                }, n.zoom), n.pan = i({
                    animate: n.animate,
                    duration: n.duration
                }, n.pan)), this._zoom !== e ? this._tryAnimatedZoom && this._tryAnimatedZoom(t, e, n.zoom) : this._tryAnimatedPan(t, n.pan)) ? (clearTimeout(this._sizeTimer), this) : (this._resetView(t, e), this)
            },
            setZoom: function(t, i) {
                return this._loaded ? this.setView(this.getCenter(), t, {
                    zoom: i
                }) : (this._zoom = t, this)
            },
            zoomIn: function(t, i) {
                return t = t || (ji ? this.options.zoomDelta : 1), this.setZoom(this._zoom + t, i)
            },
            zoomOut: function(t, i) {
                return t = t || (ji ? this.options.zoomDelta : 1), this.setZoom(this._zoom - t, i)
            },
            setZoomAround: function(t, i, e) {
                var n = this.getZoomScale(i),
                    o = this.getSize().divideBy(2),
                    s = (t instanceof x ? t : this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1 - 1 / n),
                    r = this.containerPointToLatLng(o.add(s));
                return this.setView(r, i, {
                    zoom: e
                })
            },
            _getBoundsCenterZoom: function(t, i) {
                i = i || {}, t = t.getBounds ? t.getBounds() : z(t);
                var e = w(i.paddingTopLeft || i.padding || [0, 0]),
                    n = w(i.paddingBottomRight || i.padding || [0, 0]),
                    o = this.getBoundsZoom(t, !1, e.add(n));
                if ((o = "number" == typeof i.maxZoom ? Math.min(i.maxZoom, o) : o) === 1 / 0) return {
                    center: t.getCenter(),
                    zoom: o
                };
                var s = n.subtract(e).divideBy(2),
                    r = this.project(t.getSouthWest(), o),
                    a = this.project(t.getNorthEast(), o);
                return {
                    center: this.unproject(r.add(a).divideBy(2).add(s), o),
                    zoom: o
                }
            },
            fitBounds: function(t, i) {
                if (!(t = z(t)).isValid()) throw new Error("Bounds are not valid.");
                var e = this._getBoundsCenterZoom(t, i);
                return this.setView(e.center, e.zoom, i)
            },
            fitWorld: function(t) {
                return this.fitBounds([
                    [-90, -180],
                    [90, 180]
                ], t)
            },
            panTo: function(t, i) {
                return this.setView(t, this._zoom, {
                    pan: i
                })
            },
            panBy: function(t, i) {
                if (t = w(t).round(), i = i || {}, !t.x && !t.y) return this.fire("moveend");
                if (!0 !== i.animate && !this.getSize().contains(t)) return this._resetView(this.unproject(this.project(this.getCenter()).add(t)), this.getZoom()), this;
                if (this._panAnim || (this._panAnim = new Le, this._panAnim.on({
                        step: this._onPanTransitionStep,
                        end: this._onPanTransitionEnd
                    }, this)), i.noMoveStart || this.fire("movestart"), !1 !== i.animate) {
                    Q(this._mapPane, "leaflet-pan-anim");
                    var e = this._getMapPanePos().subtract(t).round();
                    this._panAnim.run(this._mapPane, e, i.duration || .25, i.easeLinearity)
                } else this._rawPanBy(t), this.fire("move").fire("moveend");
                return this
            },
            flyTo: function(t, i, e) {
                function n(t) {
                    var i = (g * g - m * m + (t ? -1 : 1) * x * x * v * v) / (2 * (t ? g : m) * x * v),
                        e = Math.sqrt(i * i + 1) - i;
                    return e < 1e-9 ? -18 : Math.log(e)
                }

                function o(t) {
                    return (Math.exp(t) - Math.exp(-t)) / 2
                }

                function s(t) {
                    return (Math.exp(t) + Math.exp(-t)) / 2
                }

                function r(t) {
                    return o(t) / s(t)
                }

                function a(t) {
                    return m * (s(w) / s(w + y * t))
                }

                function h(t) {
                    return m * (s(w) * r(w + y * t) - o(w)) / x
                }

                function u(t) {
                    return 1 - Math.pow(1 - t, 1.5)
                }

                function l() {
                    var e = (Date.now() - P) / b,
                        n = u(e) * L;
                    e <= 1 ? (this._flyToFrame = f(l, this), this._move(this.unproject(c.add(_.subtract(c).multiplyBy(h(n) / v)), p), this.getScaleZoom(m / a(n), p), {
                        flyTo: !0
                    })) : this._move(t, i)._moveEnd(!0)
                }
                if (!1 === (e = e || {}).animate || !ji) return this.setView(t, i, e);
                this._stop();
                var c = this.project(this.getCenter()),
                    _ = this.project(t),
                    d = this.getSize(),
                    p = this._zoom;
                t = C(t), i = void 0 === i ? p : i;
                var m = Math.max(d.x, d.y),
                    g = m * this.getZoomScale(p, i),
                    v = _.distanceTo(c) || 1,
                    y = 1.42,
                    x = y * y,
                    w = n(0),
                    P = Date.now(),
                    L = (n(1) - w) / y,
                    b = e.duration ? 1e3 * e.duration : 1e3 * L * .8;
                return this._moveStart(!0, e.noMoveStart), l.call(this), this
            },
            flyToBounds: function(t, i) {
                var e = this._getBoundsCenterZoom(t, i);
                return this.flyTo(e.center, e.zoom, i)
            },
            setMaxBounds: function(t) {
                return (t = z(t)).isValid() ? (this.options.maxBounds && this.off("moveend", this._panInsideMaxBounds), this.options.maxBounds = t, this._loaded && this._panInsideMaxBounds(), this.on("moveend", this._panInsideMaxBounds)) : (this.options.maxBounds = null, this.off("moveend", this._panInsideMaxBounds))
            },
            setMinZoom: function(t) {
                var i = this.options.minZoom;
                return this.options.minZoom = t, this._loaded && i !== t && (this.fire("zoomlevelschange"), this.getZoom() < this.options.minZoom) ? this.setZoom(t) : this
            },
            setMaxZoom: function(t) {
                var i = this.options.maxZoom;
                return this.options.maxZoom = t, this._loaded && i !== t && (this.fire("zoomlevelschange"), this.getZoom() > this.options.maxZoom) ? this.setZoom(t) : this
            },
            panInsideBounds: function(t, i) {
                this._enforcingBounds = !0;
                var e = this.getCenter(),
                    n = this._limitCenter(e, this._zoom, z(t));
                return e.equals(n) || this.panTo(n, i), this._enforcingBounds = !1, this
            },
            invalidateSize: function(t) {
                if (!this._loaded) return this;
                t = i({
                    animate: !1,
                    pan: !0
                }, !0 === t ? {
                    animate: !0
                } : t);
                var n = this.getSize();
                this._sizeChanged = !0, this._lastCenter = null;
                var o = this.getSize(),
                    s = n.divideBy(2).round(),
                    r = o.divideBy(2).round(),
                    a = s.subtract(r);
                return a.x || a.y ? (t.animate && t.pan ? this.panBy(a) : (t.pan && this._rawPanBy(a), this.fire("move"), t.debounceMoveend ? (clearTimeout(this._sizeTimer), this._sizeTimer = setTimeout(e(this.fire, this, "moveend"), 200)) : this.fire("moveend")), this.fire("resize", {
                    oldSize: n,
                    newSize: o
                })) : this
            },
            stop: function() {
                return this.setZoom(this._limitZoom(this._zoom)), this.options.zoomSnap || this.fire("viewreset"), this._stop()
            },
            locate: function(t) {
                if (t = this._locateOptions = i({
                        timeout: 1e4,
                        watch: !1
                    }, t), !("geolocation" in navigator)) return this._handleGeolocationError({
                    code: 0,
                    message: "Geolocation not supported."
                }), this;
                var n = e(this._handleGeolocationResponse, this),
                    o = e(this._handleGeolocationError, this);
                return t.watch ? this._locationWatchId = navigator.geolocation.watchPosition(n, o, t) : navigator.geolocation.getCurrentPosition(n, o, t), this
            },
            stopLocate: function() {
                return navigator.geolocation && navigator.geolocation.clearWatch && navigator.geolocation.clearWatch(this._locationWatchId), this._locateOptions && (this._locateOptions.setView = !1), this
            },
            _handleGeolocationError: function(t) {
                var i = t.code,
                    e = t.message || (1 === i ? "permission denied" : 2 === i ? "position unavailable" : "timeout");
                this._locateOptions.setView && !this._loaded && this.fitWorld(), this.fire("locationerror", {
                    code: i,
                    message: "Geolocation error: " + e + "."
                })
            },
            _handleGeolocationResponse: function(t) {
                var i = new M(t.coords.latitude, t.coords.longitude),
                    e = i.toBounds(2 * t.coords.accuracy),
                    n = this._locateOptions;
                if (n.setView) {
                    var o = this.getBoundsZoom(e);
                    this.setView(i, n.maxZoom ? Math.min(o, n.maxZoom) : o)
                }
                var s = {
                    latlng: i,
                    bounds: e,
                    timestamp: t.timestamp
                };
                for (var r in t.coords) "number" == typeof t.coords[r] && (s[r] = t.coords[r]);
                this.fire("locationfound", s)
            },
            addHandler: function(t, i) {
                if (!i) return this;
                var e = this[t] = new i(this);
                return this._handlers.push(e), this.options[t] && e.enable(), this
            },
            remove: function() {
                if (this._initEvents(!0), this._containerId !== this._container._leaflet_id) throw new Error("Map container is being reused by another instance");
                try {
                    delete this._container._leaflet_id, delete this._containerId
                } catch (t) {
                    this._container._leaflet_id = void 0, this._containerId = void 0
                }
                void 0 !== this._locationWatchId && this.stopLocate(), this._stop(), K(this._mapPane), this._clearControlPos && this._clearControlPos(), this._resizeRequest && (g(this._resizeRequest), this._resizeRequest = null), this._clearHandlers(), this._loaded && this.fire("unload");
                var t;
                for (t in this._layers) this._layers[t].remove();
                for (t in this._panes) K(this._panes[t]);
                return this._layers = [], this._panes = [], delete this._mapPane, delete this._renderer, this
            },
            createPane: function(t, i) {
                var e = G("div", "leaflet-pane" + (t ? " leaflet-" + t.replace("Pane", "") + "-pane" : ""), i || this._mapPane);
                return t && (this._panes[t] = e), e
            },
            getCenter: function() {
                return this._checkIfLoaded(), this._lastCenter && !this._moved() ? this._lastCenter : this.layerPointToLatLng(this._getCenterLayerPoint())
            },
            getZoom: function() {
                return this._zoom
            },
            getBounds: function() {
                var t = this.getPixelBounds();
                return new T(this.unproject(t.getBottomLeft()), this.unproject(t.getTopRight()))
            },
            getMinZoom: function() {
                return void 0 === this.options.minZoom ? this._layersMinZoom || 0 : this.options.minZoom
            },
            getMaxZoom: function() {
                return void 0 === this.options.maxZoom ? void 0 === this._layersMaxZoom ? 1 / 0 : this._layersMaxZoom : this.options.maxZoom
            },
            getBoundsZoom: function(t, i, e) {
                t = z(t), e = w(e || [0, 0]);
                var n = this.getZoom() || 0,
                    o = this.getMinZoom(),
                    s = this.getMaxZoom(),
                    r = t.getNorthWest(),
                    a = t.getSouthEast(),
                    h = this.getSize().subtract(e),
                    u = b(this.project(a, n), this.project(r, n)).getSize(),
                    l = ji ? this.options.zoomSnap : 1,
                    c = h.x / u.x,
                    _ = h.y / u.y,
                    d = i ? Math.max(c, _) : Math.min(c, _);
                return n = this.getScaleZoom(d, n), l && (n = Math.round(n / (l / 100)) * (l / 100), n = i ? Math.ceil(n / l) * l : Math.floor(n / l) * l), Math.max(o, Math.min(s, n))
            },
            getSize: function() {
                return this._size && !this._sizeChanged || (this._size = new x(this._container.clientWidth || 0, this._container.clientHeight || 0), this._sizeChanged = !1), this._size.clone()
            },
            getPixelBounds: function(t, i) {
                var e = this._getTopLeftPoint(t, i);
                return new P(e, e.add(this.getSize()))
            },
            getPixelOrigin: function() {
                return this._checkIfLoaded(), this._pixelOrigin
            },
            getPixelWorldBounds: function(t) {
                return this.options.crs.getProjectedBounds(void 0 === t ? this.getZoom() : t)
            },
            getPane: function(t) {
                return "string" == typeof t ? this._panes[t] : t
            },
            getPanes: function() {
                return this._panes
            },
            getContainer: function() {
                return this._container
            },
            getZoomScale: function(t, i) {
                var e = this.options.crs;
                return i = void 0 === i ? this._zoom : i, e.scale(t) / e.scale(i)
            },
            getScaleZoom: function(t, i) {
                var e = this.options.crs;
                i = void 0 === i ? this._zoom : i;
                var n = e.zoom(t * e.scale(i));
                return isNaN(n) ? 1 / 0 : n
            },
            project: function(t, i) {
                return i = void 0 === i ? this._zoom : i, this.options.crs.latLngToPoint(C(t), i)
            },
            unproject: function(t, i) {
                return i = void 0 === i ? this._zoom : i, this.options.crs.pointToLatLng(w(t), i)
            },
            layerPointToLatLng: function(t) {
                var i = w(t).add(this.getPixelOrigin());
                return this.unproject(i)
            },
            latLngToLayerPoint: function(t) {
                return this.project(C(t))._round()._subtract(this.getPixelOrigin())
            },
            wrapLatLng: function(t) {
                return this.options.crs.wrapLatLng(C(t))
            },
            wrapLatLngBounds: function(t) {
                return this.options.crs.wrapLatLngBounds(z(t))
            },
            distance: function(t, i) {
                return this.options.crs.distance(C(t), C(i))
            },
            containerPointToLayerPoint: function(t) {
                return w(t).subtract(this._getMapPanePos())
            },
            layerPointToContainerPoint: function(t) {
                return w(t).add(this._getMapPanePos())
            },
            containerPointToLatLng: function(t) {
                var i = this.containerPointToLayerPoint(w(t));
                return this.layerPointToLatLng(i)
            },
            latLngToContainerPoint: function(t) {
                return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(t)))
            },
            mouseEventToContainerPoint: function(t) {
                return bt(t, this._container)
            },
            mouseEventToLayerPoint: function(t) {
                return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))
            },
            mouseEventToLatLng: function(t) {
                return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))
            },
            _initContainer: function(t) {
                var i = this._container = V(t);
                if (!i) throw new Error("Map container not found.");
                if (i._leaflet_id) throw new Error("Map container is already initialized.");
                mt(i, "scroll", this._onScroll, this), this._containerId = n(i)
            },
            _initLayout: function() {
                var t = this._container;
                this._fadeAnimated = this.options.fadeAnimation && ji, Q(t, "leaflet-container" + (qi ? " leaflet-touch" : "") + (Yi ? " leaflet-retina" : "") + (Li ? " leaflet-oldie" : "") + (Ai ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));
                var i = q(t, "position");
                "absolute" !== i && "relative" !== i && "fixed" !== i && (t.style.position = "relative"), this._initPanes(), this._initControlPos && this._initControlPos()
            },
            _initPanes: function() {
                var t = this._panes = {};
                this._paneRenderers = {}, this._mapPane = this.createPane("mapPane", this._container), at(this._mapPane, new x(0, 0)), this.createPane("tilePane"), this.createPane("shadowPane"), this.createPane("overlayPane"), this.createPane("markerPane"), this.createPane("tooltipPane"), this.createPane("popupPane"), this.options.markerZoomAnimation || (Q(t.markerPane, "leaflet-zoom-hide"), Q(t.shadowPane, "leaflet-zoom-hide"))
            },
            _resetView: function(t, i) {
                at(this._mapPane, new x(0, 0));
                var e = !this._loaded;
                this._loaded = !0, i = this._limitZoom(i), this.fire("viewprereset");
                var n = this._zoom !== i;
                this._moveStart(n, !1)._move(t, i)._moveEnd(n), this.fire("viewreset"), e && this.fire("load")
            },
            _moveStart: function(t, i) {
                return t && this.fire("zoomstart"), i || this.fire("movestart"), this
            },
            _move: function(t, i, e) {
                void 0 === i && (i = this._zoom);
                var n = this._zoom !== i;
                return this._zoom = i, this._lastCenter = t, this._pixelOrigin = this._getNewPixelOrigin(t), (n || e && e.pinch) && this.fire("zoom", e), this.fire("move", e)
            },
            _moveEnd: function(t) {
                return t && this.fire("zoomend"), this.fire("moveend")
            },
            _stop: function() {
                return g(this._flyToFrame), this._panAnim && this._panAnim.stop(), this
            },
            _rawPanBy: function(t) {
                at(this._mapPane, this._getMapPanePos().subtract(t))
            },
            _getZoomSpan: function() {
                return this.getMaxZoom() - this.getMinZoom()
            },
            _panInsideMaxBounds: function() {
                this._enforcingBounds || this.panInsideBounds(this.options.maxBounds)
            },
            _checkIfLoaded: function() {
                if (!this._loaded) throw new Error("Set map center and zoom first.")
            },
            _initEvents: function(t) {
                this._targets = {}, this._targets[n(this._container)] = this;
                var i = t ? ft : mt;
                i(this._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress", this._handleDOMEvent, this), this.options.trackResize && i(window, "resize", this._onResize, this), ji && this.options.transform3DLimit && (t ? this.off : this.on).call(this, "moveend", this._onMoveEnd)
            },
            _onResize: function() {
                g(this._resizeRequest), this._resizeRequest = f(function() {
                    this.invalidateSize({
                        debounceMoveend: !0
                    })
                }, this)
            },
            _onScroll: function() {
                this._container.scrollTop = 0, this._container.scrollLeft = 0
            },
            _onMoveEnd: function() {
                var t = this._getMapPanePos();
                Math.max(Math.abs(t.x), Math.abs(t.y)) >= this.options.transform3DLimit && this._resetView(this.getCenter(), this.getZoom())
            },
            _findEventTargets: function(t, i) {
                for (var e, o = [], s = "mouseout" === i || "mouseover" === i, r = t.target || t.srcElement, a = !1; r;) {
                    if ((e = this._targets[n(r)]) && ("click" === i || "preclick" === i) && !t._simulated && this._draggableMoved(e)) {
                        a = !0;
                        break
                    }
                    if (e && e.listens(i, !0)) {
                        if (s && !Ct(r, t)) break;
                        if (o.push(e), s) break
                    }
                    if (r === this._container) break;
                    r = r.parentNode
                }
                return o.length || a || s || !Ct(r, t) || (o = [this]), o
            },
            _handleDOMEvent: function(t) {
                if (this._loaded && !Mt(t)) {
                    var i = t.type;
                    "mousedown" !== i && "keypress" !== i || ct(t.target || t.srcElement), this._fireDOMEvent(t, i)
                }
            },
            _mouseEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"],
            _fireDOMEvent: function(t, e, n) {
                if ("click" === t.type) {
                    var o = i({}, t);
                    o.type = "preclick", this._fireDOMEvent(o, o.type, n)
                }
                if (!t._stopped && (n = (n || []).concat(this._findEventTargets(t, e))).length) {
                    var s = n[0];
                    "contextmenu" === e && s.listens(e, !0) && Pt(t);
                    var r = {
                        originalEvent: t
                    };
                    if ("keypress" !== t.type) {
                        var a = s.getLatLng && (!s._radius || s._radius <= 10);
                        r.containerPoint = a ? this.latLngToContainerPoint(s.getLatLng()) : this.mouseEventToContainerPoint(t), r.layerPoint = this.containerPointToLayerPoint(r.containerPoint), r.latlng = a ? s.getLatLng() : this.layerPointToLatLng(r.layerPoint)
                    }
                    for (var h = 0; h < n.length; h++)
                        if (n[h].fire(e, r, !0), r.originalEvent._stopped || !1 === n[h].options.bubblingMouseEvents && -1 !== d(this._mouseEvents, e)) return
                }
            },
            _draggableMoved: function(t) {
                return (t = t.dragging && t.dragging.enabled() ? t : this).dragging && t.dragging.moved() || this.boxZoom && this.boxZoom.moved()
            },
            _clearHandlers: function() {
                for (var t = 0, i = this._handlers.length; t < i; t++) this._handlers[t].disable()
            },
            whenReady: function(t, i) {
                return this._loaded ? t.call(i || this, {
                    target: this
                }) : this.on("load", t, i), this
            },
            _getMapPanePos: function() {
                return ht(this._mapPane) || new x(0, 0)
            },
            _moved: function() {
                var t = this._getMapPanePos();
                return t && !t.equals([0, 0])
            },
            _getTopLeftPoint: function(t, i) {
                return (t && void 0 !== i ? this._getNewPixelOrigin(t, i) : this.getPixelOrigin()).subtract(this._getMapPanePos())
            },
            _getNewPixelOrigin: function(t, i) {
                var e = this.getSize()._divideBy(2);
                return this.project(t, i)._subtract(e)._add(this._getMapPanePos())._round()
            },
            _latLngToNewLayerPoint: function(t, i, e) {
                var n = this._getNewPixelOrigin(e, i);
                return this.project(t, i)._subtract(n)
            },
            _latLngBoundsToNewLayerBounds: function(t, i, e) {
                var n = this._getNewPixelOrigin(e, i);
                return b([this.project(t.getSouthWest(), i)._subtract(n), this.project(t.getNorthWest(), i)._subtract(n), this.project(t.getSouthEast(), i)._subtract(n), this.project(t.getNorthEast(), i)._subtract(n)])
            },
            _getCenterLayerPoint: function() {
                return this.containerPointToLayerPoint(this.getSize()._divideBy(2))
            },
            _getCenterOffset: function(t) {
                return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())
            },
            _limitCenter: function(t, i, e) {
                if (!e) return t;
                var n = this.project(t, i),
                    o = this.getSize().divideBy(2),
                    s = new P(n.subtract(o), n.add(o)),
                    r = this._getBoundsOffset(s, e, i);
                return r.round().equals([0, 0]) ? t : this.unproject(n.add(r), i)
            },
            _limitOffset: function(t, i) {
                if (!i) return t;
                var e = this.getPixelBounds(),
                    n = new P(e.min.add(t), e.max.add(t));
                return t.add(this._getBoundsOffset(n, i))
            },
            _getBoundsOffset: function(t, i, e) {
                var n = b(this.project(i.getNorthEast(), e), this.project(i.getSouthWest(), e)),
                    o = n.min.subtract(t.min),
                    s = n.max.subtract(t.max);
                return new x(this._rebound(o.x, -s.x), this._rebound(o.y, -s.y))
            },
            _rebound: function(t, i) {
                return t + i > 0 ? Math.round(t - i) / 2 : Math.max(0, Math.ceil(t)) - Math.max(0, Math.floor(i))
            },
            _limitZoom: function(t) {
                var i = this.getMinZoom(),
                    e = this.getMaxZoom(),
                    n = ji ? this.options.zoomSnap : 1;
                return n && (t = Math.round(t / n) * n), Math.max(i, Math.min(e, t))
            },
            _onPanTransitionStep: function() {
                this.fire("move")
            },
            _onPanTransitionEnd: function() {
                tt(this._mapPane, "leaflet-pan-anim"), this.fire("moveend")
            },
            _tryAnimatedPan: function(t, i) {
                var e = this._getCenterOffset(t)._trunc();
                return !(!0 !== (i && i.animate) && !this.getSize().contains(e)) && (this.panBy(e, i), !0)
            },
            _createAnimProxy: function() {
                var t = this._proxy = G("div", "leaflet-proxy leaflet-zoom-animated");
                this._panes.mapPane.appendChild(t), this.on("zoomanim", function(t) {
                    var i = ce,
                        e = this._proxy.style[i];
                    rt(this._proxy, this.project(t.center, t.zoom), this.getZoomScale(t.zoom, 1)), e === this._proxy.style[i] && this._animatingZoom && this._onZoomTransitionEnd()
                }, this), this.on("load moveend", function() {
                    var t = this.getCenter(),
                        i = this.getZoom();
                    rt(this._proxy, this.project(t, i), this.getZoomScale(i, 1))
                }, this), this._on("unload", this._destroyAnimProxy, this)
            },
            _destroyAnimProxy: function() {
                K(this._proxy), delete this._proxy
            },
            _catchTransitionEnd: function(t) {
                this._animatingZoom && t.propertyName.indexOf("transform") >= 0 && this._onZoomTransitionEnd()
            },
            _nothingToAnimate: function() {
                return !this._container.getElementsByClassName("leaflet-zoom-animated").length
            },
            _tryAnimatedZoom: function(t, i, e) {
                if (this._animatingZoom) return !0;
                if (e = e || {}, !this._zoomAnimated || !1 === e.animate || this._nothingToAnimate() || Math.abs(i - this._zoom) > this.options.zoomAnimationThreshold) return !1;
                var n = this.getZoomScale(i),
                    o = this._getCenterOffset(t)._divideBy(1 - 1 / n);
                return !(!0 !== e.animate && !this.getSize().contains(o)) && (f(function() {
                    this._moveStart(!0, !1)._animateZoom(t, i, !0)
                }, this), !0)
            },
            _animateZoom: function(t, i, n, o) {
                this._mapPane && (n && (this._animatingZoom = !0, this._animateToCenter = t, this._animateToZoom = i, Q(this._mapPane, "leaflet-zoom-anim")), this.fire("zoomanim", {
                    center: t,
                    zoom: i,
                    noUpdate: o
                }), setTimeout(e(this._onZoomTransitionEnd, this), 250))
            },
            _onZoomTransitionEnd: function() {
                this._animatingZoom && (this._mapPane && tt(this._mapPane, "leaflet-zoom-anim"), this._animatingZoom = !1, this._move(this._animateToCenter, this._animateToZoom), f(function() {
                    this._moveEnd(!0)
                }, this))
            }
        }),
        Te = v.extend({
            options: {
                position: "topright"
            },
            initialize: function(t) {
                l(this, t)
            },
            getPosition: function() {
                return this.options.position
            },
            setPosition: function(t) {
                var i = this._map;
                return i && i.removeControl(this), this.options.position = t, i && i.addControl(this), this
            },
            getContainer: function() {
                return this._container
            },
            addTo: function(t) {
                this.remove(), this._map = t;
                var i = this._container = this.onAdd(t),
                    e = this.getPosition(),
                    n = t._controlCorners[e];
                return Q(i, "leaflet-control"), -1 !== e.indexOf("bottom") ? n.insertBefore(i, n.firstChild) : n.appendChild(i), this
            },
            remove: function() {
                return this._map ? (K(this._container), this.onRemove && this.onRemove(this._map), this._map = null, this) : this
            },
            _refocusOnMap: function(t) {
                this._map && t && t.screenX > 0 && t.screenY > 0 && this._map.getContainer().focus()
            }
        }),
        ze = function(t) {
            return new Te(t)
        };
    be.include({
        addControl: function(t) {
            return t.addTo(this), this
        },
        removeControl: function(t) {
            return t.remove(), this
        },
        _initControlPos: function() {
            function t(t, o) {
                var s = e + t + " " + e + o;
                i[t + o] = G("div", s, n)
            }
            var i = this._controlCorners = {},
                e = "leaflet-",
                n = this._controlContainer = G("div", e + "control-container", this._container);
            t("top", "left"), t("top", "right"), t("bottom", "left"), t("bottom", "right")
        },
        _clearControlPos: function() {
            for (var t in this._controlCorners) K(this._controlCorners[t]);
            K(this._controlContainer), delete this._controlCorners, delete this._controlContainer
        }
    });
    var Me = Te.extend({
            options: {
                collapsed: !0,
                position: "topright",
                autoZIndex: !0,
                hideSingleBase: !1,
                sortLayers: !1,
                sortFunction: function(t, i, e, n) {
                    return e < n ? -1 : n < e ? 1 : 0
                }
            },
            initialize: function(t, i, e) {
                l(this, e), this._layerControlInputs = [], this._layers = [], this._lastZIndex = 0, this._handlingClick = !1;
                for (var n in t) this._addLayer(t[n], n);
                for (n in i) this._addLayer(i[n], n, !0)
            },
            onAdd: function(t) {
                this._initLayout(), this._update(), this._map = t, t.on("zoomend", this._checkDisabledLayers, this);
                for (var i = 0; i < this._layers.length; i++) this._layers[i].layer.on("add remove", this._onLayerChange, this);
                return this._container
            },
            addTo: function(t) {
                return Te.prototype.addTo.call(this, t), this._expandIfNotCollapsed()
            },
            onRemove: function() {
                this._map.off("zoomend", this._checkDisabledLayers, this);
                for (var t = 0; t < this._layers.length; t++) this._layers[t].layer.off("add remove", this._onLayerChange, this)
            },
            addBaseLayer: function(t, i) {
                return this._addLayer(t, i), this._map ? this._update() : this
            },
            addOverlay: function(t, i) {
                return this._addLayer(t, i, !0), this._map ? this._update() : this
            },
            removeLayer: function(t) {
                t.off("add remove", this._onLayerChange, this);
                var i = this._getLayer(n(t));
                return i && this._layers.splice(this._layers.indexOf(i), 1), this._map ? this._update() : this
            },
            expand: function() {
                Q(this._container, "leaflet-control-layers-expanded"), this._form.style.height = null;
                var t = this._map.getSize().y - (this._container.offsetTop + 50);
                return t < this._form.clientHeight ? (Q(this._form, "leaflet-control-layers-scrollbar"), this._form.style.height = t + "px") : tt(this._form, "leaflet-control-layers-scrollbar"), this._checkDisabledLayers(), this
            },
            collapse: function() {
                return tt(this._container, "leaflet-control-layers-expanded"), this
            },
            _initLayout: function() {
                var t = "leaflet-control-layers",
                    i = this._container = G("div", t),
                    e = this.options.collapsed;
                i.setAttribute("aria-haspopup", !0), wt(i), xt(i);
                var n = this._form = G("form", t + "-list");
                e && (this._map.on("click", this.collapse, this), zi || mt(i, {
                    mouseenter: this.expand,
                    mouseleave: this.collapse
                }, this));
                var o = this._layersLink = G("a", t + "-toggle", i);
                o.href = "#", o.title = "Layers", qi ? (mt(o, "click", Lt), mt(o, "click", this.expand, this)) : mt(o, "focus", this.expand, this), e || this.expand(), this._baseLayersList = G("div", t + "-base", n), this._separator = G("div", t + "-separator", n), this._overlaysList = G("div", t + "-overlays", n), i.appendChild(n)
            },
            _getLayer: function(t) {
                for (var i = 0; i < this._layers.length; i++)
                    if (this._layers[i] && n(this._layers[i].layer) === t) return this._layers[i]
            },
            _addLayer: function(t, i, n) {
                this._map && t.on("add remove", this._onLayerChange, this), this._layers.push({
                    layer: t,
                    name: i,
                    overlay: n
                }), this.options.sortLayers && this._layers.sort(e(function(t, i) {
                    return this.options.sortFunction(t.layer, i.layer, t.name, i.name)
                }, this)), this.options.autoZIndex && t.setZIndex && (this._lastZIndex++, t.setZIndex(this._lastZIndex)), this._expandIfNotCollapsed()
            },
            _update: function() {
                if (!this._container) return this;
                Y(this._baseLayersList), Y(this._overlaysList), this._layerControlInputs = [];
                var t, i, e, n, o = 0;
                for (e = 0; e < this._layers.length; e++) n = this._layers[e], this._addItem(n), i = i || n.overlay, t = t || !n.overlay, o += n.overlay ? 0 : 1;
                return this.options.hideSingleBase && (t = t && o > 1, this._baseLayersList.style.display = t ? "" : "none"), this._separator.style.display = i && t ? "" : "none", this
            },
            _onLayerChange: function(t) {
                this._handlingClick || this._update();
                var i = this._getLayer(n(t.target)),
                    e = i.overlay ? "add" === t.type ? "overlayadd" : "overlayremove" : "add" === t.type ? "baselayerchange" : null;
                e && this._map.fire(e, i)
            },
            _createRadioElement: function(t, i) {
                var e = '<input type="radio" class="leaflet-control-layers-selector" name="' + t + '"' + (i ? ' checked="checked"' : "") + "/>",
                    n = document.createElement("div");
                return n.innerHTML = e, n.firstChild
            },
            _addItem: function(t) {
                var i, e = document.createElement("label"),
                    o = this._map.hasLayer(t.layer);
                t.overlay ? ((i = document.createElement("input")).type = "checkbox", i.className = "leaflet-control-layers-selector", i.defaultChecked = o) : i = this._createRadioElement("leaflet-base-layers", o), this._layerControlInputs.push(i), i.layerId = n(t.layer), mt(i, "click", this._onInputClick, this);
                var s = document.createElement("span");
                s.innerHTML = " " + t.name;
                var r = document.createElement("div");
                return e.appendChild(r), r.appendChild(i), r.appendChild(s), (t.overlay ? this._overlaysList : this._baseLayersList).appendChild(e), this._checkDisabledLayers(), e
            },
            _onInputClick: function() {
                var t, i, e = this._layerControlInputs,
                    n = [],
                    o = [];
                this._handlingClick = !0;
                for (var s = e.length - 1; s >= 0; s--) t = e[s], i = this._getLayer(t.layerId).layer, t.checked ? n.push(i) : t.checked || o.push(i);
                for (s = 0; s < o.length; s++) this._map.hasLayer(o[s]) && this._map.removeLayer(o[s]);
                for (s = 0; s < n.length; s++) this._map.hasLayer(n[s]) || this._map.addLayer(n[s]);
                this._handlingClick = !1, this._refocusOnMap()
            },
            _checkDisabledLayers: function() {
                for (var t, i, e = this._layerControlInputs, n = this._map.getZoom(), o = e.length - 1; o >= 0; o--) t = e[o], i = this._getLayer(t.layerId).layer, t.disabled = void 0 !== i.options.minZoom && n < i.options.minZoom || void 0 !== i.options.maxZoom && n > i.options.maxZoom
            },
            _expandIfNotCollapsed: function() {
                return this._map && !this.options.collapsed && this.expand(), this
            },
            _expand: function() {
                return this.expand()
            },
            _collapse: function() {
                return this.collapse()
            }
        }),
        Ce = Te.extend({
            options: {
                position: "topleft",
                zoomInText: "+",
                zoomInTitle: "Zoom in",
                zoomOutText: "&#x2212;",
                zoomOutTitle: "Zoom out"
            },
            onAdd: function(t) {
                var i = "leaflet-control-zoom",
                    e = G("div", i + " leaflet-bar"),
                    n = this.options;
                return this._zoomInButton = this._createButton(n.zoomInText, n.zoomInTitle, i + "-in", e, this._zoomIn), this._zoomOutButton = this._createButton(n.zoomOutText, n.zoomOutTitle, i + "-out", e, this._zoomOut), this._updateDisabled(), t.on("zoomend zoomlevelschange", this._updateDisabled, this), e
            },
            onRemove: function(t) {
                t.off("zoomend zoomlevelschange", this._updateDisabled, this)
            },
            disable: function() {
                return this._disabled = !0, this._updateDisabled(), this
            },
            enable: function() {
                return this._disabled = !1, this._updateDisabled(), this
            },
            _zoomIn: function(t) {
                !this._disabled && this._map._zoom < this._map.getMaxZoom() && this._map.zoomIn(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1))
            },
            _zoomOut: function(t) {
                !this._disabled && this._map._zoom > this._map.getMinZoom() && this._map.zoomOut(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1))
            },
            _createButton: function(t, i, e, n, o) {
                var s = G("a", e, n);
                return s.innerHTML = t, s.href = "#", s.title = i, s.setAttribute("role", "button"), s.setAttribute("aria-label", i), wt(s), mt(s, "click", Lt), mt(s, "click", o, this), mt(s, "click", this._refocusOnMap, this), s
            },
            _updateDisabled: function() {
                var t = this._map,
                    i = "leaflet-disabled";
                tt(this._zoomInButton, i), tt(this._zoomOutButton, i), (this._disabled || t._zoom === t.getMinZoom()) && Q(this._zoomOutButton, i), (this._disabled || t._zoom === t.getMaxZoom()) && Q(this._zoomInButton, i)
            }
        });
    be.mergeOptions({
        zoomControl: !0
    }), be.addInitHook(function() {
        this.options.zoomControl && (this.zoomControl = new Ce, this.addControl(this.zoomControl))
    });
    var Se = Te.extend({
            options: {
                position: "bottomleft",
                maxWidth: 100,
                metric: !0,
                imperial: !0
            },
            onAdd: function(t) {
                var i = G("div", "leaflet-control-scale"),
                    e = this.options;
                return this._addScales(e, "leaflet-control-scale-line", i), t.on(e.updateWhenIdle ? "moveend" : "move", this._update, this), t.whenReady(this._update, this), i
            },
            onRemove: function(t) {
                t.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this)
            },
            _addScales: function(t, i, e) {
                t.metric && (this._mScale = G("div", i, e)), t.imperial && (this._iScale = G("div", i, e))
            },
            _update: function() {
                var t = this._map,
                    i = t.getSize().y / 2,
                    e = t.distance(t.containerPointToLatLng([0, i]), t.containerPointToLatLng([this.options.maxWidth, i]));
                this._updateScales(e)
            },
            _updateScales: function(t) {
                this.options.metric && t && this._updateMetric(t), this.options.imperial && t && this._updateImperial(t)
            },
            _updateMetric: function(t) {
                var i = this._getRoundNum(t),
                    e = i < 1e3 ? i + " m" : i / 1e3 + " km";
                this._updateScale(this._mScale, e, i / t)
            },
            _updateImperial: function(t) {
                var i, e, n, o = 3.2808399 * t;
                o > 5280 ? (i = o / 5280, e = this._getRoundNum(i), this._updateScale(this._iScale, e + " mi", e / i)) : (n = this._getRoundNum(o), this._updateScale(this._iScale, n + " ft", n / o))
            },
            _updateScale: function(t, i, e) {
                t.style.width = Math.round(this.options.maxWidth * e) + "px", t.innerHTML = i
            },
            _getRoundNum: function(t) {
                var i = Math.pow(10, (Math.floor(t) + "").length - 1),
                    e = t / i;
                return e = e >= 10 ? 10 : e >= 5 ? 5 : e >= 3 ? 3 : e >= 2 ? 2 : 1, i * e
            }
        }),
        Ze = Te.extend({
            options: {
                position: "bottomright",
                prefix: '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'
            },
            initialize: function(t) {
                l(this, t), this._attributions = {}
            },
            onAdd: function(t) {
                t.attributionControl = this, this._container = G("div", "leaflet-control-attribution"), wt(this._container);
                for (var i in t._layers) t._layers[i].getAttribution && this.addAttribution(t._layers[i].getAttribution());
                return this._update(), this._container
            },
            setPrefix: function(t) {
                return this.options.prefix = t, this._update(), this
            },
            addAttribution: function(t) {
                return t ? (this._attributions[t] || (this._attributions[t] = 0), this._attributions[t]++, this._update(), this) : this
            },
            removeAttribution: function(t) {
                return t ? (this._attributions[t] && (this._attributions[t]--, this._update()), this) : this
            },
            _update: function() {
                if (this._map) {
                    var t = [];
                    for (var i in this._attributions) this._attributions[i] && t.push(i);
                    var e = [];
                    this.options.prefix && e.push(this.options.prefix), t.length && e.push(t.join(", ")), this._container.innerHTML = e.join(" | ")
                }
            }
        });
    be.mergeOptions({
        attributionControl: !0
    }), be.addInitHook(function() {
        this.options.attributionControl && (new Ze).addTo(this)
    });
    Te.Layers = Me, Te.Zoom = Ce, Te.Scale = Se, Te.Attribution = Ze, ze.layers = function(t, i, e) {
        return new Me(t, i, e)
    }, ze.zoom = function(t) {
        return new Ce(t)
    }, ze.scale = function(t) {
        return new Se(t)
    }, ze.attribution = function(t) {
        return new Ze(t)
    };
    var Ee = v.extend({
        initialize: function(t) {
            this._map = t
        },
        enable: function() {
            return this._enabled ? this : (this._enabled = !0, this.addHooks(), this)
        },
        disable: function() {
            return this._enabled ? (this._enabled = !1, this.removeHooks(), this) : this
        },
        enabled: function() {
            return !!this._enabled
        }
    });
    Ee.addTo = function(t, i) {
        return t.addHandler(i, this), this
    };
    var ke, Ae = {
            Events: li
        },
        Be = qi ? "touchstart mousedown" : "mousedown",
        Ie = {
            mousedown: "mouseup",
            touchstart: "touchend",
            pointerdown: "touchend",
            MSPointerDown: "touchend"
        },
        Oe = {
            mousedown: "mousemove",
            touchstart: "touchmove",
            pointerdown: "touchmove",
            MSPointerDown: "touchmove"
        },
        Re = ci.extend({
            options: {
                clickTolerance: 3
            },
            initialize: function(t, i, e, n) {
                l(this, n), this._element = t, this._dragStartTarget = i || t, this._preventOutline = e
            },
            enable: function() {
                this._enabled || (mt(this._dragStartTarget, Be, this._onDown, this), this._enabled = !0)
            },
            disable: function() {
                this._enabled && (Re._dragging === this && this.finishDrag(), ft(this._dragStartTarget, Be, this._onDown, this), this._enabled = !1, this._moved = !1)
            },
            _onDown: function(t) {
                if (!t._simulated && this._enabled && (this._moved = !1, !$(this._element, "leaflet-zoom-anim") && !(Re._dragging || t.shiftKey || 1 !== t.which && 1 !== t.button && !t.touches || (Re._dragging = this, this._preventOutline && ct(this._element), ut(), fi(), this._moving)))) {
                    this.fire("down");
                    var i = t.touches ? t.touches[0] : t,
                        e = dt(this._element);
                    this._startPoint = new x(i.clientX, i.clientY), this._parentScale = pt(e), mt(document, Oe[t.type], this._onMove, this), mt(document, Ie[t.type], this._onUp, this)
                }
            },
            _onMove: function(t) {
                if (!t._simulated && this._enabled)
                    if (t.touches && t.touches.length > 1) this._moved = !0;
                    else {
                        var i = t.touches && 1 === t.touches.length ? t.touches[0] : t,
                            e = new x(i.clientX, i.clientY)._subtract(this._startPoint);
                        (e.x || e.y) && (Math.abs(e.x) + Math.abs(e.y) < this.options.clickTolerance || (e.x /= this._parentScale.x, e.y /= this._parentScale.y, Pt(t), this._moved || (this.fire("dragstart"), this._moved = !0, this._startPos = ht(this._element).subtract(e), Q(document.body, "leaflet-dragging"), this._lastTarget = t.target || t.srcElement, window.SVGElementInstance && this._lastTarget instanceof SVGElementInstance && (this._lastTarget = this._lastTarget.correspondingUseElement), Q(this._lastTarget, "leaflet-drag-target")), this._newPos = this._startPos.add(e), this._moving = !0, g(this._animRequest), this._lastEvent = t, this._animRequest = f(this._updatePosition, this, !0)))
                    }
            },
            _updatePosition: function() {
                var t = {
                    originalEvent: this._lastEvent
                };
                this.fire("predrag", t), at(this._element, this._newPos), this.fire("drag", t)
            },
            _onUp: function(t) {
                !t._simulated && this._enabled && this.finishDrag()
            },
            finishDrag: function() {
                tt(document.body, "leaflet-dragging"), this._lastTarget && (tt(this._lastTarget, "leaflet-drag-target"), this._lastTarget = null);
                for (var t in Oe) ft(document, Oe[t], this._onMove, this), ft(document, Ie[t], this._onUp, this);
                lt(), gi(), this._moved && this._moving && (g(this._animRequest), this.fire("dragend", {
                    distance: this._newPos.distanceTo(this._startPos)
                })), this._moving = !1, Re._dragging = !1
            }
        }),
        Ne = (Object.freeze || Object)({
            simplify: Zt,
            pointToSegmentDistance: Et,
            closestPointOnSegment: function(t, i, e) {
                return Dt(t, i, e)
            },
            clipSegment: It,
            _getEdgeIntersection: Ot,
            _getBitCode: Rt,
            _sqClosestPointOnSegment: Dt,
            isFlat: jt,
            _flat: Wt
        }),
        De = (Object.freeze || Object)({
            clipPolygon: Ht
        }),
        je = {
            project: function(t) {
                return new x(t.lng, t.lat)
            },
            unproject: function(t) {
                return new M(t.y, t.x)
            },
            bounds: new P([-180, -90], [180, 90])
        },
        We = {
            R: 6378137,
            R_MINOR: 6356752.314245179,
            bounds: new P([-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]),
            project: function(t) {
                var i = Math.PI / 180,
                    e = this.R,
                    n = t.lat * i,
                    o = this.R_MINOR / e,
                    s = Math.sqrt(1 - o * o),
                    r = s * Math.sin(n),
                    a = Math.tan(Math.PI / 4 - n / 2) / Math.pow((1 - r) / (1 + r), s / 2);
                return n = -e * Math.log(Math.max(a, 1e-10)), new x(t.lng * i * e, n)
            },
            unproject: function(t) {
                for (var i, e = 180 / Math.PI, n = this.R, o = this.R_MINOR / n, s = Math.sqrt(1 - o * o), r = Math.exp(-t.y / n), a = Math.PI / 2 - 2 * Math.atan(r), h = 0, u = .1; h < 15 && Math.abs(u) > 1e-7; h++) i = s * Math.sin(a), i = Math.pow((1 - i) / (1 + i), s / 2), a += u = Math.PI / 2 - 2 * Math.atan(r * i) - a;
                return new M(a * e, t.x * e / n)
            }
        },
        He = (Object.freeze || Object)({
            LonLat: je,
            Mercator: We,
            SphericalMercator: mi
        }),
        Fe = i({}, pi, {
            code: "EPSG:3395",
            projection: We,
            transformation: function() {
                var t = .5 / (Math.PI * We.R);
                return Z(t, .5, -t, .5)
            }()
        }),
        Ue = i({}, pi, {
            code: "EPSG:4326",
            projection: je,
            transformation: Z(1 / 180, 1, -1 / 180, .5)
        }),
        Ve = i({}, di, {
            projection: je,
            transformation: Z(1, 0, -1, 0),
            scale: function(t) {
                return Math.pow(2, t)
            },
            zoom: function(t) {
                return Math.log(t) / Math.LN2
            },
            distance: function(t, i) {
                var e = i.lng - t.lng,
                    n = i.lat - t.lat;
                return Math.sqrt(e * e + n * n)
            },
            infinite: !0
        });
    di.Earth = pi, di.EPSG3395 = Fe, di.EPSG3857 = yi, di.EPSG900913 = xi, di.EPSG4326 = Ue, di.Simple = Ve;
    var qe = ci.extend({
        options: {
            pane: "overlayPane",
            attribution: null,
            bubblingMouseEvents: !0
        },
        addTo: function(t) {
            return t.addLayer(this), this
        },
        remove: function() {
            return this.removeFrom(this._map || this._mapToAdd)
        },
        removeFrom: function(t) {
            return t && t.removeLayer(this), this
        },
        getPane: function(t) {
            return this._map.getPane(t ? this.options[t] || t : this.options.pane)
        },
        addInteractiveTarget: function(t) {
            return this._map._targets[n(t)] = this, this
        },
        removeInteractiveTarget: function(t) {
            return delete this._map._targets[n(t)], this
        },
        getAttribution: function() {
            return this.options.attribution
        },
        _layerAdd: function(t) {
            var i = t.target;
            if (i.hasLayer(this)) {
                if (this._map = i, this._zoomAnimated = i._zoomAnimated, this.getEvents) {
                    var e = this.getEvents();
                    i.on(e, this), this.once("remove", function() {
                        i.off(e, this)
                    }, this)
                }
                this.onAdd(i), this.getAttribution && i.attributionControl && i.attributionControl.addAttribution(this.getAttribution()), this.fire("add"), i.fire("layeradd", {
                    layer: this
                })
            }
        }
    });
    be.include({
        addLayer: function(t) {
            if (!t._layerAdd) throw new Error("The provided object is not a Layer.");
            var i = n(t);
            return this._layers[i] ? this : (this._layers[i] = t, t._mapToAdd = this, t.beforeAdd && t.beforeAdd(this), this.whenReady(t._layerAdd, t), this)
        },
        removeLayer: function(t) {
            var i = n(t);
            return this._layers[i] ? (this._loaded && t.onRemove(this), t.getAttribution && this.attributionControl && this.attributionControl.removeAttribution(t.getAttribution()), delete this._layers[i], this._loaded && (this.fire("layerremove", {
                layer: t
            }), t.fire("remove")), t._map = t._mapToAdd = null, this) : this
        },
        hasLayer: function(t) {
            return !!t && n(t) in this._layers
        },
        eachLayer: function(t, i) {
            for (var e in this._layers) t.call(i, this._layers[e]);
            return this
        },
        _addLayers: function(t) {
            for (var i = 0, e = (t = t ? oi(t) ? t : [t] : []).length; i < e; i++) this.addLayer(t[i])
        },
        _addZoomLimit: function(t) {
            !isNaN(t.options.maxZoom) && isNaN(t.options.minZoom) || (this._zoomBoundLayers[n(t)] = t, this._updateZoomLevels())
        },
        _removeZoomLimit: function(t) {
            var i = n(t);
            this._zoomBoundLayers[i] && (delete this._zoomBoundLayers[i], this._updateZoomLevels())
        },
        _updateZoomLevels: function() {
            var t = 1 / 0,
                i = -1 / 0,
                e = this._getZoomSpan();
            for (var n in this._zoomBoundLayers) {
                var o = this._zoomBoundLayers[n].options;
                t = void 0 === o.minZoom ? t : Math.min(t, o.minZoom), i = void 0 === o.maxZoom ? i : Math.max(i, o.maxZoom)
            }
            this._layersMaxZoom = i === -1 / 0 ? void 0 : i, this._layersMinZoom = t === 1 / 0 ? void 0 : t, e !== this._getZoomSpan() && this.fire("zoomlevelschange"), void 0 === this.options.maxZoom && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom && this.setZoom(this._layersMaxZoom), void 0 === this.options.minZoom && this._layersMinZoom && this.getZoom() < this._layersMinZoom && this.setZoom(this._layersMinZoom)
        }
    });
    var Ge = qe.extend({
            initialize: function(t, i) {
                l(this, i), this._layers = {};
                var e, n;
                if (t)
                    for (e = 0, n = t.length; e < n; e++) this.addLayer(t[e])
            },
            addLayer: function(t) {
                var i = this.getLayerId(t);
                return this._layers[i] = t, this._map && this._map.addLayer(t), this
            },
            removeLayer: function(t) {
                var i = t in this._layers ? t : this.getLayerId(t);
                return this._map && this._layers[i] && this._map.removeLayer(this._layers[i]), delete this._layers[i], this
            },
            hasLayer: function(t) {
                return !!t && (t in this._layers || this.getLayerId(t) in this._layers)
            },
            clearLayers: function() {
                return this.eachLayer(this.removeLayer, this)
            },
            invoke: function(t) {
                var i, e, n = Array.prototype.slice.call(arguments, 1);
                for (i in this._layers)(e = this._layers[i])[t] && e[t].apply(e, n);
                return this
            },
            onAdd: function(t) {
                this.eachLayer(t.addLayer, t)
            },
            onRemove: function(t) {
                this.eachLayer(t.removeLayer, t)
            },
            eachLayer: function(t, i) {
                for (var e in this._layers) t.call(i, this._layers[e]);
                return this
            },
            getLayer: function(t) {
                return this._layers[t]
            },
            getLayers: function() {
                var t = [];
                return this.eachLayer(t.push, t), t
            },
            setZIndex: function(t) {
                return this.invoke("setZIndex", t)
            },
            getLayerId: function(t) {
                return n(t)
            }
        }),
        Ke = Ge.extend({
            addLayer: function(t) {
                return this.hasLayer(t) ? this : (t.addEventParent(this), Ge.prototype.addLayer.call(this, t), this.fire("layeradd", {
                    layer: t
                }))
            },
            removeLayer: function(t) {
                return this.hasLayer(t) ? (t in this._layers && (t = this._layers[t]), t.removeEventParent(this), Ge.prototype.removeLayer.call(this, t), this.fire("layerremove", {
                    layer: t
                })) : this
            },
            setStyle: function(t) {
                return this.invoke("setStyle", t)
            },
            bringToFront: function() {
                return this.invoke("bringToFront")
            },
            bringToBack: function() {
                return this.invoke("bringToBack")
            },
            getBounds: function() {
                var t = new T;
                for (var i in this._layers) {
                    var e = this._layers[i];
                    t.extend(e.getBounds ? e.getBounds() : e.getLatLng())
                }
                return t
            }
        }),
        Ye = v.extend({
            options: {
                popupAnchor: [0, 0],
                tooltipAnchor: [0, 0]
            },
            initialize: function(t) {
                l(this, t)
            },
            createIcon: function(t) {
                return this._createIcon("icon", t)
            },
            createShadow: function(t) {
                return this._createIcon("shadow", t)
            },
            _createIcon: function(t, i) {
                var e = this._getIconUrl(t);
                if (!e) {
                    if ("icon" === t) throw new Error("iconUrl not set in Icon options (see the docs).");
                    return null
                }
                var n = this._createImg(e, i && "IMG" === i.tagName ? i : null);
                return this._setIconStyles(n, t), n
            },
            _setIconStyles: function(t, i) {
                var e = this.options,
                    n = e[i + "Size"];
                "number" == typeof n && (n = [n, n]);
                var o = w(n),
                    s = w("shadow" === i && e.shadowAnchor || e.iconAnchor || o && o.divideBy(2, !0));
                t.className = "leaflet-marker-" + i + " " + (e.className || ""), s && (t.style.marginLeft = -s.x + "px", t.style.marginTop = -s.y + "px"), o && (t.style.width = o.x + "px", t.style.height = o.y + "px")
            },
            _createImg: function(t, i) {
                return i = i || document.createElement("img"), i.src = t, i
            },
            _getIconUrl: function(t) {
                return Yi && this.options[t + "RetinaUrl"] || this.options[t + "Url"]
            }
        }),
        Xe = Ye.extend({
            options: {
                iconUrl: "marker-icon.png",
                iconRetinaUrl: "marker-icon-2x.png",
                shadowUrl: "marker-shadow.png",
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34],
                tooltipAnchor: [16, -28],
                shadowSize: [41, 41]
            },
            _getIconUrl: function(t) {
                return Xe.imagePath || (Xe.imagePath = this._detectIconPath()), (this.options.imagePath || Xe.imagePath) + Ye.prototype._getIconUrl.call(this, t)
            },
            _detectIconPath: function() {
                var t = G("div", "leaflet-default-icon-path", document.body),
                    i = q(t, "background-image") || q(t, "backgroundImage");
                return document.body.removeChild(t), i = null === i || 0 !== i.indexOf("url") ? "" : i.replace(/^url\(["']?/, "").replace(/marker-icon\.png["']?\)$/, "")
            }
        }),
        Je = Ee.extend({
            initialize: function(t) {
                this._marker = t
            },
            addHooks: function() {
                var t = this._marker._icon;
                this._draggable || (this._draggable = new Re(t, t, !0)), this._draggable.on({
                    dragstart: this._onDragStart,
                    predrag: this._onPreDrag,
                    drag: this._onDrag,
                    dragend: this._onDragEnd
                }, this).enable(), Q(t, "leaflet-marker-draggable")
            },
            removeHooks: function() {
                this._draggable.off({
                    dragstart: this._onDragStart,
                    predrag: this._onPreDrag,
                    drag: this._onDrag,
                    dragend: this._onDragEnd
                }, this).disable(), this._marker._icon && tt(this._marker._icon, "leaflet-marker-draggable")
            },
            moved: function() {
                return this._draggable && this._draggable._moved
            },
            _adjustPan: function(t) {
                var i = this._marker,
                    e = i._map,
                    n = this._marker.options.autoPanSpeed,
                    o = this._marker.options.autoPanPadding,
                    s = ht(i._icon),
                    r = e.getPixelBounds(),
                    a = e.getPixelOrigin(),
                    h = b(r.min._subtract(a).add(o), r.max._subtract(a).subtract(o));
                if (!h.contains(s)) {
                    var u = w((Math.max(h.max.x, s.x) - h.max.x) / (r.max.x - h.max.x) - (Math.min(h.min.x, s.x) - h.min.x) / (r.min.x - h.min.x), (Math.max(h.max.y, s.y) - h.max.y) / (r.max.y - h.max.y) - (Math.min(h.min.y, s.y) - h.min.y) / (r.min.y - h.min.y)).multiplyBy(n);
                    e.panBy(u, {
                        animate: !1
                    }), this._draggable._newPos._add(u), this._draggable._startPos._add(u), at(i._icon, this._draggable._newPos), this._onDrag(t), this._panRequest = f(this._adjustPan.bind(this, t))
                }
            },
            _onDragStart: function() {
                this._oldLatLng = this._marker.getLatLng(), this._marker.closePopup().fire("movestart").fire("dragstart")
            },
            _onPreDrag: function(t) {
                this._marker.options.autoPan && (g(this._panRequest), this._panRequest = f(this._adjustPan.bind(this, t)))
            },
            _onDrag: function(t) {
                var i = this._marker,
                    e = i._shadow,
                    n = ht(i._icon),
                    o = i._map.layerPointToLatLng(n);
                e && at(e, n), i._latlng = o, t.latlng = o, t.oldLatLng = this._oldLatLng, i.fire("move", t).fire("drag", t)
            },
            _onDragEnd: function(t) {
                g(this._panRequest), delete this._oldLatLng, this._marker.fire("moveend").fire("dragend", t)
            }
        }),
        $e = qe.extend({
            options: {
                icon: new Xe,
                interactive: !0,
                keyboard: !0,
                title: "",
                alt: "",
                zIndexOffset: 0,
                opacity: 1,
                riseOnHover: !1,
                riseOffset: 250,
                pane: "markerPane",
                bubblingMouseEvents: !1,
                draggable: !1,
                autoPan: !1,
                autoPanPadding: [50, 50],
                autoPanSpeed: 10
            },
            initialize: function(t, i) {
                l(this, i), this._latlng = C(t)
            },
            onAdd: function(t) {
                this._zoomAnimated = this._zoomAnimated && t.options.markerZoomAnimation, this._zoomAnimated && t.on("zoomanim", this._animateZoom, this), this._initIcon(), this.update()
            },
            onRemove: function(t) {
                this.dragging && this.dragging.enabled() && (this.options.draggable = !0, this.dragging.removeHooks()), delete this.dragging, this._zoomAnimated && t.off("zoomanim", this._animateZoom, this), this._removeIcon(), this._removeShadow()
            },
            getEvents: function() {
                return {
                    zoom: this.update,
                    viewreset: this.update
                }
            },
            getLatLng: function() {
                return this._latlng
            },
            setLatLng: function(t) {
                var i = this._latlng;
                return this._latlng = C(t), this.update(), this.fire("move", {
                    oldLatLng: i,
                    latlng: this._latlng
                })
            },
            setZIndexOffset: function(t) {
                return this.options.zIndexOffset = t, this.update()
            },
            setIcon: function(t) {
                return this.options.icon = t, this._map && (this._initIcon(), this.update()), this._popup && this.bindPopup(this._popup, this._popup.options), this
            },
            getElement: function() {
                return this._icon
            },
            update: function() {
                if (this._icon && this._map) {
                    var t = this._map.latLngToLayerPoint(this._latlng).round();
                    this._setPos(t)
                }
                return this
            },
            _initIcon: function() {
                var t = this.options,
                    i = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide"),
                    e = t.icon.createIcon(this._icon),
                    n = !1;
                e !== this._icon && (this._icon && this._removeIcon(), n = !0, t.title && (e.title = t.title), "IMG" === e.tagName && (e.alt = t.alt || "")), Q(e, i), t.keyboard && (e.tabIndex = "0"), this._icon = e, t.riseOnHover && this.on({
                    mouseover: this._bringToFront,
                    mouseout: this._resetZIndex
                });
                var o = t.icon.createShadow(this._shadow),
                    s = !1;
                o !== this._shadow && (this._removeShadow(), s = !0), o && (Q(o, i), o.alt = ""), this._shadow = o, t.opacity < 1 && this._updateOpacity(), n && this.getPane().appendChild(this._icon), this._initInteraction(), o && s && this.getPane("shadowPane").appendChild(this._shadow)
            },
            _removeIcon: function() {
                this.options.riseOnHover && this.off({
                    mouseover: this._bringToFront,
                    mouseout: this._resetZIndex
                }), K(this._icon), this.removeInteractiveTarget(this._icon), this._icon = null
            },
            _removeShadow: function() {
                this._shadow && K(this._shadow), this._shadow = null
            },
            _setPos: function(t) {
                at(this._icon, t), this._shadow && at(this._shadow, t), this._zIndex = t.y + this.options.zIndexOffset, this._resetZIndex()
            },
            _updateZIndex: function(t) {
                this._icon.style.zIndex = this._zIndex + t
            },
            _animateZoom: function(t) {
                var i = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center).round();
                this._setPos(i)
            },
            _initInteraction: function() {
                if (this.options.interactive && (Q(this._icon, "leaflet-interactive"), this.addInteractiveTarget(this._icon), Je)) {
                    var t = this.options.draggable;
                    this.dragging && (t = this.dragging.enabled(), this.dragging.disable()), this.dragging = new Je(this), t && this.dragging.enable()
                }
            },
            setOpacity: function(t) {
                return this.options.opacity = t, this._map && this._updateOpacity(), this
            },
            _updateOpacity: function() {
                var t = this.options.opacity;
                nt(this._icon, t), this._shadow && nt(this._shadow, t)
            },
            _bringToFront: function() {
                this._updateZIndex(this.options.riseOffset)
            },
            _resetZIndex: function() {
                this._updateZIndex(0)
            },
            _getPopupAnchor: function() {
                return this.options.icon.options.popupAnchor
            },
            _getTooltipAnchor: function() {
                return this.options.icon.options.tooltipAnchor
            }
        }),
        Qe = qe.extend({
            options: {
                stroke: !0,
                color: "#3388ff",
                weight: 3,
                opacity: 1,
                lineCap: "round",
                lineJoin: "round",
                dashArray: null,
                dashOffset: null,
                fill: !1,
                fillColor: null,
                fillOpacity: .2,
                fillRule: "evenodd",
                interactive: !0,
                bubblingMouseEvents: !0
            },
            beforeAdd: function(t) {
                this._renderer = t.getRenderer(this)
            },
            onAdd: function() {
                this._renderer._initPath(this), this._reset(), this._renderer._addPath(this)
            },
            onRemove: function() {
                this._renderer._removePath(this)
            },
            redraw: function() {
                return this._map && this._renderer._updatePath(this), this
            },
            setStyle: function(t) {
                return l(this, t), this._renderer && this._renderer._updateStyle(this), this
            },
            bringToFront: function() {
                return this._renderer && this._renderer._bringToFront(this), this
            },
            bringToBack: function() {
                return this._renderer && this._renderer._bringToBack(this), this
            },
            getElement: function() {
                return this._path
            },
            _reset: function() {
                this._project(), this._update()
            },
            _clickTolerance: function() {
                return (this.options.stroke ? this.options.weight / 2 : 0) + this._renderer.options.tolerance
            }
        }),
        tn = Qe.extend({
            options: {
                fill: !0,
                radius: 10
            },
            initialize: function(t, i) {
                l(this, i), this._latlng = C(t), this._radius = this.options.radius
            },
            setLatLng: function(t) {
                return this._latlng = C(t), this.redraw(), this.fire("move", {
                    latlng: this._latlng
                })
            },
            getLatLng: function() {
                return this._latlng
            },
            setRadius: function(t) {
                return this.options.radius = this._radius = t, this.redraw()
            },
            getRadius: function() {
                return this._radius
            },
            setStyle: function(t) {
                var i = t && t.radius || this._radius;
                return Qe.prototype.setStyle.call(this, t), this.setRadius(i), this
            },
            _project: function() {
                this._point = this._map.latLngToLayerPoint(this._latlng), this._updateBounds()
            },
            _updateBounds: function() {
                var t = this._radius,
                    i = this._radiusY || t,
                    e = this._clickTolerance(),
                    n = [t + e, i + e];
                this._pxBounds = new P(this._point.subtract(n), this._point.add(n))
            },
            _update: function() {
                this._map && this._updatePath()
            },
            _updatePath: function() {
                this._renderer._updateCircle(this)
            },
            _empty: function() {
                return this._radius && !this._renderer._bounds.intersects(this._pxBounds)
            },
            _containsPoint: function(t) {
                return t.distanceTo(this._point) <= this._radius + this._clickTolerance()
            }
        }),
        en = tn.extend({
            initialize: function(t, e, n) {
                if ("number" == typeof e && (e = i({}, n, {
                        radius: e
                    })), l(this, e), this._latlng = C(t), isNaN(this.options.radius)) throw new Error("Circle radius cannot be NaN");
                this._mRadius = this.options.radius
            },
            setRadius: function(t) {
                return this._mRadius = t, this.redraw()
            },
            getRadius: function() {
                return this._mRadius
            },
            getBounds: function() {
                var t = [this._radius, this._radiusY || this._radius];
                return new T(this._map.layerPointToLatLng(this._point.subtract(t)), this._map.layerPointToLatLng(this._point.add(t)))
            },
            setStyle: Qe.prototype.setStyle,
            _project: function() {
                var t = this._latlng.lng,
                    i = this._latlng.lat,
                    e = this._map,
                    n = e.options.crs;
                if (n.distance === pi.distance) {
                    var o = Math.PI / 180,
                        s = this._mRadius / pi.R / o,
                        r = e.project([i + s, t]),
                        a = e.project([i - s, t]),
                        h = r.add(a).divideBy(2),
                        u = e.unproject(h).lat,
                        l = Math.acos((Math.cos(s * o) - Math.sin(i * o) * Math.sin(u * o)) / (Math.cos(i * o) * Math.cos(u * o))) / o;
                    (isNaN(l) || 0 === l) && (l = s / Math.cos(Math.PI / 180 * i)), this._point = h.subtract(e.getPixelOrigin()), this._radius = isNaN(l) ? 0 : h.x - e.project([u, t - l]).x, this._radiusY = h.y - r.y
                } else {
                    var c = n.unproject(n.project(this._latlng).subtract([this._mRadius, 0]));
                    this._point = e.latLngToLayerPoint(this._latlng), this._radius = this._point.x - e.latLngToLayerPoint(c).x
                }
                this._updateBounds()
            }
        }),
        nn = Qe.extend({
            options: {
                smoothFactor: 1,
                noClip: !1
            },
            initialize: function(t, i) {
                l(this, i), this._setLatLngs(t)
            },
            getLatLngs: function() {
                return this._latlngs
            },
            setLatLngs: function(t) {
                return this._setLatLngs(t), this.redraw()
            },
            isEmpty: function() {
                return !this._latlngs.length
            },
            closestLayerPoint: function(t) {
                for (var i, e, n = 1 / 0, o = null, s = Dt, r = 0, a = this._parts.length; r < a; r++)
                    for (var h = this._parts[r], u = 1, l = h.length; u < l; u++) {
                        var c = s(t, i = h[u - 1], e = h[u], !0);
                        c < n && (n = c, o = s(t, i, e))
                    }
                return o && (o.distance = Math.sqrt(n)), o
            },
            getCenter: function() {
                if (!this._map) throw new Error("Must add layer to map before using getCenter()");
                var t, i, e, n, o, s, r, a = this._rings[0],
                    h = a.length;
                if (!h) return null;
                for (t = 0, i = 0; t < h - 1; t++) i += a[t].distanceTo(a[t + 1]) / 2;
                if (0 === i) return this._map.layerPointToLatLng(a[0]);
                for (t = 0, n = 0; t < h - 1; t++)
                    if (o = a[t], s = a[t + 1], e = o.distanceTo(s), (n += e) > i) return r = (n - i) / e, this._map.layerPointToLatLng([s.x - r * (s.x - o.x), s.y - r * (s.y - o.y)])
            },
            getBounds: function() {
                return this._bounds
            },
            addLatLng: function(t, i) {
                return i = i || this._defaultShape(), t = C(t), i.push(t), this._bounds.extend(t), this.redraw()
            },
            _setLatLngs: function(t) {
                this._bounds = new T, this._latlngs = this._convertLatLngs(t)
            },
            _defaultShape: function() {
                return jt(this._latlngs) ? this._latlngs : this._latlngs[0]
            },
            _convertLatLngs: function(t) {
                for (var i = [], e = jt(t), n = 0, o = t.length; n < o; n++) e ? (i[n] = C(t[n]), this._bounds.extend(i[n])) : i[n] = this._convertLatLngs(t[n]);
                return i
            },
            _project: function() {
                var t = new P;
                this._rings = [], this._projectLatlngs(this._latlngs, this._rings, t);
                var i = this._clickTolerance(),
                    e = new x(i, i);
                this._bounds.isValid() && t.isValid() && (t.min._subtract(e), t.max._add(e), this._pxBounds = t)
            },
            _projectLatlngs: function(t, i, e) {
                var n, o, s = t[0] instanceof M,
                    r = t.length;
                if (s) {
                    for (o = [], n = 0; n < r; n++) o[n] = this._map.latLngToLayerPoint(t[n]), e.extend(o[n]);
                    i.push(o)
                } else
                    for (n = 0; n < r; n++) this._projectLatlngs(t[n], i, e)
            },
            _clipPoints: function() {
                var t = this._renderer._bounds;
                if (this._parts = [], this._pxBounds && this._pxBounds.intersects(t))
                    if (this.options.noClip) this._parts = this._rings;
                    else {
                        var i, e, n, o, s, r, a, h = this._parts;
                        for (i = 0, n = 0, o = this._rings.length; i < o; i++)
                            for (e = 0, s = (a = this._rings[i]).length; e < s - 1; e++)(r = It(a[e], a[e + 1], t, e, !0)) && (h[n] = h[n] || [], h[n].push(r[0]), r[1] === a[e + 1] && e !== s - 2 || (h[n].push(r[1]), n++))
                    }
            },
            _simplifyPoints: function() {
                for (var t = this._parts, i = this.options.smoothFactor, e = 0, n = t.length; e < n; e++) t[e] = Zt(t[e], i)
            },
            _update: function() {
                this._map && (this._clipPoints(), this._simplifyPoints(), this._updatePath())
            },
            _updatePath: function() {
                this._renderer._updatePoly(this)
            },
            _containsPoint: function(t, i) {
                var e, n, o, s, r, a, h = this._clickTolerance();
                if (!this._pxBounds || !this._pxBounds.contains(t)) return !1;
                for (e = 0, s = this._parts.length; e < s; e++)
                    for (n = 0, o = (r = (a = this._parts[e]).length) - 1; n < r; o = n++)
                        if ((i || 0 !== n) && Et(t, a[o], a[n]) <= h) return !0;
                return !1
            }
        });
    nn._flat = Wt;
    var on = nn.extend({
            options: {
                fill: !0
            },
            isEmpty: function() {
                return !this._latlngs.length || !this._latlngs[0].length
            },
            getCenter: function() {
                if (!this._map) throw new Error("Must add layer to map before using getCenter()");
                var t, i, e, n, o, s, r, a, h, u = this._rings[0],
                    l = u.length;
                if (!l) return null;
                for (s = r = a = 0, t = 0, i = l - 1; t < l; i = t++) e = u[t], n = u[i], o = e.y * n.x - n.y * e.x, r += (e.x + n.x) * o, a += (e.y + n.y) * o, s += 3 * o;
                return h = 0 === s ? u[0] : [r / s, a / s], this._map.layerPointToLatLng(h)
            },
            _convertLatLngs: function(t) {
                var i = nn.prototype._convertLatLngs.call(this, t),
                    e = i.length;
                return e >= 2 && i[0] instanceof M && i[0].equals(i[e - 1]) && i.pop(), i
            },
            _setLatLngs: function(t) {
                nn.prototype._setLatLngs.call(this, t), jt(this._latlngs) && (this._latlngs = [this._latlngs])
            },
            _defaultShape: function() {
                return jt(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0]
            },
            _clipPoints: function() {
                var t = this._renderer._bounds,
                    i = this.options.weight,
                    e = new x(i, i);
                if (t = new P(t.min.subtract(e), t.max.add(e)), this._parts = [], this._pxBounds && this._pxBounds.intersects(t))
                    if (this.options.noClip) this._parts = this._rings;
                    else
                        for (var n, o = 0, s = this._rings.length; o < s; o++)(n = Ht(this._rings[o], t, !0)).length && this._parts.push(n)
            },
            _updatePath: function() {
                this._renderer._updatePoly(this, !0)
            },
            _containsPoint: function(t) {
                var i, e, n, o, s, r, a, h, u = !1;
                if (!this._pxBounds || !this._pxBounds.contains(t)) return !1;
                for (o = 0, a = this._parts.length; o < a; o++)
                    for (s = 0, r = (h = (i = this._parts[o]).length) - 1; s < h; r = s++) e = i[s], n = i[r], e.y > t.y != n.y > t.y && t.x < (n.x - e.x) * (t.y - e.y) / (n.y - e.y) + e.x && (u = !u);
                return u || nn.prototype._containsPoint.call(this, t, !0)
            }
        }),
        sn = Ke.extend({
            initialize: function(t, i) {
                l(this, i), this._layers = {}, t && this.addData(t)
            },
            addData: function(t) {
                var i, e, n, o = oi(t) ? t : t.features;
                if (o) {
                    for (i = 0, e = o.length; i < e; i++)((n = o[i]).geometries || n.geometry || n.features || n.coordinates) && this.addData(n);
                    return this
                }
                var s = this.options;
                if (s.filter && !s.filter(t)) return this;
                var r = Ft(t, s);
                return r ? (r.feature = Yt(t), r.defaultOptions = r.options, this.resetStyle(r), s.onEachFeature && s.onEachFeature(t, r), this.addLayer(r)) : this
            },
            resetStyle: function(t) {
                return t.options = i({}, t.defaultOptions), this._setLayerStyle(t, this.options.style), this
            },
            setStyle: function(t) {
                return this.eachLayer(function(i) {
                    this._setLayerStyle(i, t)
                }, this)
            },
            _setLayerStyle: function(t, i) {
                "function" == typeof i && (i = i(t.feature)), t.setStyle && t.setStyle(i)
            }
        }),
        rn = {
            toGeoJSON: function(t) {
                return Kt(this, {
                    type: "Point",
                    coordinates: qt(this.getLatLng(), t)
                })
            }
        };
    $e.include(rn), en.include(rn), tn.include(rn), nn.include({
        toGeoJSON: function(t) {
            var i = !jt(this._latlngs),
                e = Gt(this._latlngs, i ? 1 : 0, !1, t);
            return Kt(this, {
                type: (i ? "Multi" : "") + "LineString",
                coordinates: e
            })
        }
    }), on.include({
        toGeoJSON: function(t) {
            var i = !jt(this._latlngs),
                e = i && !jt(this._latlngs[0]),
                n = Gt(this._latlngs, e ? 2 : i ? 1 : 0, !0, t);
            return i || (n = [n]), Kt(this, {
                type: (e ? "Multi" : "") + "Polygon",
                coordinates: n
            })
        }
    }), Ge.include({
        toMultiPoint: function(t) {
            var i = [];
            return this.eachLayer(function(e) {
                i.push(e.toGeoJSON(t).geometry.coordinates)
            }), Kt(this, {
                type: "MultiPoint",
                coordinates: i
            })
        },
        toGeoJSON: function(t) {
            var i = this.feature && this.feature.geometry && this.feature.geometry.type;
            if ("MultiPoint" === i) return this.toMultiPoint(t);
            var e = "GeometryCollection" === i,
                n = [];
            return this.eachLayer(function(i) {
                if (i.toGeoJSON) {
                    var o = i.toGeoJSON(t);
                    if (e) n.push(o.geometry);
                    else {
                        var s = Yt(o);
                        "FeatureCollection" === s.type ? n.push.apply(n, s.features) : n.push(s)
                    }
                }
            }), e ? Kt(this, {
                geometries: n,
                type: "GeometryCollection"
            }) : {
                type: "FeatureCollection",
                features: n
            }
        }
    });
    var an = Xt,
        hn = qe.extend({
            options: {
                opacity: 1,
                alt: "",
                interactive: !1,
                crossOrigin: !1,
                errorOverlayUrl: "",
                zIndex: 1,
                className: ""
            },
            initialize: function(t, i, e) {
                this._url = t, this._bounds = z(i), l(this, e)
            },
            onAdd: function() {
                this._image || (this._initImage(), this.options.opacity < 1 && this._updateOpacity()), this.options.interactive && (Q(this._image, "leaflet-interactive"), this.addInteractiveTarget(this._image)), this.getPane().appendChild(this._image), this._reset()
            },
            onRemove: function() {
                K(this._image), this.options.interactive && this.removeInteractiveTarget(this._image)
            },
            setOpacity: function(t) {
                return this.options.opacity = t, this._image && this._updateOpacity(), this
            },
            setStyle: function(t) {
                return t.opacity && this.setOpacity(t.opacity), this
            },
            bringToFront: function() {
                return this._map && X(this._image), this
            },
            bringToBack: function() {
                return this._map && J(this._image), this
            },
            setUrl: function(t) {
                return this._url = t, this._image && (this._image.src = t), this
            },
            setBounds: function(t) {
                return this._bounds = z(t), this._map && this._reset(), this
            },
            getEvents: function() {
                var t = {
                    zoom: this._reset,
                    viewreset: this._reset
                };
                return this._zoomAnimated && (t.zoomanim = this._animateZoom), t
            },
            setZIndex: function(t) {
                return this.options.zIndex = t, this._updateZIndex(), this
            },
            getBounds: function() {
                return this._bounds
            },
            getElement: function() {
                return this._image
            },
            _initImage: function() {
                var t = "IMG" === this._url.tagName,
                    i = this._image = t ? this._url : G("img");
                Q(i, "leaflet-image-layer"), this._zoomAnimated && Q(i, "leaflet-zoom-animated"), this.options.className && Q(i, this.options.className), i.onselectstart = r, i.onmousemove = r, i.onload = e(this.fire, this, "load"), i.onerror = e(this._overlayOnError, this, "error"), (this.options.crossOrigin || "" === this.options.crossOrigin) && (i.crossOrigin = !0 === this.options.crossOrigin ? "" : this.options.crossOrigin), this.options.zIndex && this._updateZIndex(), t ? this._url = i.src : (i.src = this._url, i.alt = this.options.alt)
            },
            _animateZoom: function(t) {
                var i = this._map.getZoomScale(t.zoom),
                    e = this._map._latLngBoundsToNewLayerBounds(this._bounds, t.zoom, t.center).min;
                rt(this._image, e, i)
            },
            _reset: function() {
                var t = this._image,
                    i = new P(this._map.latLngToLayerPoint(this._bounds.getNorthWest()), this._map.latLngToLayerPoint(this._bounds.getSouthEast())),
                    e = i.getSize();
                at(t, i.min), t.style.width = e.x + "px", t.style.height = e.y + "px"
            },
            _updateOpacity: function() {
                nt(this._image, this.options.opacity)
            },
            _updateZIndex: function() {
                this._image && void 0 !== this.options.zIndex && null !== this.options.zIndex && (this._image.style.zIndex = this.options.zIndex)
            },
            _overlayOnError: function() {
                this.fire("error");
                var t = this.options.errorOverlayUrl;
                t && this._url !== t && (this._url = t, this._image.src = t)
            }
        }),
        un = hn.extend({
            options: {
                autoplay: !0,
                loop: !0
            },
            _initImage: function() {
                var t = "VIDEO" === this._url.tagName,
                    i = this._image = t ? this._url : G("video");
                if (Q(i, "leaflet-image-layer"), this._zoomAnimated && Q(i, "leaflet-zoom-animated"), i.onselectstart = r, i.onmousemove = r, i.onloadeddata = e(this.fire, this, "load"), t) {
                    for (var n = i.getElementsByTagName("source"), o = [], s = 0; s < n.length; s++) o.push(n[s].src);
                    this._url = n.length > 0 ? o : [i.src]
                } else {
                    oi(this._url) || (this._url = [this._url]), i.autoplay = !!this.options.autoplay, i.loop = !!this.options.loop;
                    for (var a = 0; a < this._url.length; a++) {
                        var h = G("source");
                        h.src = this._url[a], i.appendChild(h)
                    }
                }
            }
        }),
        ln = qe.extend({
            options: {
                offset: [0, 7],
                className: "",
                pane: "popupPane"
            },
            initialize: function(t, i) {
                l(this, t), this._source = i
            },
            onAdd: function(t) {
                this._zoomAnimated = t._zoomAnimated, this._container || this._initLayout(), t._fadeAnimated && nt(this._container, 0), clearTimeout(this._removeTimeout), this.getPane().appendChild(this._container), this.update(), t._fadeAnimated && nt(this._container, 1), this.bringToFront()
            },
            onRemove: function(t) {
                t._fadeAnimated ? (nt(this._container, 0), this._removeTimeout = setTimeout(e(K, void 0, this._container), 200)) : K(this._container)
            },
            getLatLng: function() {
                return this._latlng
            },
            setLatLng: function(t) {
                return this._latlng = C(t), this._map && (this._updatePosition(), this._adjustPan()), this
            },
            getContent: function() {
                return this._content
            },
            setContent: function(t) {
                return this._content = t, this.update(), this
            },
            getElement: function() {
                return this._container
            },
            update: function() {
                this._map && (this._container.style.visibility = "hidden", this._updateContent(), this._updateLayout(), this._updatePosition(), this._container.style.visibility = "", this._adjustPan())
            },
            getEvents: function() {
                var t = {
                    zoom: this._updatePosition,
                    viewreset: this._updatePosition
                };
                return this._zoomAnimated && (t.zoomanim = this._animateZoom), t
            },
            isOpen: function() {
                return !!this._map && this._map.hasLayer(this)
            },
            bringToFront: function() {
                return this._map && X(this._container), this
            },
            bringToBack: function() {
                return this._map && J(this._container), this
            },
            _updateContent: function() {
                if (this._content) {
                    var t = this._contentNode,
                        i = "function" == typeof this._content ? this._content(this._source || this) : this._content;
                    if ("string" == typeof i) t.innerHTML = i;
                    else {
                        for (; t.hasChildNodes();) t.removeChild(t.firstChild);
                        t.appendChild(i)
                    }
                    this.fire("contentupdate")
                }
            },
            _updatePosition: function() {
                if (this._map) {
                    var t = this._map.latLngToLayerPoint(this._latlng),
                        i = w(this.options.offset),
                        e = this._getAnchor();
                    this._zoomAnimated ? at(this._container, t.add(e)) : i = i.add(t).add(e);
                    var n = this._containerBottom = -i.y,
                        o = this._containerLeft = -Math.round(this._containerWidth / 2) + i.x;
                    this._container.style.bottom = n + "px", this._container.style.left = o + "px"
                }
            },
            _getAnchor: function() {
                return [0, 0]
            }
        }),
        cn = ln.extend({
            options: {
                maxWidth: 300,
                minWidth: 50,
                maxHeight: null,
                autoPan: !0,
                autoPanPaddingTopLeft: null,
                autoPanPaddingBottomRight: null,
                autoPanPadding: [5, 5],
                keepInView: !1,
                closeButton: !0,
                autoClose: !0,
                closeOnEscapeKey: !0,
                className: ""
            },
            openOn: function(t) {
                return t.openPopup(this), this
            },
            onAdd: function(t) {
                ln.prototype.onAdd.call(this, t), t.fire("popupopen", {
                    popup: this
                }), this._source && (this._source.fire("popupopen", {
                    popup: this
                }, !0), this._source instanceof Qe || this._source.on("preclick", yt))
            },
            onRemove: function(t) {
                ln.prototype.onRemove.call(this, t), t.fire("popupclose", {
                    popup: this
                }), this._source && (this._source.fire("popupclose", {
                    popup: this
                }, !0), this._source instanceof Qe || this._source.off("preclick", yt))
            },
            getEvents: function() {
                var t = ln.prototype.getEvents.call(this);
                return (void 0 !== this.options.closeOnClick ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (t.preclick = this._close), this.options.keepInView && (t.moveend = this._adjustPan), t
            },
            _close: function() {
                this._map && this._map.closePopup(this)
            },
            _initLayout: function() {
                var t = "leaflet-popup",
                    i = this._container = G("div", t + " " + (this.options.className || "") + " leaflet-zoom-animated"),
                    e = this._wrapper = G("div", t + "-content-wrapper", i);
                if (this._contentNode = G("div", t + "-content", e), wt(e), xt(this._contentNode), mt(e, "contextmenu", yt), this._tipContainer = G("div", t + "-tip-container", i), this._tip = G("div", t + "-tip", this._tipContainer), this.options.closeButton) {
                    var n = this._closeButton = G("a", t + "-close-button", i);
                    n.href = "#close", n.innerHTML = "&#215;", mt(n, "click", this._onCloseButtonClick, this)
                }
            },
            _updateLayout: function() {
                var t = this._contentNode,
                    i = t.style;
                i.width = "", i.whiteSpace = "nowrap";
                var e = t.offsetWidth;
                e = Math.min(e, this.options.maxWidth), e = Math.max(e, this.options.minWidth), i.width = e + 1 + "px", i.whiteSpace = "", i.height = "";
                var n = t.offsetHeight,
                    o = this.options.maxHeight;
                o && n > o ? (i.height = o + "px", Q(t, "leaflet-popup-scrolled")) : tt(t, "leaflet-popup-scrolled"), this._containerWidth = this._container.offsetWidth
            },
            _animateZoom: function(t) {
                var i = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center),
                    e = this._getAnchor();
                at(this._container, i.add(e))
            },
            _adjustPan: function() {
                if (!(!this.options.autoPan || this._map._panAnim && this._map._panAnim._inProgress)) {
                    var t = this._map,
                        i = parseInt(q(this._container, "marginBottom"), 10) || 0,
                        e = this._container.offsetHeight + i,
                        n = this._containerWidth,
                        o = new x(this._containerLeft, -e - this._containerBottom);
                    o._add(ht(this._container));
                    var s = t.layerPointToContainerPoint(o),
                        r = w(this.options.autoPanPadding),
                        a = w(this.options.autoPanPaddingTopLeft || r),
                        h = w(this.options.autoPanPaddingBottomRight || r),
                        u = t.getSize(),
                        l = 0,
                        c = 0;
                    s.x + n + h.x > u.x && (l = s.x + n - u.x + h.x), s.x - l - a.x < 0 && (l = s.x - a.x), s.y + e + h.y > u.y && (c = s.y + e - u.y + h.y), s.y - c - a.y < 0 && (c = s.y - a.y), (l || c) && t.fire("autopanstart").panBy([l, c])
                }
            },
            _onCloseButtonClick: function(t) {
                this._close(), Lt(t)
            },
            _getAnchor: function() {
                return w(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0])
            }
        });
    be.mergeOptions({
        closePopupOnClick: !0
    }), be.include({
        openPopup: function(t, i, e) {
            return t instanceof cn || (t = new cn(e).setContent(t)), i && t.setLatLng(i), this.hasLayer(t) ? this : (this._popup && this._popup.options.autoClose && this.closePopup(), this._popup = t, this.addLayer(t))
        },
        closePopup: function(t) {
            return t && t !== this._popup || (t = this._popup, this._popup = null), t && this.removeLayer(t), this
        }
    }), qe.include({
        bindPopup: function(t, i) {
            return t instanceof cn ? (l(t, i), this._popup = t, t._source = this) : (this._popup && !i || (this._popup = new cn(i, this)), this._popup.setContent(t)), this._popupHandlersAdded || (this.on({
                click: this._openPopup,
                keypress: this._onKeyPress,
                remove: this.closePopup,
                move: this._movePopup
            }), this._popupHandlersAdded = !0), this
        },
        unbindPopup: function() {
            return this._popup && (this.off({
                click: this._openPopup,
                keypress: this._onKeyPress,
                remove: this.closePopup,
                move: this._movePopup
            }), this._popupHandlersAdded = !1, this._popup = null), this
        },
        openPopup: function(t, i) {
            if (t instanceof qe || (i = t, t = this), t instanceof Ke)
                for (var e in this._layers) {
                    t = this._layers[e];
                    break
                }
            return i || (i = t.getCenter ? t.getCenter() : t.getLatLng()), this._popup && this._map && (this._popup._source = t, this._popup.update(), this._map.openPopup(this._popup, i)), this
        },
        closePopup: function() {
            return this._popup && this._popup._close(), this
        },
        togglePopup: function(t) {
            return this._popup && (this._popup._map ? this.closePopup() : this.openPopup(t)), this
        },
        isPopupOpen: function() {
            return !!this._popup && this._popup.isOpen()
        },
        setPopupContent: function(t) {
            return this._popup && this._popup.setContent(t), this
        },
        getPopup: function() {
            return this._popup
        },
        _openPopup: function(t) {
            var i = t.layer || t.target;
            this._popup && this._map && (Lt(t), i instanceof Qe ? this.openPopup(t.layer || t.target, t.latlng) : this._map.hasLayer(this._popup) && this._popup._source === i ? this.closePopup() : this.openPopup(i, t.latlng))
        },
        _movePopup: function(t) {
            this._popup.setLatLng(t.latlng)
        },
        _onKeyPress: function(t) {
            13 === t.originalEvent.keyCode && this._openPopup(t)
        }
    });
    var _n = ln.extend({
        options: {
            pane: "tooltipPane",
            offset: [0, 0],
            direction: "auto",
            permanent: !1,
            sticky: !1,
            interactive: !1,
            opacity: .9
        },
        onAdd: function(t) {
            ln.prototype.onAdd.call(this, t), this.setOpacity(this.options.opacity), t.fire("tooltipopen", {
                tooltip: this
            }), this._source && this._source.fire("tooltipopen", {
                tooltip: this
            }, !0)
        },
        onRemove: function(t) {
            ln.prototype.onRemove.call(this, t), t.fire("tooltipclose", {
                tooltip: this
            }), this._source && this._source.fire("tooltipclose", {
                tooltip: this
            }, !0)
        },
        getEvents: function() {
            var t = ln.prototype.getEvents.call(this);
            return qi && !this.options.permanent && (t.preclick = this._close), t
        },
        _close: function() {
            this._map && this._map.closeTooltip(this)
        },
        _initLayout: function() {
            var t = "leaflet-tooltip " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
            this._contentNode = this._container = G("div", t)
        },
        _updateLayout: function() {},
        _adjustPan: function() {},
        _setPosition: function(t) {
            var i = this._map,
                e = this._container,
                n = i.latLngToContainerPoint(i.getCenter()),
                o = i.layerPointToContainerPoint(t),
                s = this.options.direction,
                r = e.offsetWidth,
                a = e.offsetHeight,
                h = w(this.options.offset),
                u = this._getAnchor();
            "top" === s ? t = t.add(w(-r / 2 + h.x, -a + h.y + u.y, !0)) : "bottom" === s ? t = t.subtract(w(r / 2 - h.x, -h.y, !0)) : "center" === s ? t = t.subtract(w(r / 2 + h.x, a / 2 - u.y + h.y, !0)) : "right" === s || "auto" === s && o.x < n.x ? (s = "right", t = t.add(w(h.x + u.x, u.y - a / 2 + h.y, !0))) : (s = "left", t = t.subtract(w(r + u.x - h.x, a / 2 - u.y - h.y, !0))), tt(e, "leaflet-tooltip-right"), tt(e, "leaflet-tooltip-left"), tt(e, "leaflet-tooltip-top"), tt(e, "leaflet-tooltip-bottom"), Q(e, "leaflet-tooltip-" + s), at(e, t)
        },
        _updatePosition: function() {
            var t = this._map.latLngToLayerPoint(this._latlng);
            this._setPosition(t)
        },
        setOpacity: function(t) {
            this.options.opacity = t, this._container && nt(this._container, t)
        },
        _animateZoom: function(t) {
            var i = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center);
            this._setPosition(i)
        },
        _getAnchor: function() {
            return w(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0])
        }
    });
    be.include({
        openTooltip: function(t, i, e) {
            return t instanceof _n || (t = new _n(e).setContent(t)), i && t.setLatLng(i), this.hasLayer(t) ? this : this.addLayer(t)
        },
        closeTooltip: function(t) {
            return t && this.removeLayer(t), this
        }
    }), qe.include({
        bindTooltip: function(t, i) {
            return t instanceof _n ? (l(t, i), this._tooltip = t, t._source = this) : (this._tooltip && !i || (this._tooltip = new _n(i, this)), this._tooltip.setContent(t)), this._initTooltipInteractions(), this._tooltip.options.permanent && this._map && this._map.hasLayer(this) && this.openTooltip(), this
        },
        unbindTooltip: function() {
            return this._tooltip && (this._initTooltipInteractions(!0), this.closeTooltip(), this._tooltip = null), this
        },
        _initTooltipInteractions: function(t) {
            if (t || !this._tooltipHandlersAdded) {
                var i = t ? "off" : "on",
                    e = {
                        remove: this.closeTooltip,
                        move: this._moveTooltip
                    };
                this._tooltip.options.permanent ? e.add = this._openTooltip : (e.mouseover = this._openTooltip, e.mouseout = this.closeTooltip, this._tooltip.options.sticky && (e.mousemove = this._moveTooltip), qi && (e.click = this._openTooltip)), this[i](e), this._tooltipHandlersAdded = !t
            }
        },
        openTooltip: function(t, i) {
            if (t instanceof qe || (i = t, t = this), t instanceof Ke)
                for (var e in this._layers) {
                    t = this._layers[e];
                    break
                }
            return i || (i = t.getCenter ? t.getCenter() : t.getLatLng()), this._tooltip && this._map && (this._tooltip._source = t, this._tooltip.update(), this._map.openTooltip(this._tooltip, i), this._tooltip.options.interactive && this._tooltip._container && (Q(this._tooltip._container, "leaflet-clickable"), this.addInteractiveTarget(this._tooltip._container))), this
        },
        closeTooltip: function() {
            return this._tooltip && (this._tooltip._close(), this._tooltip.options.interactive && this._tooltip._container && (tt(this._tooltip._container, "leaflet-clickable"), this.removeInteractiveTarget(this._tooltip._container))), this
        },
        toggleTooltip: function(t) {
            return this._tooltip && (this._tooltip._map ? this.closeTooltip() : this.openTooltip(t)), this
        },
        isTooltipOpen: function() {
            return this._tooltip.isOpen()
        },
        setTooltipContent: function(t) {
            return this._tooltip && this._tooltip.setContent(t), this
        },
        getTooltip: function() {
            return this._tooltip
        },
        _openTooltip: function(t) {
            var i = t.layer || t.target;
            this._tooltip && this._map && this.openTooltip(i, this._tooltip.options.sticky ? t.latlng : void 0)
        },
        _moveTooltip: function(t) {
            var i, e, n = t.latlng;
            this._tooltip.options.sticky && t.originalEvent && (i = this._map.mouseEventToContainerPoint(t.originalEvent), e = this._map.containerPointToLayerPoint(i), n = this._map.layerPointToLatLng(e)), this._tooltip.setLatLng(n)
        }
    });
    var dn = Ye.extend({
        options: {
            iconSize: [12, 12],
            html: !1,
            bgPos: null,
            className: "leaflet-div-icon"
        },
        createIcon: function(t) {
            var i = t && "DIV" === t.tagName ? t : document.createElement("div"),
                e = this.options;
            if (i.innerHTML = !1 !== e.html ? e.html : "", e.bgPos) {
                var n = w(e.bgPos);
                i.style.backgroundPosition = -n.x + "px " + -n.y + "px"
            }
            return this._setIconStyles(i, "icon"), i
        },
        createShadow: function() {
            return null
        }
    });
    Ye.Default = Xe;
    var pn = qe.extend({
            options: {
                tileSize: 256,
                opacity: 1,
                updateWhenIdle: Wi,
                updateWhenZooming: !0,
                updateInterval: 200,
                zIndex: 1,
                bounds: null,
                minZoom: 0,
                maxZoom: void 0,
                maxNativeZoom: void 0,
                minNativeZoom: void 0,
                noWrap: !1,
                pane: "tilePane",
                className: "",
                keepBuffer: 2
            },
            initialize: function(t) {
                l(this, t)
            },
            onAdd: function() {
                this._initContainer(), this._levels = {}, this._tiles = {}, this._resetView(), this._update()
            },
            beforeAdd: function(t) {
                t._addZoomLimit(this)
            },
            onRemove: function(t) {
                this._removeAllTiles(), K(this._container), t._removeZoomLimit(this), this._container = null, this._tileZoom = void 0
            },
            bringToFront: function() {
                return this._map && (X(this._container), this._setAutoZIndex(Math.max)), this
            },
            bringToBack: function() {
                return this._map && (J(this._container), this._setAutoZIndex(Math.min)), this
            },
            getContainer: function() {
                return this._container
            },
            setOpacity: function(t) {
                return this.options.opacity = t, this._updateOpacity(), this
            },
            setZIndex: function(t) {
                return this.options.zIndex = t, this._updateZIndex(), this
            },
            isLoading: function() {
                return this._loading
            },
            redraw: function() {
                return this._map && (this._removeAllTiles(), this._update()), this
            },
            getEvents: function() {
                var t = {
                    viewprereset: this._invalidateAll,
                    viewreset: this._resetView,
                    zoom: this._resetView,
                    moveend: this._onMoveEnd
                };
                return this.options.updateWhenIdle || (this._onMove || (this._onMove = o(this._onMoveEnd, this.options.updateInterval, this)), t.move = this._onMove), this._zoomAnimated && (t.zoomanim = this._animateZoom), t
            },
            createTile: function() {
                return document.createElement("div")
            },
            getTileSize: function() {
                var t = this.options.tileSize;
                return t instanceof x ? t : new x(t, t)
            },
            _updateZIndex: function() {
                this._container && void 0 !== this.options.zIndex && null !== this.options.zIndex && (this._container.style.zIndex = this.options.zIndex)
            },
            _setAutoZIndex: function(t) {
                for (var i, e = this.getPane().children, n = -t(-1 / 0, 1 / 0), o = 0, s = e.length; o < s; o++) i = e[o].style.zIndex, e[o] !== this._container && i && (n = t(n, +i));
                isFinite(n) && (this.options.zIndex = n + t(-1, 1), this._updateZIndex())
            },
            _updateOpacity: function() {
                if (this._map && !Li) {
                    nt(this._container, this.options.opacity);
                    var t = +new Date,
                        i = !1,
                        e = !1;
                    for (var n in this._tiles) {
                        var o = this._tiles[n];
                        if (o.current && o.loaded) {
                            var s = Math.min(1, (t - o.loaded) / 200);
                            nt(o.el, s), s < 1 ? i = !0 : (o.active ? e = !0 : this._onOpaqueTile(o), o.active = !0)
                        }
                    }
                    e && !this._noPrune && this._pruneTiles(), i && (g(this._fadeFrame), this._fadeFrame = f(this._updateOpacity, this))
                }
            },
            _onOpaqueTile: r,
            _initContainer: function() {
                this._container || (this._container = G("div", "leaflet-layer " + (this.options.className || "")), this._updateZIndex(), this.options.opacity < 1 && this._updateOpacity(), this.getPane().appendChild(this._container))
            },
            _updateLevels: function() {
                var t = this._tileZoom,
                    i = this.options.maxZoom;
                if (void 0 !== t) {
                    for (var e in this._levels) this._levels[e].el.children.length || e === t ? (this._levels[e].el.style.zIndex = i - Math.abs(t - e), this._onUpdateLevel(e)) : (K(this._levels[e].el), this._removeTilesAtZoom(e), this._onRemoveLevel(e), delete this._levels[e]);
                    var n = this._levels[t],
                        o = this._map;
                    return n || ((n = this._levels[t] = {}).el = G("div", "leaflet-tile-container leaflet-zoom-animated", this._container), n.el.style.zIndex = i, n.origin = o.project(o.unproject(o.getPixelOrigin()), t).round(), n.zoom = t, this._setZoomTransform(n, o.getCenter(), o.getZoom()), n.el.offsetWidth, this._onCreateLevel(n)), this._level = n, n
                }
            },
            _onUpdateLevel: r,
            _onRemoveLevel: r,
            _onCreateLevel: r,
            _pruneTiles: function() {
                if (this._map) {
                    var t, i, e = this._map.getZoom();
                    if (e > this.options.maxZoom || e < this.options.minZoom) this._removeAllTiles();
                    else {
                        for (t in this._tiles)(i = this._tiles[t]).retain = i.current;
                        for (t in this._tiles)
                            if ((i = this._tiles[t]).current && !i.active) {
                                var n = i.coords;
                                this._retainParent(n.x, n.y, n.z, n.z - 5) || this._retainChildren(n.x, n.y, n.z, n.z + 2)
                            }
                        for (t in this._tiles) this._tiles[t].retain || this._removeTile(t)
                    }
                }
            },
            _removeTilesAtZoom: function(t) {
                for (var i in this._tiles) this._tiles[i].coords.z === t && this._removeTile(i)
            },
            _removeAllTiles: function() {
                for (var t in this._tiles) this._removeTile(t)
            },
            _invalidateAll: function() {
                for (var t in this._levels) K(this._levels[t].el), this._onRemoveLevel(t), delete this._levels[t];
                this._removeAllTiles(), this._tileZoom = void 0
            },
            _retainParent: function(t, i, e, n) {
                var o = Math.floor(t / 2),
                    s = Math.floor(i / 2),
                    r = e - 1,
                    a = new x(+o, +s);
                a.z = +r;
                var h = this._tileCoordsToKey(a),
                    u = this._tiles[h];
                return u && u.active ? (u.retain = !0, !0) : (u && u.loaded && (u.retain = !0), r > n && this._retainParent(o, s, r, n))
            },
            _retainChildren: function(t, i, e, n) {
                for (var o = 2 * t; o < 2 * t + 2; o++)
                    for (var s = 2 * i; s < 2 * i + 2; s++) {
                        var r = new x(o, s);
                        r.z = e + 1;
                        var a = this._tileCoordsToKey(r),
                            h = this._tiles[a];
                        h && h.active ? h.retain = !0 : (h && h.loaded && (h.retain = !0), e + 1 < n && this._retainChildren(o, s, e + 1, n))
                    }
            },
            _resetView: function(t) {
                var i = t && (t.pinch || t.flyTo);
                this._setView(this._map.getCenter(), this._map.getZoom(), i, i)
            },
            _animateZoom: function(t) {
                this._setView(t.center, t.zoom, !0, t.noUpdate)
            },
            _clampZoom: function(t) {
                var i = this.options;
                return void 0 !== i.minNativeZoom && t < i.minNativeZoom ? i.minNativeZoom : void 0 !== i.maxNativeZoom && i.maxNativeZoom < t ? i.maxNativeZoom : t
            },
            _setView: function(t, i, e, n) {
                var o = this._clampZoom(Math.round(i));
                (void 0 !== this.options.maxZoom && o > this.options.maxZoom || void 0 !== this.options.minZoom && o < this.options.minZoom) && (o = void 0);
                var s = this.options.updateWhenZooming && o !== this._tileZoom;
                n && !s || (this._tileZoom = o, this._abortLoading && this._abortLoading(), this._updateLevels(), this._resetGrid(), void 0 !== o && this._update(t), e || this._pruneTiles(), this._noPrune = !!e), this._setZoomTransforms(t, i)
            },
            _setZoomTransforms: function(t, i) {
                for (var e in this._levels) this._setZoomTransform(this._levels[e], t, i)
            },
            _setZoomTransform: function(t, i, e) {
                var n = this._map.getZoomScale(e, t.zoom),
                    o = t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(i, e)).round();
                ji ? rt(t.el, o, n) : at(t.el, o)
            },
            _resetGrid: function() {
                var t = this._map,
                    i = t.options.crs,
                    e = this._tileSize = this.getTileSize(),
                    n = this._tileZoom,
                    o = this._map.getPixelWorldBounds(this._tileZoom);
                o && (this._globalTileRange = this._pxBoundsToTileRange(o)), this._wrapX = i.wrapLng && !this.options.noWrap && [Math.floor(t.project([0, i.wrapLng[0]], n).x / e.x), Math.ceil(t.project([0, i.wrapLng[1]], n).x / e.y)], this._wrapY = i.wrapLat && !this.options.noWrap && [Math.floor(t.project([i.wrapLat[0], 0], n).y / e.x), Math.ceil(t.project([i.wrapLat[1], 0], n).y / e.y)]
            },
            _onMoveEnd: function() {
                this._map && !this._map._animatingZoom && this._update()
            },
            _getTiledPixelBounds: function(t) {
                var i = this._map,
                    e = i._animatingZoom ? Math.max(i._animateToZoom, i.getZoom()) : i.getZoom(),
                    n = i.getZoomScale(e, this._tileZoom),
                    o = i.project(t, this._tileZoom).floor(),
                    s = i.getSize().divideBy(2 * n);
                return new P(o.subtract(s), o.add(s))
            },
            _update: function(t) {
                var i = this._map;
                if (i) {
                    var e = this._clampZoom(i.getZoom());
                    if (void 0 === t && (t = i.getCenter()), void 0 !== this._tileZoom) {
                        var n = this._getTiledPixelBounds(t),
                            o = this._pxBoundsToTileRange(n),
                            s = o.getCenter(),
                            r = [],
                            a = this.options.keepBuffer,
                            h = new P(o.getBottomLeft().subtract([a, -a]), o.getTopRight().add([a, -a]));
                        if (!(isFinite(o.min.x) && isFinite(o.min.y) && isFinite(o.max.x) && isFinite(o.max.y))) throw new Error("Attempted to load an infinite number of tiles");
                        for (var u in this._tiles) {
                            var l = this._tiles[u].coords;
                            l.z === this._tileZoom && h.contains(new x(l.x, l.y)) || (this._tiles[u].current = !1)
                        }
                        if (Math.abs(e - this._tileZoom) > 1) this._setView(t, e);
                        else {
                            for (var c = o.min.y; c <= o.max.y; c++)
                                for (var _ = o.min.x; _ <= o.max.x; _++) {
                                    var d = new x(_, c);
                                    if (d.z = this._tileZoom, this._isValidTile(d)) {
                                        var p = this._tiles[this._tileCoordsToKey(d)];
                                        p ? p.current = !0 : r.push(d)
                                    }
                                }
                            if (r.sort(function(t, i) {
                                    return t.distanceTo(s) - i.distanceTo(s)
                                }), 0 !== r.length) {
                                this._loading || (this._loading = !0, this.fire("loading"));
                                var m = document.createDocumentFragment();
                                for (_ = 0; _ < r.length; _++) this._addTile(r[_], m);
                                this._level.el.appendChild(m)
                            }
                        }
                    }
                }
            },
            _isValidTile: function(t) {
                var i = this._map.options.crs;
                if (!i.infinite) {
                    var e = this._globalTileRange;
                    if (!i.wrapLng && (t.x < e.min.x || t.x > e.max.x) || !i.wrapLat && (t.y < e.min.y || t.y > e.max.y)) return !1
                }
                if (!this.options.bounds) return !0;
                var n = this._tileCoordsToBounds(t);
                return z(this.options.bounds).overlaps(n)
            },
            _keyToBounds: function(t) {
                return this._tileCoordsToBounds(this._keyToTileCoords(t))
            },
            _tileCoordsToNwSe: function(t) {
                var i = this._map,
                    e = this.getTileSize(),
                    n = t.scaleBy(e),
                    o = n.add(e);
                return [i.unproject(n, t.z), i.unproject(o, t.z)]
            },
            _tileCoordsToBounds: function(t) {
                var i = this._tileCoordsToNwSe(t),
                    e = new T(i[0], i[1]);
                return this.options.noWrap || (e = this._map.wrapLatLngBounds(e)), e
            },
            _tileCoordsToKey: function(t) {
                return t.x + ":" + t.y + ":" + t.z
            },
            _keyToTileCoords: function(t) {
                var i = t.split(":"),
                    e = new x(+i[0], +i[1]);
                return e.z = +i[2], e
            },
            _removeTile: function(t) {
                var i = this._tiles[t];
                i && (K(i.el), delete this._tiles[t], this.fire("tileunload", {
                    tile: i.el,
                    coords: this._keyToTileCoords(t)
                }))
            },
            _initTile: function(t) {
                Q(t, "leaflet-tile");
                var i = this.getTileSize();
                t.style.width = i.x + "px", t.style.height = i.y + "px", t.onselectstart = r, t.onmousemove = r, Li && this.options.opacity < 1 && nt(t, this.options.opacity), zi && !Mi && (t.style.WebkitBackfaceVisibility = "hidden")
            },
            _addTile: function(t, i) {
                var n = this._getTilePos(t),
                    o = this._tileCoordsToKey(t),
                    s = this.createTile(this._wrapCoords(t), e(this._tileReady, this, t));
                this._initTile(s), this.createTile.length < 2 && f(e(this._tileReady, this, t, null, s)), at(s, n), this._tiles[o] = {
                    el: s,
                    coords: t,
                    current: !0
                }, i.appendChild(s), this.fire("tileloadstart", {
                    tile: s,
                    coords: t
                })
            },
            _tileReady: function(t, i, n) {
                i && this.fire("tileerror", {
                    error: i,
                    tile: n,
                    coords: t
                });
                var o = this._tileCoordsToKey(t);
                (n = this._tiles[o]) && (n.loaded = +new Date, this._map._fadeAnimated ? (nt(n.el, 0), g(this._fadeFrame), this._fadeFrame = f(this._updateOpacity, this)) : (n.active = !0, this._pruneTiles()), i || (Q(n.el, "leaflet-tile-loaded"), this.fire("tileload", {
                    tile: n.el,
                    coords: t
                })), this._noTilesToLoad() && (this._loading = !1, this.fire("load"), Li || !this._map._fadeAnimated ? f(this._pruneTiles, this) : setTimeout(e(this._pruneTiles, this), 250)))
            },
            _getTilePos: function(t) {
                return t.scaleBy(this.getTileSize()).subtract(this._level.origin)
            },
            _wrapCoords: function(t) {
                var i = new x(this._wrapX ? s(t.x, this._wrapX) : t.x, this._wrapY ? s(t.y, this._wrapY) : t.y);
                return i.z = t.z, i
            },
            _pxBoundsToTileRange: function(t) {
                var i = this.getTileSize();
                return new P(t.min.unscaleBy(i).floor(), t.max.unscaleBy(i).ceil().subtract([1, 1]))
            },
            _noTilesToLoad: function() {
                for (var t in this._tiles)
                    if (!this._tiles[t].loaded) return !1;
                return !0
            }
        }),
        mn = pn.extend({
            options: {
                minZoom: 0,
                maxZoom: 18,
                subdomains: "abc",
                errorTileUrl: "",
                zoomOffset: 0,
                tms: !1,
                zoomReverse: !1,
                detectRetina: !1,
                crossOrigin: !1
            },
            initialize: function(t, i) {
                this._url = t, (i = l(this, i)).detectRetina && Yi && i.maxZoom > 0 && (i.tileSize = Math.floor(i.tileSize / 2), i.zoomReverse ? (i.zoomOffset--, i.minZoom++) : (i.zoomOffset++, i.maxZoom--), i.minZoom = Math.max(0, i.minZoom)), "string" == typeof i.subdomains && (i.subdomains = i.subdomains.split("")), zi || this.on("tileunload", this._onTileRemove)
            },
            setUrl: function(t, i) {
                return this._url = t, i || this.redraw(), this
            },
            createTile: function(t, i) {
                var n = document.createElement("img");
                return mt(n, "load", e(this._tileOnLoad, this, i, n)), mt(n, "error", e(this._tileOnError, this, i, n)), (this.options.crossOrigin || "" === this.options.crossOrigin) && (n.crossOrigin = !0 === this.options.crossOrigin ? "" : this.options.crossOrigin), n.alt = "", n.setAttribute("role", "presentation"), n.src = this.getTileUrl(t), n
            },
            getTileUrl: function(t) {
                var e = {
                    r: Yi ? "@2x" : "",
                    s: this._getSubdomain(t),
                    x: t.x,
                    y: t.y,
                    z: this._getZoomForUrl()
                };
                if (this._map && !this._map.options.crs.infinite) {
                    var n = this._globalTileRange.max.y - t.y;
                    this.options.tms && (e.y = n), e["-y"] = n
                }
                return _(this._url, i(e, this.options))
            },
            _tileOnLoad: function(t, i) {
                Li ? setTimeout(e(t, this, null, i), 0) : t(null, i)
            },
            _tileOnError: function(t, i, e) {
                var n = this.options.errorTileUrl;
                n && i.getAttribute("src") !== n && (i.src = n), t(e, i)
            },
            _onTileRemove: function(t) {
                t.tile.onload = null
            },
            _getZoomForUrl: function() {
                var t = this._tileZoom,
                    i = this.options.maxZoom,
                    e = this.options.zoomReverse,
                    n = this.options.zoomOffset;
                return e && (t = i - t), t + n
            },
            _getSubdomain: function(t) {
                var i = Math.abs(t.x + t.y) % this.options.subdomains.length;
                return this.options.subdomains[i]
            },
            _abortLoading: function() {
                var t, i;
                for (t in this._tiles) this._tiles[t].coords.z !== this._tileZoom && ((i = this._tiles[t].el).onload = r, i.onerror = r, i.complete || (i.src = si, K(i), delete this._tiles[t]))
            },
            _removeTile: function(t) {
                var i = this._tiles[t];
                if (i) return Si || i.el.setAttribute("src", si), pn.prototype._removeTile.call(this, t)
            },
            _tileReady: function(t, i, e) {
                if (this._map && (!e || e.getAttribute("src") !== si)) return pn.prototype._tileReady.call(this, t, i, e)
            }
        }),
        fn = mn.extend({
            defaultWmsParams: {
                service: "WMS",
                request: "GetMap",
                layers: "",
                styles: "",
                format: "image/jpeg",
                transparent: !1,
                version: "1.1.1"
            },
            options: {
                crs: null,
                uppercase: !1
            },
            initialize: function(t, e) {
                this._url = t;
                var n = i({}, this.defaultWmsParams);
                for (var o in e) o in this.options || (n[o] = e[o]);
                var s = (e = l(this, e)).detectRetina && Yi ? 2 : 1,
                    r = this.getTileSize();
                n.width = r.x * s, n.height = r.y * s, this.wmsParams = n
            },
            onAdd: function(t) {
                this._crs = this.options.crs || t.options.crs, this._wmsVersion = parseFloat(this.wmsParams.version);
                var i = this._wmsVersion >= 1.3 ? "crs" : "srs";
                this.wmsParams[i] = this._crs.code, mn.prototype.onAdd.call(this, t)
            },
            getTileUrl: function(t) {
                var i = this._tileCoordsToNwSe(t),
                    e = this._crs,
                    n = b(e.project(i[0]), e.project(i[1])),
                    o = n.min,
                    s = n.max,
                    r = (this._wmsVersion >= 1.3 && this._crs === Ue ? [o.y, o.x, s.y, s.x] : [o.x, o.y, s.x, s.y]).join(","),
                    a = mn.prototype.getTileUrl.call(this, t);
                return a + c(this.wmsParams, a, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + r
            },
            setParams: function(t, e) {
                return i(this.wmsParams, t), e || this.redraw(), this
            }
        });
    mn.WMS = fn, Jt.wms = function(t, i) {
        return new fn(t, i)
    };
    var gn = qe.extend({
            options: {
                padding: .1,
                tolerance: 0
            },
            initialize: function(t) {
                l(this, t), n(this), this._layers = this._layers || {}
            },
            onAdd: function() {
                this._container || (this._initContainer(), this._zoomAnimated && Q(this._container, "leaflet-zoom-animated")), this.getPane().appendChild(this._container), this._update(), this.on("update", this._updatePaths, this)
            },
            onRemove: function() {
                this.off("update", this._updatePaths, this), this._destroyContainer()
            },
            getEvents: function() {
                var t = {
                    viewreset: this._reset,
                    zoom: this._onZoom,
                    moveend: this._update,
                    zoomend: this._onZoomEnd
                };
                return this._zoomAnimated && (t.zoomanim = this._onAnimZoom), t
            },
            _onAnimZoom: function(t) {
                this._updateTransform(t.center, t.zoom)
            },
            _onZoom: function() {
                this._updateTransform(this._map.getCenter(), this._map.getZoom())
            },
            _updateTransform: function(t, i) {
                var e = this._map.getZoomScale(i, this._zoom),
                    n = ht(this._container),
                    o = this._map.getSize().multiplyBy(.5 + this.options.padding),
                    s = this._map.project(this._center, i),
                    r = this._map.project(t, i).subtract(s),
                    a = o.multiplyBy(-e).add(n).add(o).subtract(r);
                ji ? rt(this._container, a, e) : at(this._container, a)
            },
            _reset: function() {
                this._update(), this._updateTransform(this._center, this._zoom);
                for (var t in this._layers) this._layers[t]._reset()
            },
            _onZoomEnd: function() {
                for (var t in this._layers) this._layers[t]._project()
            },
            _updatePaths: function() {
                for (var t in this._layers) this._layers[t]._update()
            },
            _update: function() {
                var t = this.options.padding,
                    i = this._map.getSize(),
                    e = this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();
                this._bounds = new P(e, e.add(i.multiplyBy(1 + 2 * t)).round()), this._center = this._map.getCenter(), this._zoom = this._map.getZoom()
            }
        }),
        vn = gn.extend({
            getEvents: function() {
                var t = gn.prototype.getEvents.call(this);
                return t.viewprereset = this._onViewPreReset, t
            },
            _onViewPreReset: function() {
                this._postponeUpdatePaths = !0
            },
            onAdd: function() {
                gn.prototype.onAdd.call(this), this._draw()
            },
            _initContainer: function() {
                var t = this._container = document.createElement("canvas");
                mt(t, "mousemove", o(this._onMouseMove, 32, this), this), mt(t, "click dblclick mousedown mouseup contextmenu", this._onClick, this), mt(t, "mouseout", this._handleMouseOut, this), this._ctx = t.getContext("2d")
            },
            _destroyContainer: function() {
                g(this._redrawRequest), delete this._ctx, K(this._container), ft(this._container), delete this._container
            },
            _updatePaths: function() {
                if (!this._postponeUpdatePaths) {
                    this._redrawBounds = null;
                    for (var t in this._layers) this._layers[t]._update();
                    this._redraw()
                }
            },
            _update: function() {
                if (!this._map._animatingZoom || !this._bounds) {
                    this._drawnLayers = {}, gn.prototype._update.call(this);
                    var t = this._bounds,
                        i = this._container,
                        e = t.getSize(),
                        n = Yi ? 2 : 1;
                    at(i, t.min), i.width = n * e.x, i.height = n * e.y, i.style.width = e.x + "px", i.style.height = e.y + "px", Yi && this._ctx.scale(2, 2), this._ctx.translate(-t.min.x, -t.min.y), this.fire("update")
                }
            },
            _reset: function() {
                gn.prototype._reset.call(this), this._postponeUpdatePaths && (this._postponeUpdatePaths = !1, this._updatePaths())
            },
            _initPath: function(t) {
                this._updateDashArray(t), this._layers[n(t)] = t;
                var i = t._order = {
                    layer: t,
                    prev: this._drawLast,
                    next: null
                };
                this._drawLast && (this._drawLast.next = i), this._drawLast = i, this._drawFirst = this._drawFirst || this._drawLast
            },
            _addPath: function(t) {
                this._requestRedraw(t)
            },
            _removePath: function(t) {
                var i = t._order,
                    e = i.next,
                    o = i.prev;
                e ? e.prev = o : this._drawLast = o, o ? o.next = e : this._drawFirst = e, delete this._drawnLayers[t._leaflet_id], delete t._order, delete this._layers[n(t)], this._requestRedraw(t)
            },
            _updatePath: function(t) {
                this._extendRedrawBounds(t), t._project(), t._update(), this._requestRedraw(t)
            },
            _updateStyle: function(t) {
                this._updateDashArray(t), this._requestRedraw(t)
            },
            _updateDashArray: function(t) {
                if ("string" == typeof t.options.dashArray) {
                    var i, e = t.options.dashArray.split(/[, ]+/),
                        n = [];
                    for (i = 0; i < e.length; i++) n.push(Number(e[i]));
                    t.options._dashArray = n
                } else t.options._dashArray = t.options.dashArray
            },
            _requestRedraw: function(t) {
                this._map && (this._extendRedrawBounds(t), this._redrawRequest = this._redrawRequest || f(this._redraw, this))
            },
            _extendRedrawBounds: function(t) {
                if (t._pxBounds) {
                    var i = (t.options.weight || 0) + 1;
                    this._redrawBounds = this._redrawBounds || new P, this._redrawBounds.extend(t._pxBounds.min.subtract([i, i])), this._redrawBounds.extend(t._pxBounds.max.add([i, i]))
                }
            },
            _redraw: function() {
                this._redrawRequest = null, this._redrawBounds && (this._redrawBounds.min._floor(), this._redrawBounds.max._ceil()), this._clear(), this._draw(), this._redrawBounds = null
            },
            _clear: function() {
                var t = this._redrawBounds;
                if (t) {
                    var i = t.getSize();
                    this._ctx.clearRect(t.min.x, t.min.y, i.x, i.y)
                } else this._ctx.clearRect(0, 0, this._container.width, this._container.height)
            },
            _draw: function() {
                var t, i = this._redrawBounds;
                if (this._ctx.save(), i) {
                    var e = i.getSize();
                    this._ctx.beginPath(), this._ctx.rect(i.min.x, i.min.y, e.x, e.y), this._ctx.clip()
                }
                this._drawing = !0;
                for (var n = this._drawFirst; n; n = n.next) t = n.layer, (!i || t._pxBounds && t._pxBounds.intersects(i)) && t._updatePath();
                this._drawing = !1, this._ctx.restore()
            },
            _updatePoly: function(t, i) {
                if (this._drawing) {
                    var e, n, o, s, r = t._parts,
                        a = r.length,
                        h = this._ctx;
                    if (a) {
                        for (this._drawnLayers[t._leaflet_id] = t, h.beginPath(), e = 0; e < a; e++) {
                            for (n = 0, o = r[e].length; n < o; n++) s = r[e][n], h[n ? "lineTo" : "moveTo"](s.x, s.y);
                            i && h.closePath()
                        }
                        this._fillStroke(h, t)
                    }
                }
            },
            _updateCircle: function(t) {
                if (this._drawing && !t._empty()) {
                    var i = t._point,
                        e = this._ctx,
                        n = Math.max(Math.round(t._radius), 1),
                        o = (Math.max(Math.round(t._radiusY), 1) || n) / n;
                    this._drawnLayers[t._leaflet_id] = t, 1 !== o && (e.save(), e.scale(1, o)), e.beginPath(), e.arc(i.x, i.y / o, n, 0, 2 * Math.PI, !1), 1 !== o && e.restore(), this._fillStroke(e, t)
                }
            },
            _fillStroke: function(t, i) {
                var e = i.options;
                e.fill && (t.globalAlpha = e.fillOpacity, t.fillStyle = e.fillColor || e.color, t.fill(e.fillRule || "evenodd")), e.stroke && 0 !== e.weight && (t.setLineDash && t.setLineDash(i.options && i.options._dashArray || []), t.globalAlpha = e.opacity, t.lineWidth = e.weight, t.strokeStyle = e.color, t.lineCap = e.lineCap, t.lineJoin = e.lineJoin, t.stroke())
            },
            _onClick: function(t) {
                for (var i, e, n = this._map.mouseEventToLayerPoint(t), o = this._drawFirst; o; o = o.next)(i = o.layer).options.interactive && i._containsPoint(n) && !this._map._draggableMoved(i) && (e = i);
                e && (zt(t), this._fireEvent([e], t))
            },
            _onMouseMove: function(t) {
                if (this._map && !this._map.dragging.moving() && !this._map._animatingZoom) {
                    var i = this._map.mouseEventToLayerPoint(t);
                    this._handleMouseHover(t, i)
                }
            },
            _handleMouseOut: function(t) {
                var i = this._hoveredLayer;
                i && (tt(this._container, "leaflet-interactive"), this._fireEvent([i], t, "mouseout"), this._hoveredLayer = null)
            },
            _handleMouseHover: function(t, i) {
                for (var e, n, o = this._drawFirst; o; o = o.next)(e = o.layer).options.interactive && e._containsPoint(i) && (n = e);
                n !== this._hoveredLayer && (this._handleMouseOut(t), n && (Q(this._container, "leaflet-interactive"), this._fireEvent([n], t, "mouseover"), this._hoveredLayer = n)), this._hoveredLayer && this._fireEvent([this._hoveredLayer], t)
            },
            _fireEvent: function(t, i, e) {
                this._map._fireDOMEvent(i, e || i.type, t)
            },
            _bringToFront: function(t) {
                var i = t._order,
                    e = i.next,
                    n = i.prev;
                e && (e.prev = n, n ? n.next = e : e && (this._drawFirst = e), i.prev = this._drawLast, this._drawLast.next = i, i.next = null, this._drawLast = i, this._requestRedraw(t))
            },
            _bringToBack: function(t) {
                var i = t._order,
                    e = i.next,
                    n = i.prev;
                n && (n.next = e, e ? e.prev = n : n && (this._drawLast = n), i.prev = null, i.next = this._drawFirst, this._drawFirst.prev = i, this._drawFirst = i, this._requestRedraw(t))
            }
        }),
        yn = function() {
            try {
                return document.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"),
                    function(t) {
                        return document.createElement("<lvml:" + t + ' class="lvml">')
                    }
            } catch (t) {
                return function(t) {
                    return document.createElement("<" + t + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')
                }
            }
        }(),
        xn = {
            _initContainer: function() {
                this._container = G("div", "leaflet-vml-container")
            },
            _update: function() {
                this._map._animatingZoom || (gn.prototype._update.call(this), this.fire("update"))
            },
            _initPath: function(t) {
                var i = t._container = yn("shape");
                Q(i, "leaflet-vml-shape " + (this.options.className || "")), i.coordsize = "1 1", t._path = yn("path"), i.appendChild(t._path), this._updateStyle(t), this._layers[n(t)] = t
            },
            _addPath: function(t) {
                var i = t._container;
                this._container.appendChild(i), t.options.interactive && t.addInteractiveTarget(i)
            },
            _removePath: function(t) {
                var i = t._container;
                K(i), t.removeInteractiveTarget(i), delete this._layers[n(t)]
            },
            _updateStyle: function(t) {
                var i = t._stroke,
                    e = t._fill,
                    n = t.options,
                    o = t._container;
                o.stroked = !!n.stroke, o.filled = !!n.fill, n.stroke ? (i || (i = t._stroke = yn("stroke")), o.appendChild(i), i.weight = n.weight + "px", i.color = n.color, i.opacity = n.opacity, n.dashArray ? i.dashStyle = oi(n.dashArray) ? n.dashArray.join(" ") : n.dashArray.replace(/( *, *)/g, " ") : i.dashStyle = "", i.endcap = n.lineCap.replace("butt", "flat"), i.joinstyle = n.lineJoin) : i && (o.removeChild(i), t._stroke = null), n.fill ? (e || (e = t._fill = yn("fill")), o.appendChild(e), e.color = n.fillColor || n.color, e.opacity = n.fillOpacity) : e && (o.removeChild(e), t._fill = null)
            },
            _updateCircle: function(t) {
                var i = t._point.round(),
                    e = Math.round(t._radius),
                    n = Math.round(t._radiusY || e);
                this._setPath(t, t._empty() ? "M0 0" : "AL " + i.x + "," + i.y + " " + e + "," + n + " 0,23592600")
            },
            _setPath: function(t, i) {
                t._path.v = i
            },
            _bringToFront: function(t) {
                X(t._container)
            },
            _bringToBack: function(t) {
                J(t._container)
            }
        },
        wn = $i ? yn : E,
        Pn = gn.extend({
            getEvents: function() {
                var t = gn.prototype.getEvents.call(this);
                return t.zoomstart = this._onZoomStart, t
            },
            _initContainer: function() {
                this._container = wn("svg"), this._container.setAttribute("pointer-events", "none"), this._rootGroup = wn("g"), this._container.appendChild(this._rootGroup)
            },
            _destroyContainer: function() {
                K(this._container), ft(this._container), delete this._container, delete this._rootGroup, delete this._svgSize
            },
            _onZoomStart: function() {
                this._update()
            },
            _update: function() {
                if (!this._map._animatingZoom || !this._bounds) {
                    gn.prototype._update.call(this);
                    var t = this._bounds,
                        i = t.getSize(),
                        e = this._container;
                    this._svgSize && this._svgSize.equals(i) || (this._svgSize = i, e.setAttribute("width", i.x), e.setAttribute("height", i.y)), at(e, t.min), e.setAttribute("viewBox", [t.min.x, t.min.y, i.x, i.y].join(" ")), this.fire("update")
                }
            },
            _initPath: function(t) {
                var i = t._path = wn("path");
                t.options.className && Q(i, t.options.className), t.options.interactive && Q(i, "leaflet-interactive"), this._updateStyle(t), this._layers[n(t)] = t
            },
            _addPath: function(t) {
                this._rootGroup || this._initContainer(), this._rootGroup.appendChild(t._path), t.addInteractiveTarget(t._path)
            },
            _removePath: function(t) {
                K(t._path), t.removeInteractiveTarget(t._path), delete this._layers[n(t)]
            },
            _updatePath: function(t) {
                t._project(), t._update()
            },
            _updateStyle: function(t) {
                var i = t._path,
                    e = t.options;
                i && (e.stroke ? (i.setAttribute("stroke", e.color), i.setAttribute("stroke-opacity", e.opacity), i.setAttribute("stroke-width", e.weight), i.setAttribute("stroke-linecap", e.lineCap), i.setAttribute("stroke-linejoin", e.lineJoin), e.dashArray ? i.setAttribute("stroke-dasharray", e.dashArray) : i.removeAttribute("stroke-dasharray"), e.dashOffset ? i.setAttribute("stroke-dashoffset", e.dashOffset) : i.removeAttribute("stroke-dashoffset")) : i.setAttribute("stroke", "none"), e.fill ? (i.setAttribute("fill", e.fillColor || e.color), i.setAttribute("fill-opacity", e.fillOpacity), i.setAttribute("fill-rule", e.fillRule || "evenodd")) : i.setAttribute("fill", "none"))
            },
            _updatePoly: function(t, i) {
                this._setPath(t, k(t._parts, i))
            },
            _updateCircle: function(t) {
                var i = t._point,
                    e = Math.max(Math.round(t._radius), 1),
                    n = "a" + e + "," + (Math.max(Math.round(t._radiusY), 1) || e) + " 0 1,0 ",
                    o = t._empty() ? "M0 0" : "M" + (i.x - e) + "," + i.y + n + 2 * e + ",0 " + n + 2 * -e + ",0 ";
                this._setPath(t, o)
            },
            _setPath: function(t, i) {
                t._path.setAttribute("d", i)
            },
            _bringToFront: function(t) {
                X(t._path)
            },
            _bringToBack: function(t) {
                J(t._path)
            }
        });
    $i && Pn.include(xn), be.include({
        getRenderer: function(t) {
            var i = t.options.renderer || this._getPaneRenderer(t.options.pane) || this.options.renderer || this._renderer;
            return i || (i = this._renderer = this._createRenderer()), this.hasLayer(i) || this.addLayer(i), i
        },
        _getPaneRenderer: function(t) {
            if ("overlayPane" === t || void 0 === t) return !1;
            var i = this._paneRenderers[t];
            return void 0 === i && (i = this._createRenderer({
                pane: t
            }), this._paneRenderers[t] = i), i
        },
        _createRenderer: function(t) {
            return this.options.preferCanvas && $t(t) || Qt(t)
        }
    });
    var Ln = on.extend({
        initialize: function(t, i) {
            on.prototype.initialize.call(this, this._boundsToLatLngs(t), i)
        },
        setBounds: function(t) {
            return this.setLatLngs(this._boundsToLatLngs(t))
        },
        _boundsToLatLngs: function(t) {
            return t = z(t), [t.getSouthWest(), t.getNorthWest(), t.getNorthEast(), t.getSouthEast()]
        }
    });
    Pn.create = wn, Pn.pointsToPath = k, sn.geometryToLayer = Ft, sn.coordsToLatLng = Ut, sn.coordsToLatLngs = Vt, sn.latLngToCoords = qt, sn.latLngsToCoords = Gt, sn.getFeature = Kt, sn.asFeature = Yt, be.mergeOptions({
        boxZoom: !0
    });
    var bn = Ee.extend({
        initialize: function(t) {
            this._map = t, this._container = t._container, this._pane = t._panes.overlayPane, this._resetStateTimeout = 0, t.on("unload", this._destroy, this)
        },
        addHooks: function() {
            mt(this._container, "mousedown", this._onMouseDown, this)
        },
        removeHooks: function() {
            ft(this._container, "mousedown", this._onMouseDown, this)
        },
        moved: function() {
            return this._moved
        },
        _destroy: function() {
            K(this._pane), delete this._pane
        },
        _resetState: function() {
            this._resetStateTimeout = 0, this._moved = !1
        },
        _clearDeferredResetState: function() {
            0 !== this._resetStateTimeout && (clearTimeout(this._resetStateTimeout), this._resetStateTimeout = 0)
        },
        _onMouseDown: function(t) {
            if (!t.shiftKey || 1 !== t.which && 1 !== t.button) return !1;
            this._clearDeferredResetState(), this._resetState(), fi(), ut(), this._startPoint = this._map.mouseEventToContainerPoint(t), mt(document, {
                contextmenu: Lt,
                mousemove: this._onMouseMove,
                mouseup: this._onMouseUp,
                keydown: this._onKeyDown
            }, this)
        },
        _onMouseMove: function(t) {
            this._moved || (this._moved = !0, this._box = G("div", "leaflet-zoom-box", this._container), Q(this._container, "leaflet-crosshair"), this._map.fire("boxzoomstart")), this._point = this._map.mouseEventToContainerPoint(t);
            var i = new P(this._point, this._startPoint),
                e = i.getSize();
            at(this._box, i.min), this._box.style.width = e.x + "px", this._box.style.height = e.y + "px"
        },
        _finish: function() {
            this._moved && (K(this._box), tt(this._container, "leaflet-crosshair")), gi(), lt(), ft(document, {
                contextmenu: Lt,
                mousemove: this._onMouseMove,
                mouseup: this._onMouseUp,
                keydown: this._onKeyDown
            }, this)
        },
        _onMouseUp: function(t) {
            if ((1 === t.which || 1 === t.button) && (this._finish(), this._moved)) {
                this._clearDeferredResetState(), this._resetStateTimeout = setTimeout(e(this._resetState, this), 0);
                var i = new T(this._map.containerPointToLatLng(this._startPoint), this._map.containerPointToLatLng(this._point));
                this._map.fitBounds(i).fire("boxzoomend", {
                    boxZoomBounds: i
                })
            }
        },
        _onKeyDown: function(t) {
            27 === t.keyCode && this._finish()
        }
    });
    be.addInitHook("addHandler", "boxZoom", bn), be.mergeOptions({
        doubleClickZoom: !0
    });
    var Tn = Ee.extend({
        addHooks: function() {
            this._map.on("dblclick", this._onDoubleClick, this)
        },
        removeHooks: function() {
            this._map.off("dblclick", this._onDoubleClick, this)
        },
        _onDoubleClick: function(t) {
            var i = this._map,
                e = i.getZoom(),
                n = i.options.zoomDelta,
                o = t.originalEvent.shiftKey ? e - n : e + n;
            "center" === i.options.doubleClickZoom ? i.setZoom(o) : i.setZoomAround(t.containerPoint, o)
        }
    });
    be.addInitHook("addHandler", "doubleClickZoom", Tn), be.mergeOptions({
        dragging: !0,
        inertia: !Mi,
        inertiaDeceleration: 3400,
        inertiaMaxSpeed: 1 / 0,
        easeLinearity: .2,
        worldCopyJump: !1,
        maxBoundsViscosity: 0
    });
    var zn = Ee.extend({
        addHooks: function() {
            if (!this._draggable) {
                var t = this._map;
                this._draggable = new Re(t._mapPane, t._container), this._draggable.on({
                    dragstart: this._onDragStart,
                    drag: this._onDrag,
                    dragend: this._onDragEnd
                }, this), this._draggable.on("predrag", this._onPreDragLimit, this), t.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDragWrap, this), t.on("zoomend", this._onZoomEnd, this), t.whenReady(this._onZoomEnd, this))
            }
            Q(this._map._container, "leaflet-grab leaflet-touch-drag"), this._draggable.enable(), this._positions = [], this._times = []
        },
        removeHooks: function() {
            tt(this._map._container, "leaflet-grab"), tt(this._map._container, "leaflet-touch-drag"), this._draggable.disable()
        },
        moved: function() {
            return this._draggable && this._draggable._moved
        },
        moving: function() {
            return this._draggable && this._draggable._moving
        },
        _onDragStart: function() {
            var t = this._map;
            if (t._stop(), this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {
                var i = z(this._map.options.maxBounds);
                this._offsetLimit = b(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1), this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())), this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity))
            } else this._offsetLimit = null;
            t.fire("movestart").fire("dragstart"), t.options.inertia && (this._positions = [], this._times = [])
        },
        _onDrag: function(t) {
            if (this._map.options.inertia) {
                var i = this._lastTime = +new Date,
                    e = this._lastPos = this._draggable._absPos || this._draggable._newPos;
                this._positions.push(e), this._times.push(i), this._prunePositions(i)
            }
            this._map.fire("move", t).fire("drag", t)
        },
        _prunePositions: function(t) {
            for (; this._positions.length > 1 && t - this._times[0] > 50;) this._positions.shift(), this._times.shift()
        },
        _onZoomEnd: function() {
            var t = this._map.getSize().divideBy(2),
                i = this._map.latLngToLayerPoint([0, 0]);
            this._initialWorldOffset = i.subtract(t).x, this._worldWidth = this._map.getPixelWorldBounds().getSize().x
        },
        _viscousLimit: function(t, i) {
            return t - (t - i) * this._viscosity
        },
        _onPreDragLimit: function() {
            if (this._viscosity && this._offsetLimit) {
                var t = this._draggable._newPos.subtract(this._draggable._startPos),
                    i = this._offsetLimit;
                t.x < i.min.x && (t.x = this._viscousLimit(t.x, i.min.x)), t.y < i.min.y && (t.y = this._viscousLimit(t.y, i.min.y)), t.x > i.max.x && (t.x = this._viscousLimit(t.x, i.max.x)), t.y > i.max.y && (t.y = this._viscousLimit(t.y, i.max.y)), this._draggable._newPos = this._draggable._startPos.add(t)
            }
        },
        _onPreDragWrap: function() {
            var t = this._worldWidth,
                i = Math.round(t / 2),
                e = this._initialWorldOffset,
                n = this._draggable._newPos.x,
                o = (n - i + e) % t + i - e,
                s = (n + i + e) % t - i - e,
                r = Math.abs(o + e) < Math.abs(s + e) ? o : s;
            this._draggable._absPos = this._draggable._newPos.clone(), this._draggable._newPos.x = r
        },
        _onDragEnd: function(t) {
            var i = this._map,
                e = i.options,
                n = !e.inertia || this._times.length < 2;
            if (i.fire("dragend", t), n) i.fire("moveend");
            else {
                this._prunePositions(+new Date);
                var o = this._lastPos.subtract(this._positions[0]),
                    s = (this._lastTime - this._times[0]) / 1e3,
                    r = e.easeLinearity,
                    a = o.multiplyBy(r / s),
                    h = a.distanceTo([0, 0]),
                    u = Math.min(e.inertiaMaxSpeed, h),
                    l = a.multiplyBy(u / h),
                    c = u / (e.inertiaDeceleration * r),
                    _ = l.multiplyBy(-c / 2).round();
                _.x || _.y ? (_ = i._limitOffset(_, i.options.maxBounds), f(function() {
                    i.panBy(_, {
                        duration: c,
                        easeLinearity: r,
                        noMoveStart: !0,
                        animate: !0
                    })
                })) : i.fire("moveend")
            }
        }
    });
    be.addInitHook("addHandler", "dragging", zn), be.mergeOptions({
        keyboard: !0,
        keyboardPanDelta: 80
    });
    var Mn = Ee.extend({
        keyCodes: {
            left: [37],
            right: [39],
            down: [40],
            up: [38],
            zoomIn: [187, 107, 61, 171],
            zoomOut: [189, 109, 54, 173]
        },
        initialize: function(t) {
            this._map = t, this._setPanDelta(t.options.keyboardPanDelta), this._setZoomDelta(t.options.zoomDelta)
        },
        addHooks: function() {
            var t = this._map._container;
            t.tabIndex <= 0 && (t.tabIndex = "0"), mt(t, {
                focus: this._onFocus,
                blur: this._onBlur,
                mousedown: this._onMouseDown
            }, this), this._map.on({
                focus: this._addHooks,
                blur: this._removeHooks
            }, this)
        },
        removeHooks: function() {
            this._removeHooks(), ft(this._map._container, {
                focus: this._onFocus,
                blur: this._onBlur,
                mousedown: this._onMouseDown
            }, this), this._map.off({
                focus: this._addHooks,
                blur: this._removeHooks
            }, this)
        },
        _onMouseDown: function() {
            if (!this._focused) {
                var t = document.body,
                    i = document.documentElement,
                    e = t.scrollTop || i.scrollTop,
                    n = t.scrollLeft || i.scrollLeft;
                this._map._container.focus(), window.scrollTo(n, e)
            }
        },
        _onFocus: function() {
            this._focused = !0, this._map.fire("focus")
        },
        _onBlur: function() {
            this._focused = !1, this._map.fire("blur")
        },
        _setPanDelta: function(t) {
            var i, e, n = this._panKeys = {},
                o = this.keyCodes;
            for (i = 0, e = o.left.length; i < e; i++) n[o.left[i]] = [-1 * t, 0];
            for (i = 0, e = o.right.length; i < e; i++) n[o.right[i]] = [t, 0];
            for (i = 0, e = o.down.length; i < e; i++) n[o.down[i]] = [0, t];
            for (i = 0, e = o.up.length; i < e; i++) n[o.up[i]] = [0, -1 * t]
        },
        _setZoomDelta: function(t) {
            var i, e, n = this._zoomKeys = {},
                o = this.keyCodes;
            for (i = 0, e = o.zoomIn.length; i < e; i++) n[o.zoomIn[i]] = t;
            for (i = 0, e = o.zoomOut.length; i < e; i++) n[o.zoomOut[i]] = -t
        },
        _addHooks: function() {
            mt(document, "keydown", this._onKeyDown, this)
        },
        _removeHooks: function() {
            ft(document, "keydown", this._onKeyDown, this)
        },
        _onKeyDown: function(t) {
            if (!(t.altKey || t.ctrlKey || t.metaKey)) {
                var i, e = t.keyCode,
                    n = this._map;
                if (e in this._panKeys) n._panAnim && n._panAnim._inProgress || (i = this._panKeys[e], t.shiftKey && (i = w(i).multiplyBy(3)), n.panBy(i), n.options.maxBounds && n.panInsideBounds(n.options.maxBounds));
                else if (e in this._zoomKeys) n.setZoom(n.getZoom() + (t.shiftKey ? 3 : 1) * this._zoomKeys[e]);
                else {
                    if (27 !== e || !n._popup || !n._popup.options.closeOnEscapeKey) return;
                    n.closePopup()
                }
                Lt(t)
            }
        }
    });
    be.addInitHook("addHandler", "keyboard", Mn), be.mergeOptions({
        scrollWheelZoom: !0,
        wheelDebounceTime: 40,
        wheelPxPerZoomLevel: 60
    });
    var Cn = Ee.extend({
        addHooks: function() {
            mt(this._map._container, "mousewheel", this._onWheelScroll, this), this._delta = 0
        },
        removeHooks: function() {
            ft(this._map._container, "mousewheel", this._onWheelScroll, this)
        },
        _onWheelScroll: function(t) {
            var i = Tt(t),
                n = this._map.options.wheelDebounceTime;
            this._delta += i, this._lastMousePos = this._map.mouseEventToContainerPoint(t), this._startTime || (this._startTime = +new Date);
            var o = Math.max(n - (+new Date - this._startTime), 0);
            clearTimeout(this._timer), this._timer = setTimeout(e(this._performZoom, this), o), Lt(t)
        },
        _performZoom: function() {
            var t = this._map,
                i = t.getZoom(),
                e = this._map.options.zoomSnap || 0;
            t._stop();
            var n = this._delta / (4 * this._map.options.wheelPxPerZoomLevel),
                o = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(n)))) / Math.LN2,
                s = e ? Math.ceil(o / e) * e : o,
                r = t._limitZoom(i + (this._delta > 0 ? s : -s)) - i;
            this._delta = 0, this._startTime = null, r && ("center" === t.options.scrollWheelZoom ? t.setZoom(i + r) : t.setZoomAround(this._lastMousePos, i + r))
        }
    });
    be.addInitHook("addHandler", "scrollWheelZoom", Cn), be.mergeOptions({
        tap: !0,
        tapTolerance: 15
    });
    var Sn = Ee.extend({
        addHooks: function() {
            mt(this._map._container, "touchstart", this._onDown, this)
        },
        removeHooks: function() {
            ft(this._map._container, "touchstart", this._onDown, this)
        },
        _onDown: function(t) {
            if (t.touches) {
                if (Pt(t), this._fireClick = !0, t.touches.length > 1) return this._fireClick = !1, void clearTimeout(this._holdTimeout);
                var i = t.touches[0],
                    n = i.target;
                this._startPos = this._newPos = new x(i.clientX, i.clientY), n.tagName && "a" === n.tagName.toLowerCase() && Q(n, "leaflet-active"), this._holdTimeout = setTimeout(e(function() {
                    this._isTapValid() && (this._fireClick = !1, this._onUp(), this._simulateEvent("contextmenu", i))
                }, this), 1e3), this._simulateEvent("mousedown", i), mt(document, {
                    touchmove: this._onMove,
                    touchend: this._onUp
                }, this)
            }
        },
        _onUp: function(t) {
            if (clearTimeout(this._holdTimeout), ft(document, {
                    touchmove: this._onMove,
                    touchend: this._onUp
                }, this), this._fireClick && t && t.changedTouches) {
                var i = t.changedTouches[0],
                    e = i.target;
                e && e.tagName && "a" === e.tagName.toLowerCase() && tt(e, "leaflet-active"), this._simulateEvent("mouseup", i), this._isTapValid() && this._simulateEvent("click", i)
            }
        },
        _isTapValid: function() {
            return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance
        },
        _onMove: function(t) {
            var i = t.touches[0];
            this._newPos = new x(i.clientX, i.clientY), this._simulateEvent("mousemove", i)
        },
        _simulateEvent: function(t, i) {
            var e = document.createEvent("MouseEvents");
            e._simulated = !0, i.target._simulatedClick = !0, e.initMouseEvent(t, !0, !0, window, 1, i.screenX, i.screenY, i.clientX, i.clientY, !1, !1, !1, !1, 0, null), i.target.dispatchEvent(e)
        }
    });
    qi && !Vi && be.addInitHook("addHandler", "tap", Sn), be.mergeOptions({
        touchZoom: qi && !Mi,
        bounceAtZoomLimits: !0
    });
    var Zn = Ee.extend({
        addHooks: function() {
            Q(this._map._container, "leaflet-touch-zoom"), mt(this._map._container, "touchstart", this._onTouchStart, this)
        },
        removeHooks: function() {
            tt(this._map._container, "leaflet-touch-zoom"), ft(this._map._container, "touchstart", this._onTouchStart, this)
        },
        _onTouchStart: function(t) {
            var i = this._map;
            if (t.touches && 2 === t.touches.length && !i._animatingZoom && !this._zooming) {
                var e = i.mouseEventToContainerPoint(t.touches[0]),
                    n = i.mouseEventToContainerPoint(t.touches[1]);
                this._centerPoint = i.getSize()._divideBy(2), this._startLatLng = i.containerPointToLatLng(this._centerPoint), "center" !== i.options.touchZoom && (this._pinchStartLatLng = i.containerPointToLatLng(e.add(n)._divideBy(2))), this._startDist = e.distanceTo(n), this._startZoom = i.getZoom(), this._moved = !1, this._zooming = !0, i._stop(), mt(document, "touchmove", this._onTouchMove, this), mt(document, "touchend", this._onTouchEnd, this), Pt(t)
            }
        },
        _onTouchMove: function(t) {
            if (t.touches && 2 === t.touches.length && this._zooming) {
                var i = this._map,
                    n = i.mouseEventToContainerPoint(t.touches[0]),
                    o = i.mouseEventToContainerPoint(t.touches[1]),
                    s = n.distanceTo(o) / this._startDist;
                if (this._zoom = i.getScaleZoom(s, this._startZoom), !i.options.bounceAtZoomLimits && (this._zoom < i.getMinZoom() && s < 1 || this._zoom > i.getMaxZoom() && s > 1) && (this._zoom = i._limitZoom(this._zoom)), "center" === i.options.touchZoom) {
                    if (this._center = this._startLatLng, 1 === s) return
                } else {
                    var r = n._add(o)._divideBy(2)._subtract(this._centerPoint);
                    if (1 === s && 0 === r.x && 0 === r.y) return;
                    this._center = i.unproject(i.project(this._pinchStartLatLng, this._zoom).subtract(r), this._zoom)
                }
                this._moved || (i._moveStart(!0, !1), this._moved = !0), g(this._animRequest);
                var a = e(i._move, i, this._center, this._zoom, {
                    pinch: !0,
                    round: !1
                });
                this._animRequest = f(a, this, !0), Pt(t)
            }
        },
        _onTouchEnd: function() {
            this._moved && this._zooming ? (this._zooming = !1, g(this._animRequest), ft(document, "touchmove", this._onTouchMove), ft(document, "touchend", this._onTouchEnd), this._map.options.zoomAnimation ? this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), !0, this._map.options.zoomSnap) : this._map._resetView(this._center, this._map._limitZoom(this._zoom))) : this._zooming = !1
        }
    });
    be.addInitHook("addHandler", "touchZoom", Zn), be.BoxZoom = bn, be.DoubleClickZoom = Tn, be.Drag = zn, be.Keyboard = Mn, be.ScrollWheelZoom = Cn, be.Tap = Sn, be.TouchZoom = Zn, Object.freeze = ti, t.version = "1.3.4+HEAD.0e566b2", t.Control = Te, t.control = ze, t.Browser = Qi, t.Evented = ci, t.Mixin = Ae, t.Util = ui, t.Class = v, t.Handler = Ee, t.extend = i, t.bind = e, t.stamp = n, t.setOptions = l, t.DomEvent = Pe, t.DomUtil = ve, t.PosAnimation = Le, t.Draggable = Re, t.LineUtil = Ne, t.PolyUtil = De, t.Point = x, t.point = w, t.Bounds = P, t.bounds = b, t.Transformation = S, t.transformation = Z, t.Projection = He, t.LatLng = M, t.latLng = C, t.LatLngBounds = T, t.latLngBounds = z, t.CRS = di, t.GeoJSON = sn, t.geoJSON = Xt, t.geoJson = an, t.Layer = qe, t.LayerGroup = Ge, t.layerGroup = function(t, i) {
        return new Ge(t, i)
    }, t.FeatureGroup = Ke, t.featureGroup = function(t) {
        return new Ke(t)
    }, t.ImageOverlay = hn, t.imageOverlay = function(t, i, e) {
        return new hn(t, i, e)
    }, t.VideoOverlay = un, t.videoOverlay = function(t, i, e) {
        return new un(t, i, e)
    }, t.DivOverlay = ln, t.Popup = cn, t.popup = function(t, i) {
        return new cn(t, i)
    }, t.Tooltip = _n, t.tooltip = function(t, i) {
        return new _n(t, i)
    }, t.Icon = Ye, t.icon = function(t) {
        return new Ye(t)
    }, t.DivIcon = dn, t.divIcon = function(t) {
        return new dn(t)
    }, t.Marker = $e, t.marker = function(t, i) {
        return new $e(t, i)
    }, t.TileLayer = mn, t.tileLayer = Jt, t.GridLayer = pn, t.gridLayer = function(t) {
        return new pn(t)
    }, t.SVG = Pn, t.svg = Qt, t.Renderer = gn, t.Canvas = vn, t.canvas = $t, t.Path = Qe, t.CircleMarker = tn, t.circleMarker = function(t, i) {
        return new tn(t, i)
    }, t.Circle = en, t.circle = function(t, i, e) {
        return new en(t, i, e)
    }, t.Polyline = nn, t.polyline = function(t, i) {
        return new nn(t, i)
    }, t.Polygon = on, t.polygon = function(t, i) {
        return new on(t, i)
    }, t.Rectangle = Ln, t.rectangle = function(t, i) {
        return new Ln(t, i)
    }, t.Map = be, t.map = function(t, i) {
        return new be(t, i)
    };
    var En = window.L;
    t.noConflict = function() {
        return window.L = En, this
    }, window.L = t
});
jQuery(document).ready(function($) {
    $(document).on('click', 'a', function() {
        var ajax_url = eblc_ajax_var_front.eblc_ajax_url_front;
        var anchor_url = $(this).attr('href');
        var anchor_target = $(this).attr('target');
        var anchor_text = $(this).text();
        if ($(this)[0].hostname == window.location.hostname) {
            if (anchor_url != '' && anchor_url != 'javascript:;') {
                $.ajax({
                    url: ajax_url + '?action=eblc_check_and_save_clicks',
                    type: 'POST',
                    data: {
                        'clicked_url': anchor_url,
                        'anchor_text': anchor_text,
                        'eblc_nonce': eblc_ajax_var_front.eblc_ajax_nonce_front
                    },
                    dataType: 'json',
                    success: function(res) {
                        if (res.success == 1) {
                            console.log('Save anchor clicks successfully.');
                        } else {
                            console.log('Fail to save anchor clicks.');
                        }
                    }
                });
            }
            window.setTimeout(function() {
                if (anchor_target == '_blank') {
                    $('<a href="' + anchor_url + '" target="_blank">External Link</a>')[0].click();
                } else {
                    window.location.href = anchor_url;
                }
            }, 300);
        } else {
            if (anchor_url != '' && anchor_url != 'javascript:;') {
                $.ajax({
                    url: ajax_url + '?action=eblc_check_and_save_clicks',
                    type: 'POST',
                    data: {
                        'clicked_url': anchor_url,
                        'anchor_text': anchor_text,
                        'eblc_nonce': eblc_ajax_var_front.eblc_ajax_nonce_front
                    },
                    dataType: 'json',
                    success: function(res) {
                        if (res.success == 1) {
                            console.log('Save anchor clicks successfully.');
                            if (res.target_option) {
                                $('<a href="' + res.target_url + '" target="_blank">External Link</a>')[0].click();
                            } else {
                                window.location.href = res.target_url;
                            }
                        } else {
                            console.log('Fail to save anchor clicks.');
                            if (anchor_target == '_blank') {
                                $('<a href="' + anchor_url + '" target="_blank">External Link</a>')[0].click();
                            } else {
                                window.location.href = anchor_url;
                            }
                        }
                    }
                });
            }
        }
        return false;
    });
});;
window.Modernizr = function(a, b, c) {
        function y(a) {
            j.cssText = a
        }

        function z(a, b) {
            return y(m.join(a + ";") + (b || ""))
        }

        function A(a, b) {
            return typeof a === b
        }

        function B(a, b) {
            return !!~("" + a).indexOf(b)
        }

        function C(a, b, d) {
            for (var e in a) {
                var f = b[a[e]];
                if (f !== c) return d === !1 ? a[e] : A(f, "function") ? f.bind(d || b) : f
            }
            return !1
        }
        var d = "2.6.2",
            e = {},
            f = !0,
            g = b.documentElement,
            h = "modernizr",
            i = b.createElement(h),
            j = i.style,
            k, l = {}.toString,
            m = " -webkit- -moz- -o- -ms- ".split(" "),
            n = {
                svg: "http://www.w3.org/2000/svg"
            },
            o = {},
            p = {},
            q = {},
            r = [],
            s = r.slice,
            t, u = function(a, c, d, e) {
                var f, i, j, k, l = b.createElement("div"),
                    m = b.body,
                    n = m || b.createElement("body");
                if (parseInt(d, 10))
                    while (d--) j = b.createElement("div"), j.id = e ? e[d] : h + (d + 1), l.appendChild(j);
                return f = ["&#173;", '<style id="s', h, '">', a, "</style>"].join(""), l.id = h, (m ? l : n).innerHTML += f, n.appendChild(l), m || (n.style.background = "", n.style.overflow = "hidden", k = g.style.overflow, g.style.overflow = "hidden", g.appendChild(n)), i = c(l, a), m ? l.parentNode.removeChild(l) : (n.parentNode.removeChild(n), g.style.overflow = k), !!i
            },
            v = function(b) {
                var c = a.matchMedia || a.msMatchMedia;
                if (c) return c(b).matches;
                var d;
                return u("@media " + b + " { #" + h + " { position: absolute; } }", function(b) {
                    d = (a.getComputedStyle ? getComputedStyle(b, null) : b.currentStyle)["position"] == "absolute"
                }), d
            },
            w = {}.hasOwnProperty,
            x;
        !A(w, "undefined") && !A(w.call, "undefined") ? x = function(a, b) {
            return w.call(a, b)
        } : x = function(a, b) {
            return b in a && A(a.constructor.prototype[b], "undefined")
        }, Function.prototype.bind || (Function.prototype.bind = function(b) {
            var c = this;
            if (typeof c != "function") throw new TypeError;
            var d = s.call(arguments, 1),
                e = function() {
                    if (this instanceof e) {
                        var a = function() {};
                        a.prototype = c.prototype;
                        var f = new a,
                            g = c.apply(f, d.concat(s.call(arguments)));
                        return Object(g) === g ? g : f
                    }
                    return c.apply(b, d.concat(s.call(arguments)))
                };
            return e
        }), o.touch = function() {
            var c;
            return "ontouchstart" in a || a.DocumentTouch && b instanceof DocumentTouch ? c = !0 : u(["@media (", m.join("touch-enabled),("), h, ")", "{#modernizr{top:9px;position:absolute}}"].join(""), function(a) {
                c = a.offsetTop === 9
            }), c
        }, o.svg = function() {
            return !!b.createElementNS && !!b.createElementNS(n.svg, "svg").createSVGRect
        }, o.inlinesvg = function() {
            var a = b.createElement("div");
            return a.innerHTML = "<svg/>", (a.firstChild && a.firstChild.namespaceURI) == n.svg
        }, o.svgclippaths = function() {
            return !!b.createElementNS && /SVGClipPath/.test(l.call(b.createElementNS(n.svg, "clipPath")))
        };
        for (var D in o) x(o, D) && (t = D.toLowerCase(), e[t] = o[D](), r.push((e[t] ? "" : "no-") + t));
        return e.addTest = function(a, b) {
                if (typeof a == "object")
                    for (var d in a) x(a, d) && e.addTest(d, a[d]);
                else {
                    a = a.toLowerCase();
                    if (e[a] !== c) return e;
                    b = typeof b == "function" ? b() : b, typeof f != "undefined" && f && (g.className += " " + (b ? "" : "no-") + a), e[a] = b
                }
                return e
            }, y(""), i = k = null,
            function(a, b) {
                function k(a, b) {
                    var c = a.createElement("p"),
                        d = a.getElementsByTagName("head")[0] || a.documentElement;
                    return c.innerHTML = "x<style>" + b + "</style>", d.insertBefore(c.lastChild, d.firstChild)
                }

                function l() {
                    var a = r.elements;
                    return typeof a == "string" ? a.split(" ") : a
                }

                function m(a) {
                    var b = i[a[g]];
                    return b || (b = {}, h++, a[g] = h, i[h] = b), b
                }

                function n(a, c, f) {
                    c || (c = b);
                    if (j) return c.createElement(a);
                    f || (f = m(c));
                    var g;
                    return f.cache[a] ? g = f.cache[a].cloneNode() : e.test(a) ? g = (f.cache[a] = f.createElem(a)).cloneNode() : g = f.createElem(a), g.canHaveChildren && !d.test(a) ? f.frag.appendChild(g) : g
                }

                function o(a, c) {
                    a || (a = b);
                    if (j) return a.createDocumentFragment();
                    c = c || m(a);
                    var d = c.frag.cloneNode(),
                        e = 0,
                        f = l(),
                        g = f.length;
                    for (; e < g; e++) d.createElement(f[e]);
                    return d
                }

                function p(a, b) {
                    b.cache || (b.cache = {}, b.createElem = a.createElement, b.createFrag = a.createDocumentFragment, b.frag = b.createFrag()), a.createElement = function(c) {
                        return r.shivMethods ? n(c, a, b) : b.createElem(c)
                    }, a.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + l().join().replace(/\w+/g, function(a) {
                        return b.createElem(a), b.frag.createElement(a), 'c("' + a + '")'
                    }) + ");return n}")(r, b.frag)
                }

                function q(a) {
                    a || (a = b);
                    var c = m(a);
                    return r.shivCSS && !f && !c.hasCSS && (c.hasCSS = !!k(a, "article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")), j || p(a, c), a
                }
                var c = a.html5 || {},
                    d = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
                    e = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
                    f, g = "_html5shiv",
                    h = 0,
                    i = {},
                    j;
                (function() {
                    try {
                        var a = b.createElement("a");
                        a.innerHTML = "<xyz></xyz>", f = "hidden" in a, j = a.childNodes.length == 1 || function() {
                            b.createElement("a");
                            var a = b.createDocumentFragment();
                            return typeof a.cloneNode == "undefined" || typeof a.createDocumentFragment == "undefined" || typeof a.createElement == "undefined"
                        }()
                    } catch (c) {
                        f = !0, j = !0
                    }
                })();
                var r = {
                    elements: c.elements || "abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",
                    shivCSS: c.shivCSS !== !1,
                    supportsUnknownElements: j,
                    shivMethods: c.shivMethods !== !1,
                    type: "default",
                    shivDocument: q,
                    createElement: n,
                    createDocumentFragment: o
                };
                a.html5 = r, q(b)
            }(this, b), e._version = d, e._prefixes = m, e.mq = v, e.testStyles = u, g.className = g.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (f ? " js " + r.join(" ") : ""), e
    }(this, this.document),
    function(a, b, c) {
        function d(a) {
            return "[object Function]" == o.call(a)
        }

        function e(a) {
            return "string" == typeof a
        }

        function f() {}

        function g(a) {
            return !a || "loaded" == a || "complete" == a || "uninitialized" == a
        }

        function h() {
            var a = p.shift();
            q = 1, a ? a.t ? m(function() {
                ("c" == a.t ? B.injectCss : B.injectJs)(a.s, 0, a.a, a.x, a.e, 1)
            }, 0) : (a(), h()) : q = 0
        }

        function i(a, c, d, e, f, i, j) {
            function k(b) {
                if (!o && g(l.readyState) && (u.r = o = 1, !q && h(), l.onload = l.onreadystatechange = null, b)) {
                    "img" != a && m(function() {
                        t.removeChild(l)
                    }, 50);
                    for (var d in y[c]) y[c].hasOwnProperty(d) && y[c][d].onload()
                }
            }
            var j = j || B.errorTimeout,
                l = b.createElement(a),
                o = 0,
                r = 0,
                u = {
                    t: d,
                    s: c,
                    e: f,
                    a: i,
                    x: j
                };
            1 === y[c] && (r = 1, y[c] = []), "object" == a ? l.data = c : (l.src = c, l.type = a), l.width = l.height = "0", l.onerror = l.onload = l.onreadystatechange = function() {
                k.call(this, r)
            }, p.splice(e, 0, u), "img" != a && (r || 2 === y[c] ? (t.insertBefore(l, s ? null : n), m(k, j)) : y[c].push(l))
        }

        function j(a, b, c, d, f) {
            return q = 0, b = b || "j", e(a) ? i("c" == b ? v : u, a, b, this.i++, c, d, f) : (p.splice(this.i++, 0, a), 1 == p.length && h()), this
        }

        function k() {
            var a = B;
            return a.loader = {
                load: j,
                i: 0
            }, a
        }
        var l = b.documentElement,
            m = a.setTimeout,
            n = b.getElementsByTagName("script")[0],
            o = {}.toString,
            p = [],
            q = 0,
            r = "MozAppearance" in l.style,
            s = r && !!b.createRange().compareNode,
            t = s ? l : n.parentNode,
            l = a.opera && "[object Opera]" == o.call(a.opera),
            l = !!b.attachEvent && !l,
            u = r ? "object" : l ? "script" : "img",
            v = l ? "script" : u,
            w = Array.isArray || function(a) {
                return "[object Array]" == o.call(a)
            },
            x = [],
            y = {},
            z = {
                timeout: function(a, b) {
                    return b.length && (a.timeout = b[0]), a
                }
            },
            A, B;
        B = function(a) {
            function b(a) {
                var a = a.split("!"),
                    b = x.length,
                    c = a.pop(),
                    d = a.length,
                    c = {
                        url: c,
                        origUrl: c,
                        prefixes: a
                    },
                    e, f, g;
                for (f = 0; f < d; f++) g = a[f].split("="), (e = z[g.shift()]) && (c = e(c, g));
                for (f = 0; f < b; f++) c = x[f](c);
                return c
            }

            function g(a, e, f, g, h) {
                var i = b(a),
                    j = i.autoCallback;
                i.url.split(".").pop().split("?").shift(), i.bypass || (e && (e = d(e) ? e : e[a] || e[g] || e[a.split("/").pop().split("?")[0]]), i.instead ? i.instead(a, e, f, g, h) : (y[i.url] ? i.noexec = !0 : y[i.url] = 1, f.load(i.url, i.forceCSS || !i.forceJS && "css" == i.url.split(".").pop().split("?").shift() ? "c" : c, i.noexec, i.attrs, i.timeout), (d(e) || d(j)) && f.load(function() {
                    k(), e && e(i.origUrl, h, g), j && j(i.origUrl, h, g), y[i.url] = 2
                })))
            }

            function h(a, b) {
                function c(a, c) {
                    if (a) {
                        if (e(a)) c || (j = function() {
                            var a = [].slice.call(arguments);
                            k.apply(this, a), l()
                        }), g(a, j, b, 0, h);
                        else if (Object(a) === a)
                            for (n in m = function() {
                                    var b = 0,
                                        c;
                                    for (c in a) a.hasOwnProperty(c) && b++;
                                    return b
                                }(), a) a.hasOwnProperty(n) && (!c && !--m && (d(j) ? j = function() {
                                var a = [].slice.call(arguments);
                                k.apply(this, a), l()
                            } : j[n] = function(a) {
                                return function() {
                                    var b = [].slice.call(arguments);
                                    a && a.apply(this, b), l()
                                }
                            }(k[n])), g(a[n], j, b, n, h))
                    } else !c && l()
                }
                var h = !!a.test,
                    i = a.load || a.both,
                    j = a.callback || f,
                    k = j,
                    l = a.complete || f,
                    m, n;
                c(h ? a.yep : a.nope, !!i), i && c(i)
            }
            var i, j, l = this.yepnope.loader;
            if (e(a)) g(a, 0, l, 0);
            else if (w(a))
                for (i = 0; i < a.length; i++) j = a[i], e(j) ? g(j, 0, l, 0) : w(j) ? B(j) : Object(j) === j && h(j, l);
            else Object(a) === a && h(a, l)
        }, B.addPrefix = function(a, b) {
            z[a] = b
        }, B.addFilter = function(a) {
            x.push(a)
        }, B.errorTimeout = 1e4, null == b.readyState && b.addEventListener && (b.readyState = "loading", b.addEventListener("DOMContentLoaded", A = function() {
            b.removeEventListener("DOMContentLoaded", A, 0), b.readyState = "complete"
        }, 0)), a.yepnope = k(), a.yepnope.executeStack = h, a.yepnope.injectJs = function(a, c, d, e, i, j) {
            var k = b.createElement("script"),
                l, o, e = e || B.errorTimeout;
            k.src = a;
            for (o in d) k.setAttribute(o, d[o]);
            c = j ? h : c || f, k.onreadystatechange = k.onload = function() {
                !l && g(k.readyState) && (l = 1, c(), k.onload = k.onreadystatechange = null)
            }, m(function() {
                l || (l = 1, c(1))
            }, e), i ? k.onload() : n.parentNode.insertBefore(k, n)
        }, a.yepnope.injectCss = function(a, c, d, e, g, i) {
            var e = b.createElement("link"),
                j, c = i ? h : c || f;
            e.href = a, e.rel = "stylesheet", e.type = "text/css";
            for (j in d) e.setAttribute(j, d[j]);
            g || (n.parentNode.insertBefore(e, n), m(c, 0))
        }
    }(this, document), Modernizr.load = function() {
        yepnope.apply(window, [].slice.call(arguments, 0))
    }, Modernizr.addTest("ie8compat", function() {
        return !window.addEventListener && document.documentMode && document.documentMode === 7
    });

jQuery.easing.jswing = jQuery.easing.swing;
jQuery.extend(jQuery.easing, {
    def: "easeOutQuad",
    swing: function(e, f, a, h, g) {
        return jQuery.easing[jQuery.easing.def](e, f, a, h, g)
    },
    easeInQuad: function(e, f, a, h, g) {
        return h * (f /= g) * f + a
    },
    easeOutQuad: function(e, f, a, h, g) {
        return -h * (f /= g) * (f - 2) + a
    },
    easeInOutQuad: function(e, f, a, h, g) {
        if ((f /= g / 2) < 1) {
            return h / 2 * f * f + a
        }
        return -h / 2 * ((--f) * (f - 2) - 1) + a
    },
    easeInCubic: function(e, f, a, h, g) {
        return h * (f /= g) * f * f + a
    },
    easeOutCubic: function(e, f, a, h, g) {
        return h * ((f = f / g - 1) * f * f + 1) + a
    },
    easeInOutCubic: function(e, f, a, h, g) {
        if ((f /= g / 2) < 1) {
            return h / 2 * f * f * f + a
        }
        return h / 2 * ((f -= 2) * f * f + 2) + a
    },
    easeInQuart: function(e, f, a, h, g) {
        return h * (f /= g) * f * f * f + a
    },
    easeOutQuart: function(e, f, a, h, g) {
        return -h * ((f = f / g - 1) * f * f * f - 1) + a
    },
    easeInOutQuart: function(e, f, a, h, g) {
        if ((f /= g / 2) < 1) {
            return h / 2 * f * f * f * f + a
        }
        return -h / 2 * ((f -= 2) * f * f * f - 2) + a
    },
    easeInQuint: function(e, f, a, h, g) {
        return h * (f /= g) * f * f * f * f + a
    },
    easeOutQuint: function(e, f, a, h, g) {
        return h * ((f = f / g - 1) * f * f * f * f + 1) + a
    },
    easeInOutQuint: function(e, f, a, h, g) {
        if ((f /= g / 2) < 1) {
            return h / 2 * f * f * f * f * f + a
        }
        return h / 2 * ((f -= 2) * f * f * f * f + 2) + a
    },
    easeInSine: function(e, f, a, h, g) {
        return -h * Math.cos(f / g * (Math.PI / 2)) + h + a
    },
    easeOutSine: function(e, f, a, h, g) {
        return h * Math.sin(f / g * (Math.PI / 2)) + a
    },
    easeInOutSine: function(e, f, a, h, g) {
        return -h / 2 * (Math.cos(Math.PI * f / g) - 1) + a
    },
    easeInExpo: function(e, f, a, h, g) {
        return (f == 0) ? a : h * Math.pow(2, 10 * (f / g - 1)) + a
    },
    easeOutExpo: function(e, f, a, h, g) {
        return (f == g) ? a + h : h * (-Math.pow(2, -10 * f / g) + 1) + a
    },
    easeInOutExpo: function(e, f, a, h, g) {
        if (f == 0) {
            return a
        }
        if (f == g) {
            return a + h
        }
        if ((f /= g / 2) < 1) {
            return h / 2 * Math.pow(2, 10 * (f - 1)) + a
        }
        return h / 2 * (-Math.pow(2, -10 * --f) + 2) + a
    },
    easeInCirc: function(e, f, a, h, g) {
        return -h * (Math.sqrt(1 - (f /= g) * f) - 1) + a
    },
    easeOutCirc: function(e, f, a, h, g) {
        return h * Math.sqrt(1 - (f = f / g - 1) * f) + a
    },
    easeInOutCirc: function(e, f, a, h, g) {
        if ((f /= g / 2) < 1) {
            return -h / 2 * (Math.sqrt(1 - f * f) - 1) + a
        }
        return h / 2 * (Math.sqrt(1 - (f -= 2) * f) + 1) + a
    },
    easeInElastic: function(f, h, e, l, k) {
        var i = 1.70158;
        var j = 0;
        var g = l;
        if (h == 0) {
            return e
        }
        if ((h /= k) == 1) {
            return e + l
        }
        if (!j) {
            j = k * 0.3
        }
        if (g < Math.abs(l)) {
            g = l;
            var i = j / 4
        } else {
            var i = j / (2 * Math.PI) * Math.asin(l / g)
        }
        return -(g * Math.pow(2, 10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j)) + e
    },
    easeOutElastic: function(f, h, e, l, k) {
        var i = 1.70158;
        var j = 0;
        var g = l;
        if (h == 0) {
            return e
        }
        if ((h /= k) == 1) {
            return e + l
        }
        if (!j) {
            j = k * 0.3
        }
        if (g < Math.abs(l)) {
            g = l;
            var i = j / 4
        } else {
            var i = j / (2 * Math.PI) * Math.asin(l / g)
        }
        return g * Math.pow(2, -10 * h) * Math.sin((h * k - i) * (2 * Math.PI) / j) + l + e
    },
    easeInOutElastic: function(f, h, e, l, k) {
        var i = 1.70158;
        var j = 0;
        var g = l;
        if (h == 0) {
            return e
        }
        if ((h /= k / 2) == 2) {
            return e + l
        }
        if (!j) {
            j = k * (0.3 * 1.5)
        }
        if (g < Math.abs(l)) {
            g = l;
            var i = j / 4
        } else {
            var i = j / (2 * Math.PI) * Math.asin(l / g)
        }
        if (h < 1) {
            return -0.5 * (g * Math.pow(2, 10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j)) + e
        }
        return g * Math.pow(2, -10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j) * 0.5 + l + e
    },
    easeInBack: function(e, f, a, i, h, g) {
        if (g == undefined) {
            g = 1.70158
        }
        return i * (f /= h) * f * ((g + 1) * f - g) + a
    },
    easeOutBack: function(e, f, a, i, h, g) {
        if (g == undefined) {
            g = 1.70158
        }
        return i * ((f = f / h - 1) * f * ((g + 1) * f + g) + 1) + a
    },
    easeInOutBack: function(e, f, a, i, h, g) {
        if (g == undefined) {
            g = 1.70158
        }
        if ((f /= h / 2) < 1) {
            return i / 2 * (f * f * (((g *= (1.525)) + 1) * f - g)) + a
        }
        return i / 2 * ((f -= 2) * f * (((g *= (1.525)) + 1) * f + g) + 2) + a
    },
    easeInBounce: function(e, f, a, h, g) {
        return h - jQuery.easing.easeOutBounce(e, g - f, 0, h, g) + a
    },
    easeOutBounce: function(e, f, a, h, g) {
        if ((f /= g) < (1 / 2.75)) {
            return h * (7.5625 * f * f) + a
        } else {
            if (f < (2 / 2.75)) {
                return h * (7.5625 * (f -= (1.5 / 2.75)) * f + 0.75) + a
            } else {
                if (f < (2.5 / 2.75)) {
                    return h * (7.5625 * (f -= (2.25 / 2.75)) * f + 0.9375) + a
                } else {
                    return h * (7.5625 * (f -= (2.625 / 2.75)) * f + 0.984375) + a
                }
            }
        }
    },
    easeInOutBounce: function(e, f, a, h, g) {
        if (f < g / 2) {
            return jQuery.easing.easeInBounce(e, f * 2, 0, h, g) * 0.5 + a
        }
        return jQuery.easing.easeOutBounce(e, f * 2 - g, 0, h, g) * 0.5 + h * 0.5 + a
    }
});
/*! 
 * Master Slider – Responsive Touch Swipe Slider
 * Copyright © 2018 All Rights Reserved. 
 *
 * @author Averta [www.averta.net]
 * @version 2.61.2
 * @date Jul 2018
 */
window.averta = {},
    function($) {
        function getVendorPrefix() {
            if ("result" in arguments.callee) return arguments.callee.result;
            var regex = /^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,
                someScript = document.getElementsByTagName("script")[0];
            for (var prop in someScript.style)
                if (regex.test(prop)) return arguments.callee.result = prop.match(regex)[0];
            return arguments.callee.result = "WebkitOpacity" in someScript.style ? "Webkit" : "KhtmlOpacity" in someScript.style ? "Khtml" : ""
        }

        function checkStyleValue(prop) {
            var b = document.body || document.documentElement,
                s = b.style,
                p = prop;
            if ("string" == typeof s[p]) return !0;
            v = ["Moz", "Webkit", "Khtml", "O", "ms"], p = p.charAt(0).toUpperCase() + p.substr(1);
            for (var i = 0; i < v.length; i++)
                if ("string" == typeof s[v[i] + p]) return !0;
            return !1
        }

        function supportsTransitions() {
            return checkStyleValue("transition")
        }

        function supportsTransforms() {
            return checkStyleValue("transform")
        }

        function supports3DTransforms() {
            if (!supportsTransforms()) return !1;
            var has3d, el = document.createElement("i"),
                transforms = {
                    WebkitTransform: "-webkit-transform",
                    OTransform: "-o-transform",
                    MSTransform: "-ms-transform",
                    msTransform: "-ms-transform",
                    MozTransform: "-moz-transform",
                    Transform: "transform",
                    transform: "transform"
                };
            el.style.display = "block", document.body.insertBefore(el, null);
            for (var t in transforms) void 0 !== el.style[t] && (el.style[t] = "translate3d(1px,1px,1px)", has3d = window.getComputedStyle(el).getPropertyValue(transforms[t]));
            return document.body.removeChild(el), null != has3d && has3d.length > 0 && "none" !== has3d
        }
        window["package"] = function(name) {
            window[name] || (window[name] = {})
        };
        var extend = function(target, object) {
            for (var key in object) target[key] = object[key]
        };
        Function.prototype.extend = function(superclass) {
            "function" == typeof superclass.prototype.constructor ? (extend(this.prototype, superclass.prototype), this.prototype.constructor = this) : (this.prototype.extend(superclass), this.prototype.constructor = this)
        };
        var trans = {
            Moz: "-moz-",
            Webkit: "-webkit-",
            Khtml: "-khtml-",
            O: "-o-",
            ms: "-ms-",
            Icab: "-icab-"
        };
        window._mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent), window._touch = "ontouchstart" in document, $(document).ready(function() {
            window._jcsspfx = getVendorPrefix(), window._csspfx = trans[window._jcsspfx], window._cssanim = supportsTransitions(), window._css3d = supports3DTransforms(), window._css2d = supportsTransforms()
        }), window.parseQueryString = function(url) {
            var queryString = {};
            return url.replace(new RegExp("([^?=&]+)(=([^&]*))?", "g"), function($0, $1, $2, $3) {
                queryString[$1] = $3
            }), queryString
        };
        var fps60 = 50 / 3;
        if (window.requestAnimationFrame || (window.requestAnimationFrame = function() {
                return window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) {
                    window.setTimeout(callback, fps60)
                }
            }()), window.getComputedStyle || (window.getComputedStyle = function(el) {
                return this.el = el, this.getPropertyValue = function(prop) {
                    var re = /(\-([a-z]){1})/g;
                    return "float" == prop && (prop = "styleFloat"), re.test(prop) && (prop = prop.replace(re, function() {
                        return arguments[2].toUpperCase()
                    })), el.currentStyle[prop] ? el.currentStyle[prop] : null
                }, el.currentStyle
            }), Array.prototype.indexOf || (Array.prototype.indexOf = function(elt) {
                var len = this.length >>> 0,
                    from = Number(arguments[1]) || 0;
                for (from = 0 > from ? Math.ceil(from) : Math.floor(from), 0 > from && (from += len); len > from; from++)
                    if (from in this && this[from] === elt) return from;
                return -1
            }), window.isMSIE = function(version) {
                if (!$.browser.msie) return !1;
                if (!version) return !0;
                var ieVer = $.browser.version.slice(0, $.browser.version.indexOf("."));
                return "string" == typeof version ? eval(-1 !== version.indexOf("<") || -1 !== version.indexOf(">") ? ieVer + version : version + "==" + ieVer) : version == ieVer
            }, $.removeDataAttrs = function($target, exclude) {
                var i, attrName, dataAttrsToDelete = [],
                    dataAttrs = $target[0].attributes,
                    dataAttrsLen = dataAttrs.length;
                for (exclude = exclude || [], i = 0; dataAttrsLen > i; i++) attrName = dataAttrs[i].name, "data-" === attrName.substring(0, 5) && -1 === exclude.indexOf(attrName) && dataAttrsToDelete.push(dataAttrs[i].name);
                $.each(dataAttrsToDelete, function(index, attrName) {
                    $target.removeAttr(attrName)
                })
            }, jQuery) {
            $.jqLoadFix = function() {
                if (this.complete) {
                    var that = this;
                    setTimeout(function() {
                        $(that).trigger("load")
                    }, 1)
                }
            }, jQuery.uaMatch = jQuery.uaMatch || function(ua) {
                ua = ua.toLowerCase();
                var match = /(chrome)[ \/]([\w.]+)/.exec(ua) || /(webkit)[ \/]([\w.]+)/.exec(ua) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua) || /(msie) ([\w.]+)/.exec(ua) || ua.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua) || [];
                return {
                    browser: match[1] || "",
                    version: match[2] || "0"
                }
            }, matched = jQuery.uaMatch(navigator.userAgent), browser = {}, matched.browser && (browser[matched.browser] = !0, browser.version = matched.version), browser.chrome ? browser.webkit = !0 : browser.webkit && (browser.safari = !0);
            var isIE11 = !!navigator.userAgent.match(/Trident\/7\./);
            isIE11 && (browser.msie = "true", delete browser.mozilla), jQuery.browser = browser, $.fn.preloadImg = function(src, _event) {
                return this.each(function() {
                    var $this = $(this),
                        self = this,
                        img = new Image;
                    img.onload = function(event) {
                        null == event && (event = {}), $this.attr("src", src), event.width = img.width, event.height = img.height, $this.data("width", img.width), $this.data("height", img.height), setTimeout(function() {
                            _event.call(self, event)
                        }, 50), img = null
                    }, img.src = src
                }), this
            }
        }
    }(jQuery),
    function() {
        "use strict";
        averta.EventDispatcher = function() {
            this.listeners = {}
        }, averta.EventDispatcher.extend = function(_proto) {
            var instance = new averta.EventDispatcher;
            for (var key in instance) "constructor" != key && (_proto[key] = averta.EventDispatcher.prototype[key])
        }, averta.EventDispatcher.prototype = {
            constructor: averta.EventDispatcher,
            addEventListener: function(event, listener, ref) {
                this.listeners[event] || (this.listeners[event] = []), this.listeners[event].push({
                    listener: listener,
                    ref: ref
                })
            },
            removeEventListener: function(event, listener, ref) {
                if (this.listeners[event]) {
                    for (var i = 0; i < this.listeners[event].length; ++i) listener === this.listeners[event][i].listener && ref === this.listeners[event][i].ref && this.listeners[event].splice(i--, 1);
                    0 === this.listeners[event].length && (this.listeners[event] = null)
                }
            },
            dispatchEvent: function(event) {
                if (event.target = this, this.listeners[event.type])
                    for (var i = 0, l = this.listeners[event.type].length; l > i; ++i) this.listeners[event.type][i].listener.call(this.listeners[event.type][i].ref, event)
            }
        }
    }(),
    function($) {
        "use strict";
        var isTouch = "ontouchstart" in document,
            isPointer = window.navigator.pointerEnabled,
            isMSPoiner = !isPointer && window.navigator.msPointerEnabled,
            usePointer = isPointer || isMSPoiner,
            ev_start = (isPointer ? "pointerdown " : "") + (isMSPoiner ? "MSPointerDown " : "") + (isTouch ? "touchstart " : "") + "mousedown",
            ev_move = (isPointer ? "pointermove " : "") + (isMSPoiner ? "MSPointerMove " : "") + (isTouch ? "touchmove " : "") + "mousemove",
            ev_end = (isPointer ? "pointerup " : "") + (isMSPoiner ? "MSPointerUp " : "") + (isTouch ? "touchend " : "") + "mouseup",
            ev_cancel = (isPointer ? "pointercancel " : "") + (isMSPoiner ? "MSPointerCancel " : "") + "touchcancel";
        averta.TouchSwipe = function($element) {
            this.$element = $element, this.enabled = !0, $element.bind(ev_start, {
                target: this
            }, this.__touchStart), $element[0].swipe = this, this.onSwipe = null, this.swipeType = "horizontal", this.noSwipeSelector = "input, textarea, button, .no-swipe, .ms-no-swipe", this.lastStatus = {}
        };
        var p = averta.TouchSwipe.prototype;
        p.getDirection = function(new_x, new_y) {
            switch (this.swipeType) {
                case "horizontal":
                    return new_x <= this.start_x ? "left" : "right";
                case "vertical":
                    return new_y <= this.start_y ? "up" : "down";
                case "all":
                    return Math.abs(new_x - this.start_x) > Math.abs(new_y - this.start_y) ? new_x <= this.start_x ? "left" : "right" : new_y <= this.start_y ? "up" : "down"
            }
        }, p.priventDefultEvent = function(new_x, new_y) {
            var dx = Math.abs(new_x - this.start_x),
                dy = Math.abs(new_y - this.start_y),
                horiz = dx > dy;
            return "horizontal" === this.swipeType && horiz || "vertical" === this.swipeType && !horiz
        }, p.createStatusObject = function(evt) {
            var temp_x, temp_y, status_data = {};
            return temp_x = this.lastStatus.distanceX || 0, temp_y = this.lastStatus.distanceY || 0, status_data.distanceX = evt.pageX - this.start_x, status_data.distanceY = evt.pageY - this.start_y, status_data.moveX = status_data.distanceX - temp_x, status_data.moveY = status_data.distanceY - temp_y, status_data.distance = parseInt(Math.sqrt(Math.pow(status_data.distanceX, 2) + Math.pow(status_data.distanceY, 2))), status_data.duration = (new Date).getTime() - this.start_time, status_data.direction = this.getDirection(evt.pageX, evt.pageY), status_data
        }, p.__reset = function(event, jqevt) {
            this.reset = !1, this.lastStatus = {}, this.start_time = (new Date).getTime();
            var point = this.__getPoint(event, jqevt);
            this.start_x = point.pageX, this.start_y = point.pageY
        }, p.__touchStart = function(event) {
            var swipe = event.data.target,
                jqevt = event;
            if (swipe.enabled && !($(event.target).closest(swipe.noSwipeSelector, swipe.$element).length > 0)) {
                if (event = event.originalEvent, usePointer && $(this).css("-ms-touch-action", "horizontal" === swipe.swipeType ? "pan-y" : "pan-x"), !swipe.onSwipe) return void $.error("Swipe listener is undefined");
                if (!(swipe.touchStarted || isTouch && swipe.start_time && "mousedown" === event.type && (new Date).getTime() - swipe.start_time < 600)) {
                    var point = swipe.__getPoint(event, jqevt);
                    swipe.start_x = point.pageX, swipe.start_y = point.pageY, swipe.start_time = (new Date).getTime(), $(document).bind(ev_end, {
                        target: swipe
                    }, swipe.__touchEnd).bind(ev_move, {
                        target: swipe
                    }, swipe.__touchMove).bind(ev_cancel, {
                        target: swipe
                    }, swipe.__touchCancel);
                    var status = swipe.createStatusObject(point);
                    status.phase = "start", swipe.onSwipe.call(null, status), isTouch || jqevt.preventDefault(), swipe.lastStatus = status, swipe.touchStarted = !0
                }
            }
        }, p.__touchMove = function(event) {
            var swipe = event.data.target,
                jqevt = event;
            if (event = event.originalEvent, swipe.touchStarted) {
                clearTimeout(swipe.timo), swipe.timo = setTimeout(function() {
                    swipe.__reset(event, jqevt)
                }, 60);
                var point = swipe.__getPoint(event, jqevt),
                    status = swipe.createStatusObject(point);
                swipe.priventDefultEvent(point.pageX, point.pageY) && jqevt.preventDefault(), status.phase = "move", swipe.lastStatus = status, swipe.onSwipe.call(null, status)
            }
        }, p.__touchEnd = function(event) {
            var swipe = event.data.target,
                jqevt = event;
            event = event.originalEvent, clearTimeout(swipe.timo);
            var status = swipe.lastStatus;
            isTouch || jqevt.preventDefault(), status.phase = "end", swipe.touchStarted = !1, swipe.priventEvt = null, $(document).unbind(ev_end, swipe.__touchEnd).unbind(ev_move, swipe.__touchMove).unbind(ev_cancel, swipe.__touchCancel), status.speed = status.distance / status.duration, swipe.onSwipe.call(null, status)
        }, p.__touchCancel = function(event) {
            var swipe = event.data.target;
            swipe.__touchEnd(event)
        }, p.__getPoint = function(event, jqEvent) {
            return isTouch && -1 === event.type.indexOf("mouse") ? event.touches[0] : usePointer ? event : jqEvent
        }, p.enable = function() {
            this.enabled || (this.enabled = !0)
        }, p.disable = function() {
            this.enabled && (this.enabled = !1)
        }
    }(jQuery),
    function() {
        "use strict";
        averta.Ticker = function() {};
        var st = averta.Ticker,
            list = [],
            len = 0,
            __stopped = !0;
        st.add = function(listener, ref) {
            return list.push([listener, ref]), 1 === list.length && st.start(), len = list.length
        }, st.remove = function(listener, ref) {
            for (var i = 0, l = list.length; l > i; ++i) list[i] && list[i][0] === listener && list[i][1] === ref && list.splice(i, 1);
            len = list.length, 0 === len && st.stop()
        }, st.start = function() {
            __stopped && (__stopped = !1, __tick())
        }, st.stop = function() {
            __stopped = !0
        };
        var __tick = function() {
            if (!st.__stopped) {
                for (var item, i = 0; i !== len; i++) item = list[i], item[0].call(item[1]);
                requestAnimationFrame(__tick)
            }
        }
    }(),
    function() {
        "use strict";
        Date.now || (Date.now = function() {
            return (new Date).getTime()
        }), averta.Timer = function(delay, autoStart) {
            this.delay = delay, this.currentCount = 0, this.paused = !1, this.onTimer = null, this.refrence = null, autoStart && this.start()
        }, averta.Timer.prototype = {
            constructor: averta.Timer,
            start: function() {
                this.paused = !1, this.lastTime = Date.now(), averta.Ticker.add(this.update, this)
            },
            stop: function() {
                this.paused = !0, averta.Ticker.remove(this.update, this)
            },
            reset: function() {
                this.currentCount = 0, this.paused = !0, this.lastTime = Date.now()
            },
            update: function() {
                this.paused || Date.now() - this.lastTime < this.delay || (this.currentCount++, this.lastTime = Date.now(), this.onTimer && this.onTimer.call(this.refrence, this.getTime()))
            },
            getTime: function() {
                return this.delay * this.currentCount
            }
        }
    }(),
    function() {
        "use strict";
        window.CSSTween = function(element, duration, delay, ease) {
            this.$element = element, this.duration = duration || 1e3, this.delay = delay || 0, this.ease = ease || "linear"
        };
        var p = CSSTween.prototype;
        p.to = function(callback, target) {
            return this.to_cb = callback, this.to_cb_target = target, this
        }, p.from = function(callback, target) {
            return this.fr_cb = callback, this.fr_cb_target = target, this
        }, p.onComplete = function(callback, target) {
            return this.oc_fb = callback, this.oc_fb_target = target, this
        }, p.chain = function(csstween) {
            return this.chained_tween = csstween, this
        }, p.reset = function() {
            clearTimeout(this.start_to), clearTimeout(this.end_to)
        }, p.start = function() {
            var element = this.$element[0];
            clearTimeout(this.start_to), clearTimeout(this.end_to), this.fresh = !0, this.fr_cb && (element.style[window._jcsspfx + "TransitionDuration"] = "0ms", this.fr_cb.call(this.fr_cb_target));
            var that = this;
            return this.onTransComplete = function() {
                that.fresh && (that.reset(), element.style[window._jcsspfx + "TransitionDuration"] = "", element.style[window._jcsspfx + "TransitionProperty"] = "", element.style[window._jcsspfx + "TransitionTimingFunction"] = "", element.style[window._jcsspfx + "TransitionDelay"] = "", that.fresh = !1, that.chained_tween && that.chained_tween.start(), that.oc_fb && that.oc_fb.call(that.oc_fb_target))
            }, this.start_to = setTimeout(function() {
                that.$element && (element.style[window._jcsspfx + "TransitionDuration"] = that.duration + "ms", element.style[window._jcsspfx + "TransitionProperty"] = that.transProperty || "all", element.style[window._jcsspfx + "TransitionDelay"] = that.delay > 0 ? that.delay + "ms" : "", element.style[window._jcsspfx + "TransitionTimingFunction"] = that.ease, that.to_cb && that.to_cb.call(that.to_cb_target), that.end_to = setTimeout(function() {
                    that.onTransComplete()
                }, that.duration + (that.delay || 0)))
            }, 1), this
        }
    }(),
    function() {
        "use strict";

        function transPos(element, properties) {
            if (void 0 !== properties.x || void 0 !== properties.y)
                if (_cssanim) {
                    var trans = window._jcsspfx + "Transform";
                    void 0 !== properties.x && (properties[trans] = (properties[trans] || "") + " translateX(" + properties.x + "px)", delete properties.x), void 0 !== properties.y && (properties[trans] = (properties[trans] || "") + " translateY(" + properties.y + "px)", delete properties.y)
                } else {
                    if (void 0 !== properties.x) {
                        var posx = "auto" !== element.css("right") ? "right" : "left";
                        properties[posx] = properties.x + "px", delete properties.x
                    }
                    if (void 0 !== properties.y) {
                        var posy = "auto" !== element.css("bottom") ? "bottom" : "top";
                        properties[posy] = properties.y + "px", delete properties.y
                    }
                }
            return properties
        }
        var _cssanim = null;
        window.CTween = {}, CTween.setPos = function(element, pos) {
            element.css(transPos(element, pos))
        }, CTween.animate = function(element, duration, properties, options) {
            if (null == _cssanim && (_cssanim = window._cssanim), options = options || {}, transPos(element, properties), _cssanim) {
                var tween = new CSSTween(element, duration, options.delay, EaseDic[options.ease]);
                return options.transProperty && (tween.transProperty = options.transProperty), tween.to(function() {
                    element.css(properties)
                }), options.complete && tween.onComplete(options.complete, options.target), tween.start(), tween.stop = tween.reset, tween
            }
            var onCl;
            return options.delay && element.delay(options.delay), options.complete && (onCl = function() {
                options.complete.call(options.target)
            }), element.stop(!0).animate(properties, duration, options.ease || "linear", onCl), element
        }, CTween.fadeOut = function(target, duration, remove) {
            var options = {};
            remove === !0 ? options.complete = function() {
                target.remove()
            } : 2 === remove && (options.complete = function() {
                target.css("display", "none")
            }), CTween.animate(target, duration || 1e3, {
                opacity: 0
            }, options)
        }, CTween.fadeIn = function(target, duration, reset) {
            reset !== !1 && target.css("opacity", 0).css("display", ""), CTween.animate(target, duration || 1e3, {
                opacity: 1
            })
        }
    }(),
    function() {
        window.EaseDic = {
            linear: "linear",
            ease: "ease",
            easeIn: "ease-in",
            easeOut: "ease-out",
            easeInOut: "ease-in-out",
            easeInCubic: "cubic-bezier(.55,.055,.675,.19)",
            easeOutCubic: "cubic-bezier(.215,.61,.355,1)",
            easeInOutCubic: "cubic-bezier(.645,.045,.355,1)",
            easeInCirc: "cubic-bezier(.6,.04,.98,.335)",
            easeOutCirc: "cubic-bezier(.075,.82,.165,1)",
            easeInOutCirc: "cubic-bezier(.785,.135,.15,.86)",
            easeInExpo: "cubic-bezier(.95,.05,.795,.035)",
            easeOutExpo: "cubic-bezier(.19,1,.22,1)",
            easeInOutExpo: "cubic-bezier(1,0,0,1)",
            easeInQuad: "cubic-bezier(.55,.085,.68,.53)",
            easeOutQuad: "cubic-bezier(.25,.46,.45,.94)",
            easeInOutQuad: "cubic-bezier(.455,.03,.515,.955)",
            easeInQuart: "cubic-bezier(.895,.03,.685,.22)",
            easeOutQuart: "cubic-bezier(.165,.84,.44,1)",
            easeInOutQuart: "cubic-bezier(.77,0,.175,1)",
            easeInQuint: "cubic-bezier(.755,.05,.855,.06)",
            easeOutQuint: "cubic-bezier(.23,1,.32,1)",
            easeInOutQuint: "cubic-bezier(.86,0,.07,1)",
            easeInSine: "cubic-bezier(.47,0,.745,.715)",
            easeOutSine: "cubic-bezier(.39,.575,.565,1)",
            easeInOutSine: "cubic-bezier(.445,.05,.55,.95)",
            easeInBack: "cubic-bezier(.6,-.28,.735,.045)",
            easeOutBack: "cubic-bezier(.175, .885,.32,1.275)",
            easeInOutBack: "cubic-bezier(.68,-.55,.265,1.55)"
        }
    }(),
    function() {
        "use strict";
        window.MSAligner = function(type, $container, $img) {
            this.$container = $container, this.$img = $img, this.type = type || "stretch", this.widthOnly = !1, this.heightOnly = !1
        };
        var p = MSAligner.prototype;
        p.init = function(w, h) {
            switch (this.baseWidth = w, this.baseHeight = h, this.imgRatio = w / h, this.imgRatio2 = h / w, this.type) {
                case "tile":
                    this.$container.css("background-image", "url(" + this.$img.attr("src") + ")"), this.$img.remove();
                    break;
                case "center":
                    this.$container.css("background-image", "url(" + this.$img.attr("src") + ")"), this.$container.css({
                        backgroundPosition: "center center",
                        backgroundRepeat: "no-repeat"
                    }), this.$img.remove();
                    break;
                case "stretch":
                    this.$img.css({
                        width: "100%",
                        height: "100%"
                    });
                    break;
                case "fill":
                case "fit":
                    this.needAlign = !0, this.align()
            }
        }, p.align = function() {
            if (this.needAlign) {
                var cont_w = this.$container[0].offsetWidth,
                    cont_h = this.$container[0].offsetHeight,
                    contRatio = cont_w / cont_h;
                "fill" == this.type ? this.imgRatio < contRatio ? (this.$img.width(cont_w), this.$img.height(cont_w * this.imgRatio2)) : (this.$img.height(cont_h), this.$img.width(cont_h * this.imgRatio)) : "fit" == this.type && (this.imgRatio < contRatio ? (this.$img.height(cont_h), this.$img.width(cont_h * this.imgRatio)) : (this.$img.width(cont_w), this.$img.height(cont_w * this.imgRatio2))), this.setMargin()
            }
        }, p.setMargin = function() {
            var cont_w = this.$container[0].offsetWidth,
                cont_h = this.$container[0].offsetHeight;
            this.$img.css("margin-top", (cont_h - this.$img[0].offsetHeight) / 2 + "px"), this.$img.css("margin-left", (cont_w - this.$img[0].offsetWidth) / 2 + "px")
        }
    }(),
    /**
     * CSS pointer-events polyfill
     * Adds support for `pointer-events: none;` for browsers not supporting this property
     * Requires jQuery@~1.9
     *
     * @copyright Sebastian Langer 2016
     * @license MIT
     * @author Sebastian Langer <sl@scn.cx>
     */
    function($) {
        var Polyfill = function(userOptions) {
            this.options = $.extend({}, Polyfill.defaultOptions, userOptions), this.isEnabled = !1, (this.options.forcePolyfill || !this.supportsPointerEvents()) && (this.registerEvents(), this.isEnabled = !0)
        };
        Polyfill.defaultOptions = {
            forcePolyfill: !1,
            selector: "*",
            listenOn: ["click", "dblclick", "mousedown", "mouseup"],
            pointerEventsNoneClass: null,
            pointerEventsAllClass: null,
            eventNamespace: "pointer-events-polyfill"
        }, Polyfill.prototype.registerEvents = function() {
            $(document).on(this.getEventNames(), this.options.selector, $.proxy(this.onElementClick, this))
        }, Polyfill.prototype.getEventNames = function() {
            var eventNamespace = this.options.eventNamespace ? "." + this.options.eventNamespace : "";
            return this.options.listenOn.join(eventNamespace + " ") + eventNamespace
        }, Polyfill.prototype.supportsPointerEvents = function() {
            var style = document.createElement("a").style;
            return style.cssText = "pointer-events:auto", "auto" === style.pointerEvents
        }, Polyfill.prototype.isClickThrough = function($el) {
            var elPointerEventsCss = $el.css("pointer-events");
            return 0 === $el.length || "all" === elPointerEventsCss || $el.is(":root") || $el.hasClass(this.options.pointerEventsAllClass) ? !1 : "none" === elPointerEventsCss || $el.hasClass(this.options.pointerEventsNoneClass) || this.isClickThrough($el.parent()) ? !0 : !1
        }, Polyfill.prototype.onElementClick = function(e) {
            var $elOrg = $(e.target);
            if (!this.isClickThrough($elOrg)) return !0;
            $elOrg.hide();
            var elBelow = document.elementFromPoint(e.clientX, e.clientY);
            return e.target = elBelow, $(elBelow).trigger(e), "A" === elBelow.tagName && (2 === e.which ? window.open(elBelow.getAttribute("href"), "_blank") : elBelow.click()), $elOrg.show(), !1
        }, Polyfill.prototype.destroy = function() {
            $(document).off(this.getEventNames()), this.isEnabled = !1
        }, window.pointerEventsPolyfill = function(userOptions) {
            return new Polyfill(userOptions)
        }
    }(jQuery),
    function() {
        "use strict";
        var _options = {
                bouncing: !0,
                snapping: !1,
                snapsize: null,
                friction: .05,
                outFriction: .05,
                outAcceleration: .09,
                minValidDist: .3,
                snappingMinSpeed: 2,
                paging: !1,
                endless: !1,
                maxSpeed: 160
            },
            Controller = function(min, max, options) {
                if (null === max || null === min) throw new Error("Max and Min values are required.");
                this.options = options || {};
                for (var key in _options) key in this.options || (this.options[key] = _options[key]);
                this._max_value = max, this._min_value = min, this.value = min, this.end_loc = min, this.current_snap = this.getSnapNum(min), this.__extrStep = 0, this.__extraMove = 0, this.__animID = -1
            },
            p = Controller.prototype;
        p.changeTo = function(value, animate, speed, snap_num, dispatch) {
            if (this.stopped = !1, this._internalStop(), value = this._checkLimits(value), speed = Math.abs(speed || 0), this.options.snapping && (snap_num = snap_num || this.getSnapNum(value), dispatch !== !1 && this._callsnapChange(snap_num), this.current_snap = snap_num), animate) {
                this.animating = !0;
                var self = this,
                    active_id = ++self.__animID,
                    amplitude = value - self.value,
                    timeStep = 0,
                    targetPosition = value,
                    animFrict = 1 - self.options.friction,
                    timeconst = animFrict + (speed - 20) * animFrict * 1.3 / self.options.maxSpeed,
                    tick = function() {
                        if (active_id === self.__animID) {
                            var dis = value - self.value;
                            if (!(Math.abs(dis) > self.options.minValidDist && self.animating)) return self.animating && (self.value = value, self._callrenderer()), self.animating = !1, active_id !== self.__animID && (self.__animID = -1), void self._callonComplete("anim");
                            window.requestAnimationFrame(tick), self.value = targetPosition - amplitude * Math.exp(- ++timeStep * timeconst), self._callrenderer()
                        }
                    };
                return void tick()
            }
            this.value = value, this._callrenderer()
        }, p.drag = function(move) {
            this.start_drag && (this.drag_start_loc = this.value, this.start_drag = !1), this.animating = !1, this._deceleration = !1, this.value -= move, !this.options.endless && (this.value > this._max_value || this.value < 0) ? this.options.bouncing ? (this.__isout = !0, this.value += .6 * move) : this.value = this.value > this._max_value ? this._max_value : 0 : !this.options.endless && this.options.bouncing && (this.__isout = !1), this._callrenderer()
        }, p.push = function(speed) {
            if (this.stopped = !1, this.options.snapping && Math.abs(speed) <= this.options.snappingMinSpeed) return void this.cancel();
            if (this.__speed = speed, this.__startSpeed = speed, this.end_loc = this._calculateEnd(), this.options.snapping) {
                var snap_loc = this.getSnapNum(this.value),
                    end_snap = this.getSnapNum(this.end_loc);
                if (this.options.paging) return snap_loc = this.getSnapNum(this.drag_start_loc), this.__isout = !1, void(speed > 0 ? this.gotoSnap(snap_loc + 1, !0, speed) : this.gotoSnap(snap_loc - 1, !0, speed));
                if (snap_loc === end_snap) return void this.cancel();
                this._callsnapChange(end_snap), this.current_snap = end_snap
            }
            this.animating = !1, this.__needsSnap = this.options.endless || this.end_loc > this._min_value && this.end_loc < this._max_value, this.options.snapping && this.__needsSnap && (this.__extraMove = this._calculateExtraMove(this.end_loc)), this._startDecelaration()
        }, p.bounce = function(speed) {
            this.animating || (this.stopped = !1, this.animating = !1, this.__speed = speed, this.__startSpeed = speed, this.end_loc = this._calculateEnd(), this._startDecelaration())
        }, p.stop = function() {
            this.stopped = !0, this._internalStop()
        }, p.cancel = function() {
            this.start_drag = !0, this.__isout ? (this.__speed = 4e-4, this._startDecelaration()) : this.options.snapping && this.gotoSnap(this.getSnapNum(this.value), !0)
        }, p.renderCallback = function(listener, ref) {
            this.__renderHook = {
                fun: listener,
                ref: ref
            }
        }, p.snappingCallback = function(listener, ref) {
            this.__snapHook = {
                fun: listener,
                ref: ref
            }
        }, p.snapCompleteCallback = function(listener, ref) {
            this.__compHook = {
                fun: listener,
                ref: ref
            }
        }, p.getSnapNum = function(value) {
            return Math.floor((value + this.options.snapsize / 2) / this.options.snapsize)
        }, p.nextSnap = function() {
            this._internalStop();
            var curr_snap = this.getSnapNum(this.value);
            !this.options.endless && (curr_snap + 1) * this.options.snapsize > this._max_value ? (this.__speed = 8, this.__needsSnap = !1, this._startDecelaration()) : this.gotoSnap(curr_snap + 1, !0)
        }, p.prevSnap = function() {
            this._internalStop();
            var curr_snap = this.getSnapNum(this.value);
            !this.options.endless && (curr_snap - 1) * this.options.snapsize < this._min_value ? (this.__speed = -8, this.__needsSnap = !1, this._startDecelaration()) : this.gotoSnap(curr_snap - 1, !0)
        }, p.gotoSnap = function(snap_num, animate, speed) {
            this.changeTo(snap_num * this.options.snapsize, animate, speed, snap_num)
        }, p.destroy = function() {
            this._internalStop(), this.__renderHook = null, this.__snapHook = null, this.__compHook = null
        }, p._internalStop = function() {
            this.start_drag = !0, this.animating = !1, this._deceleration = !1, this.__extrStep = 0
        }, p._calculateExtraMove = function(value) {
            var m = value % this.options.snapsize;
            return m < this.options.snapsize / 2 ? -m : this.options.snapsize - m
        }, p._calculateEnd = function(step) {
            for (var temp_speed = this.__speed, temp_value = this.value, i = 0; Math.abs(temp_speed) > this.options.minValidDist;) temp_value += temp_speed, temp_speed *= this.options.friction, i++;
            return step ? i : temp_value
        }, p._checkLimits = function(value) {
            return this.options.endless ? value : value < this._min_value ? this._min_value : value > this._max_value ? this._max_value : value
        }, p._callrenderer = function() {
            this.__renderHook && this.__renderHook.fun.call(this.__renderHook.ref, this, this.value)
        }, p._callsnapChange = function(targetSnap) {
            this.__snapHook && targetSnap !== this.current_snap && this.__snapHook.fun.call(this.__snapHook.ref, this, targetSnap, targetSnap - this.current_snap)
        }, p._callonComplete = function(type) {
            this.__compHook && !this.stopped && this.__compHook.fun.call(this.__compHook.ref, this, this.current_snap, type)
        }, p._computeDeceleration = function() {
            if (this.options.snapping && this.__needsSnap) {
                var xtr_move = (this.__startSpeed - this.__speed) / this.__startSpeed * this.__extraMove;
                this.value += this.__speed + xtr_move - this.__extrStep, this.__extrStep = xtr_move
            } else this.value += this.__speed;
            if (this.__speed *= this.options.friction, this.options.endless || this.options.bouncing || (this.value <= this._min_value ? (this.value = this._min_value, this.__speed = 0) : this.value >= this._max_value && (this.value = this._max_value, this.__speed = 0)), this._callrenderer(), !this.options.endless && this.options.bouncing) {
                var out_value = 0;
                this.value < this._min_value ? out_value = this._min_value - this.value : this.value > this._max_value && (out_value = this._max_value - this.value), this.__isout = Math.abs(out_value) >= this.options.minValidDist, this.__isout && (this.__speed * out_value <= 0 ? this.__speed += out_value * this.options.outFriction : this.__speed = out_value * this.options.outAcceleration)
            }
        }, p._startDecelaration = function() {
            if (!this._deceleration) {
                this._deceleration = !0;
                var self = this,
                    tick = function() {
                        self._deceleration && (self._computeDeceleration(), Math.abs(self.__speed) > self.options.minValidDist || self.__isout ? window.requestAnimationFrame(tick) : (self._deceleration = !1, self.__isout = !1, self.value = self.__needsSnap && self.options.snapping && !self.options.paging ? self._checkLimits(self.end_loc + self.__extraMove) : Math.round(self.value), self._callrenderer(), self._callonComplete("decel")))
                    };
                tick()
            }
        }, window.Controller = Controller
    }(),
    function(window, document, $) {
        window.MSLayerController = function(slide) {
            this.slide = slide, this.slider = slide.slider, this.layers = [], this.layersCount = 0, this.preloadCount = 0, this.$layers = $("<div></div>").addClass("ms-slide-layers"), this.$staticLayers = $("<div></div>").addClass("ms-static-layers"), this.$fixedLayers = $("<div></div>").addClass("ms-fixed-layers"), this.$animLayers = $("<div></div>").addClass("ms-anim-layers")
        };
        var p = MSLayerController.prototype;
        p.addLayer = function(layer) {
            switch (layer.slide = this.slide, layer.controller = this, layer.$element.data("position")) {
                case "static":
                    this.hasStaticLayer = !0, layer.$element.appendTo(this.$staticLayers);
                    break;
                case "fixed":
                    this.hasFixedLayer = !0, layer.$element.appendTo(this.$fixedLayers);
                    break;
                default:
                    layer.$element.appendTo(this.$animLayers)
            }
            layer.create(), this.layers.push(layer), this.layersCount++, layer.parallax && (this.hasParallaxLayer = !0), layer.needPreload && this.preloadCount++
        }, p.create = function() {
            this.slide.$element.append(this.$layers), this.$layers.append(this.$animLayers), this.hasStaticLayer && this.$layers.append(this.$staticLayers), "center" == this.slider.options.layersMode && (this.$layers.css("max-width", this.slider.options.width + "px"), this.hasFixedLayer && this.$fixedLayers.css("max-width", this.slider.options.width + "px"))
        }, p.loadLayers = function(callback) {
            if (this._onReadyCallback = callback, 0 === this.preloadCount) return void this._onlayersReady();
            for (var i = 0; i !== this.layersCount; ++i) this.layers[i].needPreload && this.layers[i].loadImage()
        }, p.prepareToShow = function() {
            this.hasParallaxLayer && this._enableParallaxEffect(), this.hasFixedLayer && this.$fixedLayers.prependTo(this.slide.view.$element)
        }, p.showLayers = function() {
            this.layersHideTween && this.layersHideTween.stop(!0), this.fixedLayersHideTween && this.fixedLayersHideTween.stop(!0), this._resetLayers(), this.$animLayers.css("opacity", "").css("display", ""), this.hasFixedLayer && this.$fixedLayers.css("opacity", "").css("display", ""), this.ready && (this._initLayers(), this._locateLayers(), this._startLayers())
        }, p.hideLayers = function() {
            if (this.slide.selected || this.slider.options.instantStartLayers) {
                var that = this;
                that.layersHideTween = CTween.animate(this.$animLayers, 500, {
                    opacity: 0
                }, {
                    complete: function() {
                        that._resetLayers()
                    }
                }), this.hasFixedLayer && (this.fixedLayersHideTween = CTween.animate(this.$fixedLayers, 500, {
                    opacity: 0
                }, {
                    complete: function() {
                        that.$fixedLayers.detach()
                    }
                })), this.hasParallaxLayer && this._disableParallaxEffect()
            }
        }, p.animHideLayers = function() {
            if (this.ready)
                for (var i = 0; i !== this.layersCount; ++i) this.layers[i].hide()
        }, p.setSize = function(width, height, hard) {
            if (this.ready && (this.slide.selected || this.hasStaticLayer) && (hard && this._initLayers(!0), this._locateLayers(!this.slide.selected)), this.slider.options.autoHeight && this.updateHeight(), "center" == this.slider.options.layersMode) {
                var left = Math.max(0, (width - this.slider.options.width) / 2) + "px";
                this.$layers[0].style.left = left, this.$fixedLayers[0].style.left = left
            }
        }, p.updateHeight = function() {}, p._onlayersReady = function() {
            this.ready = !0, this.hasStaticLayer && !this.slide.isSleeping && this._initLayers(!1, !0), this._onReadyCallback.call(this.slide)
        }, p.onSlideSleep = function() {}, p.onSlideWakeup = function() {
            this.hasStaticLayer && this.ready && this._initLayers(!1, !0)
        }, p.getLayerById = function(layerId) {
            if (!layerId) return null;
            for (var i = 0; i < this.layersCount; ++i)
                if (this.layers[i].id === layerId) return this.layers[i];
            return null
        }, p.destroy = function() {
            this.slide.selected && this.hasParallaxLayer && this._disableParallaxEffect();
            for (var i = 0; i < this.layersCount; ++i) this.layers[i].$element.stop(!0).remove();
            this.$layers.remove(), this.$staticLayers.remove(), this.$fixedLayers.remove(), this.$animLayers.remove()
        }, p._startLayers = function() {
            for (var i = 0; i !== this.layersCount; ++i) {
                var layer = this.layers[i];
                layer.waitForAction || layer.start()
            }
        }, p._initLayers = function(force, onlyStatics) {
            if (!(this.init && !force || this.slider.init_safemode)) {
                this.init = onlyStatics !== !0;
                var i = 0;
                if (onlyStatics && !this.staticsInit)
                    for (this.staticsInit = !0; i !== this.layersCount; ++i) this.layers[i].staticLayer && this.layers[i].init();
                else if (this.staticsInit && !force)
                    for (; i !== this.layersCount; ++i) this.layers[i].staticLayer || this.layers[i].init();
                else
                    for (; i !== this.layersCount; ++i) this.layers[i].init()
            }
        }, p._locateLayers = function(onlyStatics) {
            var i = 0;
            if (onlyStatics)
                for (; i !== this.layersCount; ++i) this.layers[i].staticLayer && this.layers[i].locate();
            else
                for (; i !== this.layersCount; ++i) this.layers[i].locate()
        }, p._resetLayers = function() {
            this.$animLayers.css("display", "none").css("opacity", 1);
            for (var i = 0; i !== this.layersCount; ++i) this.layers[i].reset()
        }, p._applyParallax = function(x, y, fast) {
            for (var i = 0; i !== this.layersCount; ++i) null != this.layers[i].parallax && this.layers[i].moveParallax(x, y, fast)
        }, p._enableParallaxEffect = function() {
            "swipe" === this.slider.options.parallaxMode ? this.slide.view.addEventListener(MSViewEvents.SCROLL, this._swipeParallaxMove, this) : this.slide.$element.on("mousemove", {
                that: this
            }, this._mouseParallaxMove).on("mouseleave", {
                that: this
            }, this._resetParalax)
        }, p._disableParallaxEffect = function() {
            "swipe" === this.slider.options.parallaxMode ? this.slide.view.removeEventListener(MSViewEvents.SCROLL, this._swipeParallaxMove, this) : this.slide.$element.off("mousemove", this._mouseParallaxMove).off("mouseleave", this._resetParalax)
        }, p._resetParalax = function(e) {
            var that = e.data.that;
            that._applyParallax(0, 0)
        }, p._mouseParallaxMove = function(e) {
            var that = e.data.that,
                os = that.slide.$element.offset(),
                slider = that.slider;
            if ("mouse:y-only" !== slider.options.parallaxMode) var x = e.pageX - os.left - that.slide.__width / 2;
            else var x = 0;
            if ("mouse:x-only" !== slider.options.parallaxMode) var y = e.pageY - os.top - that.slide.__height / 2;
            else var y = 0;
            that._applyParallax(-x, -y)
        }, p._swipeParallaxMove = function() {
            var value = this.slide.position - this.slide.view.__contPos;
            "v" === this.slider.options.dir ? this._applyParallax(0, value, !0) : this._applyParallax(value, 0, !0)
        }
    }(window, document, jQuery),
    function($, window) {
        "use strict";
        window.MSOverlayLayerController = function() {
            MSLayerController.apply(this, arguments)
        }, MSOverlayLayerController.extend(MSLayerController);
        var p = MSOverlayLayerController.prototype,
            _super = MSLayerController.prototype;
        p.addLayer = function(layer) {
            var showOnSlides = layer.$element.data("show-on"),
                hideOnSlides = layer.$element.data("hide-on");
            hideOnSlides && (layer.hideOnSlides = hideOnSlides.replace(/\s+/g, "").split(",")), showOnSlides && (layer.showOnSlides = showOnSlides.replace(/\s+/g, "").split(",")), _super.addLayer.apply(this, arguments)
        }, p.create = function() {
            _super.create.apply(this, arguments), this.slider.api.addEventListener(MSSliderEvent.CHANGE_START, this.checkLayers.bind(this))
        }, p.checkLayers = function() {
            if (this.ready)
                for (var i = 0; i !== this.layersCount; ++i) {
                    var layer = this.layers[i];
                    layer.waitForAction || (this._checkForShow(layer) ? layer.start() : layer.hide())
                }
        }, p._enableParallaxEffect = function() {
            this.slider.view.$element.on("mousemove", {
                that: this
            }, this._mouseParallaxMove).on("mouseleave", {
                that: this
            }, this._resetParalax)
        }, p._disableParallaxEffect = function() {
            this.slider.view.$element.off("mousemove", this._mouseParallaxMove).off("mouseleave", this._resetParalax)
        }, p._startLayers = function() {
            for (var i = 0; i !== this.layersCount; ++i) {
                var layer = this.layers[i];
                this._checkForShow(layer) && !layer.waitForAction && layer.start()
            }
        }, p._checkForShow = function(layer) {
            var slideId = this.slider.api.currentSlide.id,
                layerHideOn = layer.hideOnSlides,
                layerShowOn = layer.showOnSlides;
            return layerShowOn ? !!slideId && -1 !== layerShowOn.indexOf(slideId) : !slideId || !layerHideOn || layerHideOn.length && -1 === layerHideOn.indexOf(slideId)
        }
    }(jQuery, window, document),
    function($, window) {
        "use strict";
        window.MSOverlayLayers = function(slider) {
            this.slider = slider
        };
        var p = MSOverlayLayers.prototype;
        p.setupLayerController = function() {
            this.layerController = new MSOverlayLayerController(this), this.slider.api.addEventListener(MSSliderEvent.RESIZE, this.setSize.bind(this)), this.slider.api.addEventListener(MSSliderEvent.CHANGE_START, this.setSize.bind(this)), this.setSize()
        }, p.setSize = function() {
            this.__width = this.$element.width(), this.__height = this.$element.height(), this.layerController.setSize(this.__width, this.__height)
        }, p.create = function() {
            this.layerController.create(), this.layerController.loadLayers(this._onLayersLoad), this.layerController.prepareToShow(), window.pointerEventsPolyfill && window.pointerEventsPolyfill({
                selector: "#" + this.slider.$element.attr("id") + " .ms-overlay-layers",
                forcePolyfill: !1
            })
        }, p.getHeight = function() {
            return this.slider.api.currentSlide.getHeight()
        }, p.destroy = function() {
            this.layerController.destroy()
        }, p._onLayersLoad = function() {
            this.ready = !0, this.selected = !0, this.layersLoaded = !0, this.setSize(), this.layerController.showLayers()
        }
    }(jQuery, window, document),
    function($) {
        window.MSLayerEffects = {};
        var installed, _fade = {
            opacity: 0
        };
        MSLayerEffects.setup = function() {
            if (!installed) {
                installed = !0;
                var st = MSLayerEffects,
                    transform_css = window._jcsspfx + "Transform",
                    transform_orig_css = window._jcsspfx + "TransformOrigin",
                    o = $.browser.opera;
                _2d = window._css2d && window._cssanim && !o, st.defaultValues = {
                    left: 0,
                    top: 0,
                    opacity: isMSIE("<=9") ? 1 : "",
                    right: 0,
                    bottom: 0
                }, st.defaultValues[transform_css] = "", st.rf = 1, st.presetEffParams = {
                    random: "30|300",
                    "long": 300,
                    "short": 30,
                    "false": !1,
                    "true": !0,
                    tl: "top left",
                    bl: "bottom left",
                    tr: "top right",
                    br: "bottom right",
                    rt: "top right",
                    lb: "bottom left",
                    lt: "top left",
                    rb: "bottom right",
                    t: "top",
                    b: "bottom",
                    r: "right",
                    l: "left",
                    c: "center"
                }, st.fade = function() {
                    return _fade
                }, st.left = _2d ? function(dist, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r[transform_css] = "translateX(" + -dist * st.rf + "px)", r
                } : function(dist, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r.left = -dist * st.rf + "px", r
                }, st.right = _2d ? function(dist, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r[transform_css] = "translateX(" + dist * st.rf + "px)", r
                } : function(dist, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r.left = dist * st.rf + "px", r
                }, st.top = _2d ? function(dist, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r[transform_css] = "translateY(" + -dist * st.rf + "px)", r
                } : function(dist, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r.top = -dist * st.rf + "px", r
                }, st.bottom = _2d ? function(dist, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r[transform_css] = "translateY(" + dist * st.rf + "px)", r
                } : function(dist, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r.top = dist * st.rf + "px", r
                }, st.from = _2d ? function(leftdis, topdis, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r[transform_css] = "translateX(" + leftdis * st.rf + "px) translateY(" + topdis * st.rf + "px)", r
                } : function(leftdis, topdis, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r.top = topdis * st.rf + "px", r.left = leftdis * st.rf + "px", r
                }, st.rotate = _2d ? function(deg, orig) {
                    var r = {
                        opacity: 0
                    };
                    return r[transform_css] = " rotate(" + deg + "deg)", orig && (r[transform_orig_css] = orig), r
                } : function() {
                    return _fade
                }, st.rotateleft = _2d ? function(deg, dist, orig, fade) {
                    var r = st.left(dist, fade);
                    return r[transform_css] += " rotate(" + deg + "deg)", orig && (r[transform_orig_css] = orig), r
                } : function(deg, dist, orig, fade) {
                    return st.left(dist, fade)
                }, st.rotateright = _2d ? function(deg, dist, orig, fade) {
                    var r = st.right(dist, fade);
                    return r[transform_css] += " rotate(" + deg + "deg)", orig && (r[transform_orig_css] = orig), r
                } : function(deg, dist, orig, fade) {
                    return st.right(dist, fade)
                }, st.rotatetop = _2d ? function(deg, dist, orig, fade) {
                    var r = st.top(dist, fade);
                    return r[transform_css] += " rotate(" + deg + "deg)", orig && (r[transform_orig_css] = orig), r
                } : function(deg, dist, orig, fade) {
                    return st.top(dist, fade)
                }, st.rotatebottom = _2d ? function(deg, dist, orig, fade) {
                    var r = st.bottom(dist, fade);
                    return r[transform_css] += " rotate(" + deg + "deg)", orig && (r[transform_orig_css] = orig), r
                } : function(deg, dist, orig, fade) {
                    return st.bottom(dist, fade)
                }, st.rotatefrom = _2d ? function(deg, leftdis, topdis, orig, fade) {
                    var r = st.from(leftdis, topdis, fade);
                    return r[transform_css] += " rotate(" + deg + "deg)", orig && (r[transform_orig_css] = orig), r
                } : function(deg, leftdis, topdis, orig, fade) {
                    return st.from(leftdis, topdis, fade)
                }, st.skewleft = _2d ? function(deg, dist, fade) {
                    var r = st.left(dist, fade);
                    return r[transform_css] += " skewX(" + deg + "deg)", r
                } : function(deg, dist, fade) {
                    return st.left(dist, fade)
                }, st.skewright = _2d ? function(deg, dist, fade) {
                    var r = st.right(dist, fade);
                    return r[transform_css] += " skewX(" + -deg + "deg)", r
                } : function(deg, dist, fade) {
                    return st.right(dist, fade)
                }, st.skewtop = _2d ? function(deg, dist, fade) {
                    var r = st.top(dist, fade);
                    return r[transform_css] += " skewY(" + deg + "deg)", r
                } : function(deg, dist, fade) {
                    return st.top(dist, fade)
                }, st.skewbottom = _2d ? function(deg, dist, fade) {
                    var r = st.bottom(dist, fade);
                    return r[transform_css] += " skewY(" + -deg + "deg)", r
                } : function(deg, dist, fade) {
                    return st.bottom(dist, fade)
                }, st.scale = _2d ? function(x, y, orig, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r[transform_css] = " scaleX(" + x + ") scaleY(" + y + ")", orig && (r[transform_orig_css] = orig), r
                } : function(x, y, orig, fade) {
                    return fade === !1 ? {} : {
                        opacity: 0
                    }
                }, st.scaleleft = _2d ? function(x, y, dist, orig, fade) {
                    var r = st.left(dist, fade);
                    return r[transform_css] = " scaleX(" + x + ") scaleY(" + y + ")", orig && (r[transform_orig_css] = orig), r
                } : function(x, y, dist, orig, fade) {
                    return st.left(dist, fade)
                }, st.scaleright = _2d ? function(x, y, dist, orig, fade) {
                    var r = st.right(dist, fade);
                    return r[transform_css] = " scaleX(" + x + ") scaleY(" + y + ")", orig && (r[transform_orig_css] = orig), r
                } : function(x, y, dist, orig, fade) {
                    return st.right(dist, fade)
                }, st.scaletop = _2d ? function(x, y, dist, orig, fade) {
                    var r = st.top(dist, fade);
                    return r[transform_css] = " scaleX(" + x + ") scaleY(" + y + ")", orig && (r[transform_orig_css] = orig), r
                } : function(x, y, dist, orig, fade) {
                    return st.top(dist, fade)
                }, st.scalebottom = _2d ? function(x, y, dist, orig, fade) {
                    var r = st.bottom(dist, fade);
                    return r[transform_css] = " scaleX(" + x + ") scaleY(" + y + ")", orig && (r[transform_orig_css] = orig), r
                } : function(x, y, dist, orig, fade) {
                    return st.bottom(dist, fade)
                }, st.scalefrom = _2d ? function(x, y, leftdis, topdis, orig, fade) {
                    var r = st.from(leftdis, topdis, fade);
                    return r[transform_css] += " scaleX(" + x + ") scaleY(" + y + ")", orig && (r[transform_orig_css] = orig), r
                } : function(x, y, leftdis, topdis, orig, fade) {
                    return st.from(leftdis, topdis, fade)
                }, st.rotatescale = _2d ? function(deg, x, y, orig, fade) {
                    var r = st.scale(x, y, orig, fade);
                    return r[transform_css] += " rotate(" + deg + "deg)", orig && (r[transform_orig_css] = orig), r
                } : function(deg, x, y, orig, fade) {
                    return st.scale(x, y, orig, fade)
                }, st.front = window._css3d ? function(dist, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r[transform_css] = "perspective(2000px) translate3d(0 , 0 ," + dist + "px ) rotate(0.001deg)", r
                } : function() {
                    return _fade
                }, st.back = window._css3d ? function(dist, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r[transform_css] = "perspective(2000px) translate3d(0 , 0 ," + -dist + "px ) rotate(0.001deg)", r
                } : function() {
                    return _fade
                }, st.rotatefront = window._css3d ? function(deg, dist, orig, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r[transform_css] = "perspective(2000px) translate3d(0 , 0 ," + dist + "px ) rotate(" + (deg || .001) + "deg)", orig && (r[transform_orig_css] = orig), r
                } : function() {
                    return _fade
                }, st.rotateback = window._css3d ? function(deg, dist, orig, fade) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return r[transform_css] = "perspective(2000px) translate3d(0 , 0 ," + -dist + "px ) rotate(" + (deg || .001) + "deg)", orig && (r[transform_orig_css] = orig), r
                } : function() {
                    return _fade
                }, st.rotate3dleft = window._css3d ? function(x, y, z, dist, orig, fade) {
                    var r = st.left(dist, fade);
                    return r[transform_css] += (x ? " rotateX(" + x + "deg)" : " ") + (y ? " rotateY(" + y + "deg)" : "") + (z ? " rotateZ(" + z + "deg)" : ""), orig && (r[transform_orig_css] = orig), r
                } : function(x, y, z, dist, orig, fade) {
                    return st.left(dist, fade)
                }, st.rotate3dright = window._css3d ? function(x, y, z, dist, orig, fade) {
                    var r = st.right(dist, fade);
                    return r[transform_css] += (x ? " rotateX(" + x + "deg)" : " ") + (y ? " rotateY(" + y + "deg)" : "") + (z ? " rotateZ(" + z + "deg)" : ""), orig && (r[transform_orig_css] = orig), r
                } : function(x, y, z, dist, orig, fade) {
                    return st.right(dist, fade)
                }, st.rotate3dtop = window._css3d ? function(x, y, z, dist, orig, fade) {
                    var r = st.top(dist, fade);
                    return r[transform_css] += (x ? " rotateX(" + x + "deg)" : " ") + (y ? " rotateY(" + y + "deg)" : "") + (z ? " rotateZ(" + z + "deg)" : ""), orig && (r[transform_orig_css] = orig), r
                } : function(x, y, z, dist, orig, fade) {
                    return st.top(dist, fade)
                }, st.rotate3dbottom = window._css3d ? function(x, y, z, dist, orig, fade) {
                    var r = st.bottom(dist, fade);
                    return r[transform_css] += (x ? " rotateX(" + x + "deg)" : " ") + (y ? " rotateY(" + y + "deg)" : "") + (z ? " rotateZ(" + z + "deg)" : ""), orig && (r[transform_orig_css] = orig), r
                } : function(x, y, z, dist, orig, fade) {
                    return st.bottom(dist, fade)
                }, st.rotate3dfront = window._css3d ? function(x, y, z, dist, orig, fade) {
                    var r = st.front(dist, fade);
                    return r[transform_css] += (x ? " rotateX(" + x + "deg)" : " ") + (y ? " rotateY(" + y + "deg)" : "") + (z ? " rotateZ(" + z + "deg)" : ""), orig && (r[transform_orig_css] = orig), r
                } : function(x, y, z, dist, orig, fade) {
                    return st.front(dist, fade)
                }, st.rotate3dback = window._css3d ? function(x, y, z, dist, orig, fade) {
                    var r = st.back(dist, fade);
                    return r[transform_css] += (x ? " rotateX(" + x + "deg)" : " ") + (y ? " rotateY(" + y + "deg)" : "") + (z ? " rotateZ(" + z + "deg)" : ""), orig && (r[transform_orig_css] = orig), r
                } : function(x, y, z, dist, orig, fade) {
                    return st.back(dist, fade)
                }, st.t = window._css3d ? function(fade, tx, ty, tz, r, rx, ry, rz, scx, scy, skx, sky, ox, oy, oz) {
                    var _r = fade === !1 ? {} : {
                            opacity: 0
                        },
                        transform = "perspective(2000px) ";
                    "n" !== tx && (transform += "translateX(" + tx * st.rf + "px) "), "n" !== ty && (transform += "translateY(" + ty * st.rf + "px) "), "n" !== tz && (transform += "translateZ(" + tz * st.rf + "px) "), "n" !== r && (transform += "rotate(" + r + "deg) "), "n" !== rx && (transform += "rotateX(" + rx + "deg) "), "n" !== ry && (transform += "rotateY(" + ry + "deg) "), "n" !== rz && (transform += "rotateZ(" + rz + "deg) "), "n" !== skx && (transform += "skewX(" + skx + "deg) "), "n" !== sky && (transform += "skewY(" + sky + "deg) "), "n" !== scx && (transform += "scaleX(" + scx + ") "), "n" !== scy && (transform += "scaleY(" + scy + ")"), _r[transform_css] = transform;
                    var trans_origin = "";
                    return trans_origin += "n" !== ox ? ox + "% " : "50% ", trans_origin += "n" !== oy ? oy + "% " : "50% ", trans_origin += "n" !== oz ? oz + "px" : "", _r[transform_orig_css] = trans_origin, _r
                } : function(fade, tx, ty, tz, r) {
                    var r = fade === !1 ? {} : {
                        opacity: 0
                    };
                    return "n" !== tx && (r.left = tx * st.rf + "px"), "n" !== ty && (r.top = ty * st.rf + "px"), r
                }
            }
        }
    }(jQuery),
    function($) {
        window.MSLayerElement = function() {
            this.start_anim = {
                name: "fade",
                duration: 1e3,
                ease: "linear",
                delay: 0
            }, this.end_anim = {
                duration: 1e3,
                ease: "linear"
            }, this.type = "text", this.resizable = !0, this.minWidth = -1, this.isVisible = !0, this.__cssConfig = ["margin-top", "padding-top", "margin-bottom", "padding-left", "margin-right", "padding-right", "margin-left", "padding-bottom", "font-size", "line-height", "width", "left", "right", "top", "bottom"], this.baseStyle = {}
        };
        var p = MSLayerElement.prototype;
        p.setStartAnim = function(anim) {
            $.extend(this.start_anim, anim), $.extend(this.start_anim, this._parseEff(this.start_anim.name)), this.$element.css("visibility", "hidden")
        }, p.setEndAnim = function(anim) {
            $.extend(this.end_anim, anim)
        }, p.create = function() {
            if (this.$element.css("display", "none"), this.resizable = this.$element.data("resize") !== !1, this.fixed = this.$element.data("fixed") === !0, void 0 !== this.$element.data("widthlimit") && (this.minWidth = this.$element.data("widthlimit")), this.end_anim.name || (this.end_anim.name = this.start_anim.name), this.end_anim.time && (this.autoHide = !0), this.staticLayer = "static" === this.$element.data("position"), this.fixedLayer = "fixed" === this.$element.data("position"), this.layersCont = this.controller.$layers, this.staticLayer && this.$element.css("display", "").css("visibility", ""), void 0 !== this.$element.data("action")) {
                var slideController = this.slide.slider.slideController;
                this.$element.on(this.$element.data("action-event") || "click", function(event) {
                    slideController.runAction($(this).data("action")), event.preventDefault()
                }).addClass("ms-action-layer")
            }
            $.extend(this.end_anim, this._parseEff(this.end_anim.name)), this.slider = this.slide.slider, this.masked && (this.$mask = $("<div></div>").addClass("ms-layer-mask"), this.link ? (this.link.wrap(this.$mask), this.$mask = this.link.parent()) : (this.$element.wrap(this.$mask), this.$mask = this.$element.parent()), this.maskWidth && this.$mask.width(this.maskWidth), this.maskHeight && (this.$mask.height(this.maskHeight), -1 === this.__cssConfig.indexOf("height") && this.__cssConfig.push("height")));
            var layerOrigin = this.layerOrigin = this.$element.data("origin");
            if (layerOrigin) {
                var vOrigin = layerOrigin.charAt(0),
                    hOrigin = layerOrigin.charAt(1),
                    offsetX = this.$element.data("offset-x"),
                    offsetY = this.$element.data("offset-y"),
                    layerEle = this.masked ? this.$mask[0] : this.$element[0];
                switch (void 0 === offsetY && (offsetY = 0), vOrigin) {
                    case "t":
                        layerEle.style.top = offsetY + "px";
                        break;
                    case "b":
                        layerEle.style.bottom = offsetY + "px";
                        break;
                    case "m":
                        layerEle.style.top = offsetY + "px", this.middleAlign = !0
                }
                switch (void 0 === offsetX && (offsetX = 0), hOrigin) {
                    case "l":
                        layerEle.style.left = offsetX + "px";
                        break;
                    case "r":
                        layerEle.style.right = offsetX + "px";
                        break;
                    case "c":
                        layerEle.style.left = offsetX + "px", this.centerAlign = !0
                }
            }
            this.parallax = this.$element.data("parallax"), null != this.parallax && (this.parallax /= 100, this.$parallaxElement = $("<div></div>").addClass("ms-parallax-layer"), this.masked ? (this.$mask.wrap(this.$parallaxElement), this.$parallaxElement = this.$mask.parent()) : this.link ? (this.link.wrap(this.$parallaxElement), this.$parallaxElement = this.link.parent()) : (this.$element.wrap(this.$parallaxElement), this.$parallaxElement = this.$element.parent()), this._lastParaX = 0, this._lastParaY = 0, this._paraX = 0, this._paraY = 0, this.alignedToBot = this.layerOrigin && -1 !== this.layerOrigin.indexOf("b"), this.alignedToBot && this.$parallaxElement.css("bottom", 0), this.parallaxRender = window._css3d ? this._parallaxCSS3DRenderer : window._css2d ? this._parallaxCSS2DRenderer : this._parallax2DRenderer, "swipe" !== this.slider.options.parallaxMode && averta.Ticker.add(this.parallaxRender, this)), $.removeDataAttrs(this.$element, ["data-src"])
        }, p.init = function() {
            this.initialized = !0;
            var value;
            this.$element.css("visibility", "");
            for (var i = 0, l = this.__cssConfig.length; l > i; i++) {
                var key = this.__cssConfig[i];
                if (this._isPosition(key) && this.masked) value = this.$mask.css(key);
                else if ("text" !== this.type || "width" !== key || this.masked || this.maskWidth) {
                    value = this.$element.css(key);
                    var isSize = "width" === key || "height" === key;
                    isSize && this.masked && (this.maskWidth && "width" === key ? value = this.maskWidth + "px" : this.maskHeight && "height" === key && (value = this.maskHeight + "px")), isSize && "0px" === value && (value = this.$element.data(key) + "px")
                } else value = this.$element[0].style.width;
                this.layerOrigin && ("top" === key && -1 === this.layerOrigin.indexOf("t") && -1 === this.layerOrigin.indexOf("m") || "bottom" === key && -1 === this.layerOrigin.indexOf("b") || "left" === key && -1 === this.layerOrigin.indexOf("l") && -1 === this.layerOrigin.indexOf("c") || "right" === key && -1 === this.layerOrigin.indexOf("r")) || "auto" != value && "" != value && "normal" != value && (this.baseStyle[key] = parseInt(value))
            }
            this.middleAlign && (this.baseHeight = this.$element.outerHeight(!1)), this.centerAlign && (this.baseWidth = this.$element.outerWidth(!1))
        }, p.locate = function() {
            if (this.slide.ready) {
                var factor, isPosition, isSize, width = parseFloat(this.layersCont.css("width")),
                    height = parseFloat(this.layersCont.css("height"));
                !this.staticLayer && "none" === this.$element.css("display") && this.isVisible && this.$element.css("display", "").css("visibility", "hidden"), this.staticLayer && this.$element.addClass("ms-hover-active"), factor = this.resizeFactor = width / this.slide.slider.options.width;
                var $layerEle = this.masked ? this.$mask : this.$element;
                for (var key in this.baseStyle) isPosition = this._isPosition(key), isSize = "width" === key || "height" === key, factor = this.fixed && isPosition ? 1 : this.resizeFactor, (this.resizable || isPosition) && ("top" === key && this.middleAlign ? ($layerEle[0].style.top = "0px", this.baseHeight = $layerEle.outerHeight(!1), $layerEle[0].style.top = this.baseStyle.top * factor + (height - this.baseHeight) / 2 + "px") : "left" === key && this.centerAlign ? ($layerEle[0].style.left = "0px", this.baseWidth = $layerEle.outerWidth(!1), $layerEle[0].style.left = this.baseStyle.left * factor + (width - this.baseWidth) / 2 + "px") : isPosition && this.masked ? $layerEle[0].style[key] = this.baseStyle[key] * factor + "px" : isSize && ("width" === key && this.maskWidth || "height" === key && this.maskHeight) ? $layerEle[0].style[key] = this.baseStyle[key] * factor + "px" : this.$element.css(key, this.baseStyle[key] * factor + "px"));
                this.visible(this.minWidth < width)
            }
        }, p.start = function() {
            if (!this.isShowing && !this.staticLayer) {
                this.isShowing = !0, this.$element.removeClass("ms-hover-active");
                var key, base;
                MSLayerEffects.rf = this.resizeFactor;
                var effect_css = MSLayerEffects[this.start_anim.eff_name].apply(null, this._parseEffParams(this.start_anim.eff_params)),
                    start_css_eff = {};
                for (key in effect_css) this._checkPosKey(key, effect_css) || (null != MSLayerEffects.defaultValues[key] && (start_css_eff[key] = MSLayerEffects.defaultValues[key]), key in this.baseStyle && (base = this.baseStyle[key], this.middleAlign && "top" === key && (base += (parseInt(this.layersCont.height()) - this.$element.outerHeight(!1)) / 2), this.centerAlign && "left" === key && (base += (parseInt(this.layersCont.width()) - this.$element.outerWidth(!1)) / 2), effect_css[key] = base + parseFloat(effect_css[key]) + "px", start_css_eff[key] = base + "px"), this.$element.css(key, effect_css[key]));
                var that = this;
                clearTimeout(this.to), clearTimeout(this.clHide), this.to = setTimeout(function() {
                    that.$element.css("visibility", ""), that._playAnimation(that.start_anim, start_css_eff)
                }, that.start_anim.delay || .01), this.clTo = setTimeout(function() {
                    that.show_cl = !0, that.$element.addClass("ms-hover-active")
                }, (this.start_anim.delay || .01) + this.start_anim.duration + 1), this.autoHide && (clearTimeout(this.hto), this.hto = setTimeout(function() {
                    that.hide()
                }, that.end_anim.time))
            }
        }, p.hide = function() {
            if (!this.staticLayer) {
                this.$element.removeClass("ms-hover-active"), this.isShowing = !1;
                var effect_css = MSLayerEffects[this.end_anim.eff_name].apply(null, this._parseEffParams(this.end_anim.eff_params));
                for (key in effect_css) this._checkPosKey(key, effect_css) || (key === window._jcsspfx + "TransformOrigin" && this.$element.css(key, effect_css[key]), key in this.baseStyle && (effect_css[key] = this.baseStyle[key] + parseFloat(effect_css[key]) + "px"));
                this._playAnimation(this.end_anim, effect_css), clearTimeout(this.clHide), 0 === effect_css.opacity && (this.clHide = setTimeout(function() {
                    this.$element.css("visibility", "hidden")
                }.bind(this), this.end_anim.duration + 1)), clearTimeout(this.to), clearTimeout(this.hto), clearTimeout(this.clTo)
            }
        }, p.reset = function() {
            this.staticLayer || (this.isShowing = !1, this.$element[0].style.display = "none", this.$element.css("opacity", ""), this.$element[0].style.transitionDuration = "", this.show_tween && this.show_tween.stop(!0), clearTimeout(this.to), clearTimeout(this.hto))
        }, p.destroy = function() {
            this.reset(), this.$element.remove()
        }, p.visible = function(value) {
            this.isVisible != value && (this.isVisible = value, this.$element.css("display", value ? "" : "none"))
        }, p.moveParallax = function(x, y, fast) {
            this._paraX = x, this._paraY = y, fast && (this._lastParaX = x, this._lastParaY = y, this.parallaxRender())
        }, p._playAnimation = function(animation, css) {
            var options = {};
            animation.ease && (options.ease = animation.ease), options.transProperty = window._csspfx + "transform,opacity", this.show_tween && this.show_tween.stop(!0), this.show_tween = CTween.animate(this.$element, animation.duration, css, options)
        }, p._randomParam = function(value) {
            var min = Number(value.slice(0, value.indexOf("|"))),
                max = Number(value.slice(value.indexOf("|") + 1));
            return min + Math.random() * (max - min)
        }, p._parseEff = function(eff_name) {
            var eff_params = [];
            if (-1 !== eff_name.indexOf("(")) {
                var value, temp = eff_name.slice(0, eff_name.indexOf("(")).toLowerCase();
                eff_params = eff_name.slice(eff_name.indexOf("(") + 1, -1).replace(/\"|\'|\s/g, "").split(","), eff_name = temp;
                for (var i = 0, l = eff_params.length; l > i; ++i) value = eff_params[i], value in MSLayerEffects.presetEffParams && (value = MSLayerEffects.presetEffParams[value]), eff_params[i] = value
            }
            return {
                eff_name: eff_name,
                eff_params: eff_params
            }
        }, p._parseEffParams = function(params) {
            for (var eff_params = [], i = 0, l = params.length; l > i; ++i) {
                var value = params[i];
                "string" == typeof value && -1 !== value.indexOf("|") && (value = this._randomParam(value)), eff_params[i] = value
            }
            return eff_params
        }, p._checkPosKey = function(key, style) {
            return "left" === key && !(key in this.baseStyle) && "right" in this.baseStyle ? (style.right = -parseInt(style.left) + "px", delete style.left, !0) : "top" === key && !(key in this.baseStyle) && "bottom" in this.baseStyle ? (style.bottom = -parseInt(style.top) + "px", delete style.top, !0) : !1
        }, p._isPosition = function(key) {
            return "top" === key || "left" === key || "bottom" === key || "right" === key
        }, p._parallaxCalc = function() {
            var x_def = this._paraX - this._lastParaX,
                y_def = this._paraY - this._lastParaY;
            this._lastParaX += x_def / 12, this._lastParaY += y_def / 12, Math.abs(x_def) < .019 && (this._lastParaX = this._paraX), Math.abs(y_def) < .019 && (this._lastParaY = this._paraY)
        }, p._parallaxCSS3DRenderer = function() {
            this._parallaxCalc(), this.$parallaxElement[0].style[window._jcsspfx + "Transform"] = "translateX(" + this._lastParaX * this.parallax + "px) translateY(" + this._lastParaY * this.parallax + "px) translateZ(0)"
        }, p._parallaxCSS2DRenderer = function() {
            this._parallaxCalc(), this.$parallaxElement[0].style[window._jcsspfx + "Transform"] = "translateX(" + this._lastParaX * this.parallax + "px) translateY(" + this._lastParaY * this.parallax + "px)"
        }, p._parallax2DRenderer = function() {
            this._parallaxCalc(), this.alignedToBot ? this.$parallaxElement[0].style.bottom = this._lastParaY * this.parallax + "px" : this.$parallaxElement[0].style.top = this._lastParaY * this.parallax + "px", this.$parallaxElement[0].style.left = this._lastParaX * this.parallax + "px"
        }
    }(jQuery),
    function($) {
        window.MSImageLayerElement = function() {
            MSLayerElement.call(this), this.needPreload = !0, this.__cssConfig = ["width", "height", "margin-top", "padding-top", "margin-bottom", "padding-left", "margin-right", "padding-right", "margin-left", "padding-bottom", "left", "right", "top", "bottom"], this.type = "image"
        }, MSImageLayerElement.extend(MSLayerElement);
        var p = MSImageLayerElement.prototype,
            _super = MSLayerElement.prototype;
        p.create = function() {
            if (this.link) {
                var p = this.$element.parent();
                p.append(this.link), this.link.append(this.$element), this.link.removeClass("ms-layer"), this.$element.addClass("ms-layer"), p = null
            }
            if (_super.create.call(this), void 0 != this.$element.data("src")) this.img_src = this.$element.data("src"), this.$element.removeAttr("data-src");
            else {
                var that = this;
                this.$element.on("load", function() {
                    that.controller.preloadCount--, 0 === that.controller.preloadCount && that.controller._onlayersReady()
                }).each($.jqLoadFix)
            }
            $.browser.msie && this.$element.on("dragstart", function(event) {
                event.preventDefault()
            })
        }, p.loadImage = function() {
            var that = this;
            this.$element.preloadImg(this.img_src, function() {
                that.controller.preloadCount--, 0 === that.controller.preloadCount && that.controller._onlayersReady()
            })
        }
    }(jQuery),
    function($) {
        window.MSVideoLayerElement = function() {
            MSLayerElement.call(this), this.__cssConfig.push("height"), this.type = "video"
        }, MSVideoLayerElement.extend(MSLayerElement);
        var p = MSVideoLayerElement.prototype,
            _super = MSLayerElement.prototype;
        p.__playVideo = function() {
            this.img && CTween.fadeOut(this.img, 500, 2), CTween.fadeOut(this.video_btn, 500, 2), this.video_frame.attr("src", "about:blank").css("display", "block"), -1 == this.video_url.indexOf("?") && (this.video_url += "?"), this.video_frame.attr("src", this.video_url + "&autoplay=1")
        }, p.start = function() {
            _super.start.call(this), this.$element.data("autoplay") && this.__playVideo()
        }, p.reset = function() {
            return _super.reset.call(this), (this.needPreload || this.$element.data("btn")) && (this.video_btn.css("opacity", 1).css("display", "block"), this.video_frame.attr("src", "about:blank").css("display", "none")), this.needPreload ? void this.img.css("opacity", 1).css("display", "block") : void this.video_frame.attr("src", this.video_url)
        }, p.create = function() {
            _super.create.call(this), this.video_frame = this.$element.find("iframe").css({
                width: "100%",
                height: "100%"
            }), this.video_url = this.video_frame.attr("src");
            var has_img = 0 != this.$element.has("img").length;
            if (has_img || this.$element.data("btn")) {
                this.video_frame.attr("src", "about:blank").css("display", "none");
                var that = this;
                if (this.video_btn = $("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function() {
                        that.__playVideo()
                    }), has_img) {
                    if (this.needPreload = !0, this.img = this.$element.find("img:first").addClass("ms-video-img"), void 0 !== this.img.data("src")) this.img_src = this.img.data("src"), this.img.removeAttr("data-src");
                    else {
                        var that = this;
                        this.img.attr("src", this.img_src).on("load", function() {
                            that.controller.preloadCount--, 0 === that.controller.preloadCount && that.controller._onlayersReady()
                        }).each($.jqLoadFix)
                    }
                    $.browser.msie && this.img.on("dragstart", function(event) {
                        event.preventDefault()
                    })
                }
            }
        }, p.loadImage = function() {
            var that = this;
            this.img.preloadImg(this.img_src, function() {
                that.controller.preloadCount--, 0 === that.controller.preloadCount && that.controller._onlayersReady()
            })
        }
    }(jQuery),
    function($) {
        "use strict";
        window.MSHotspotLayer = function() {
            MSLayerElement.call(this), this.__cssConfig = ["margin-top", "padding-top", "margin-bottom", "padding-left", "margin-right", "padding-right", "margin-left", "padding-bottom", "left", "right", "top", "bottom"], this.ease = "Expo", this.hide_start = !0, this.type = "hotspot"
        }, MSHotspotLayer.extend(MSLayerElement);
        var p = MSHotspotLayer.prototype,
            _super = MSLayerElement.prototype;
        p._showTT = function() {
            this.show_cl && (clearTimeout(this.hto), this._tween && this._tween.stop(!0), this.hide_start && (this.align = this._orgAlign, this._locateTT(), this.tt.css({
                display: "block"
            }), this._tween = CTween.animate(this.tt, 900, this.to, {
                ease: "easeOut" + this.ease
            }), this.hide_start = !1))
        }, p._hideTT = function() {
            if (this.show_cl) {
                this._tween && this._tween.stop(!0);
                var that = this;
                clearTimeout(this.hto), this.hto = setTimeout(function() {
                    that.hide_start = !0, that._tween = CTween.animate(that.tt, 900, that.from, {
                        ease: "easeOut" + that.ease,
                        complete: function() {
                            that.tt.css("display", "none")
                        }
                    })
                }, 200)
            }
        }, p._updateClassName = function(name) {
            this._lastClass && this.tt.removeClass(this._lastClass), this.tt.addClass(name), this._lastClass = name
        }, p._alignPolicy = function() {
            {
                var w = (this.tt.outerHeight(!1), Math.max(this.tt.outerWidth(!1), parseInt(this.tt.css("max-width")))),
                    ww = window.innerWidth;
                window.innerHeight
            }
            switch (this.align) {
                case "top":
                    if (this.base_t < 0) return "bottom";
                    break;
                case "right":
                    if (this.base_l + w > ww || this.base_t < 0) return "bottom";
                    break;
                case "left":
                    if (this.base_l < 0 || this.base_t < 0) return "bottom"
            }
            return null
        }, p._locateTT = function() {
            var os = this.$element.offset(),
                os2 = this.slide.slider.$element.offset(),
                dist = 50,
                space = 15;
            this.pos_x = os.left - os2.left - this.slide.slider.$element.scrollLeft(), this.pos_y = os.top - os2.top - this.slide.slider.$element.scrollTop(), this.from = {
                opacity: 0
            }, this.to = {
                opacity: 1
            }, this._updateClassName("ms-tooltip-" + this.align), this.tt_arrow.css("margin-left", "");
            var arrow_w = 15,
                arrow_h = 15;
            switch (this.align) {
                case "top":
                    var w = Math.min(this.tt.outerWidth(!1), parseInt(this.tt.css("max-width")));
                    this.base_t = this.pos_y - this.tt.outerHeight(!1) - arrow_h - space, this.base_l = this.pos_x - w / 2, this.base_l + w > window.innerWidth && (this.tt_arrow.css("margin-left", -arrow_w / 2 + this.base_l + w - window.innerWidth + "px"), this.base_l = window.innerWidth - w), this.base_l < 0 && (this.base_l = 0, this.tt_arrow.css("margin-left", -arrow_w / 2 + this.pos_x - this.tt.outerWidth(!1) / 2 + "px")), window._css3d ? (this.from[window._jcsspfx + "Transform"] = "translateY(-" + dist + "px)", this.to[window._jcsspfx + "Transform"] = "") : (this.from.top = this.base_t - dist + "px", this.to.top = this.base_t + "px");
                    break;
                case "bottom":
                    var w = Math.min(this.tt.outerWidth(!1), parseInt(this.tt.css("max-width")));
                    this.base_t = this.pos_y + arrow_h + space, this.base_l = this.pos_x - w / 2, this.base_l + w > window.innerWidth && (this.tt_arrow.css("margin-left", -arrow_w / 2 + this.base_l + w - window.innerWidth + "px"), this.base_l = window.innerWidth - w), this.base_l < 0 && (this.base_l = 0, this.tt_arrow.css("margin-left", -arrow_w / 2 + this.pos_x - this.tt.outerWidth(!1) / 2 + "px")), window._css3d ? (this.from[window._jcsspfx + "Transform"] = "translateY(" + dist + "px)", this.to[window._jcsspfx + "Transform"] = "") : (this.from.top = this.base_t + dist + "px", this.to.top = this.base_t + "px");
                    break;
                case "right":
                    this.base_l = this.pos_x + arrow_w + space, this.base_t = this.pos_y - this.tt.outerHeight(!1) / 2, window._css3d ? (this.from[window._jcsspfx + "Transform"] = "translateX(" + dist + "px)", this.to[window._jcsspfx + "Transform"] = "") : (this.from.left = this.base_l + dist + "px", this.to.left = this.base_l + "px");
                    break;
                case "left":
                    this.base_l = this.pos_x - arrow_w - this.tt.outerWidth(!1) - space, this.base_t = this.pos_y - this.tt.outerHeight(!1) / 2, window._css3d ? (this.from[window._jcsspfx + "Transform"] = "translateX(-" + dist + "px)", this.to[window._jcsspfx + "Transform"] = "") : (this.from.left = this.base_l - dist + "px", this.to.left = this.base_l + "px")
            }
            var policyAlign = this._alignPolicy();
            return null !== policyAlign ? (this.align = policyAlign, void this._locateTT()) : (this.tt.css("top", parseInt(this.base_t) + "px").css("left", parseInt(this.base_l) + "px"), void this.tt.css(this.from))
        }, p.start = function() {
            _super.start.call(this), this.tt.appendTo(this.slide.slider.$element), this.tt.css("display", "none")
        }, p.reset = function() {
            _super.reset.call(this), this.tt.detach()
        }, p.create = function() {
            var that = this;
            this._orgAlign = this.align = void 0 !== this.$element.data("align") ? this.$element.data("align") : "top", this.data = this.$element.html(), this.$element.html("").on("mouseenter", function() {
                that._showTT()
            }).on("mouseleave", function() {
                that._hideTT()
            }), this.point = $('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);
            var link = this.$element.data("link"),
                target = this.$element.data("target");
            link && this.point.on("click", function() {
                window.open(link, target || "_self")
            }), this.tt = $("<div></div>").addClass("ms-tooltip").css("display", "hidden").css("opacity", 0), void 0 !== this.$element.data("width") && this.tt.css("width", this.$element.data("width")).css("max-width", this.$element.data("width")), this.tt_arrow = $("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt), this._updateClassName("ms-tooltip-" + this.align), this.ttcont = $("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt), this.$element.data("stay-hover") === !0 && this.tt.on("mouseenter", function() {
                that.hide_start || (clearTimeout(that.hto), that._tween.stop(!0), that._showTT())
            }).on("mouseleave", function() {
                that._hideTT()
            }), _super.create.call(this)
        }
    }(jQuery),
    function() {
        window.MSButtonLayer = function() {
            MSLayerElement.call(this), this.type = "button"
        }, MSButtonLayer.extend(MSLayerElement);
        var p = MSButtonLayer.prototype,
            _super = MSLayerElement.prototype,
            positionKies = ["top", "left", "bottom", "right"];
        p.create = function() {
            _super.create.call(this), this.$element.wrap('<div class="ms-btn-container"></div>').css("position", "relative"), this.$container = this.$element.parent()
        }, p.locate = function() {
            _super.locate.call(this);
            for (var key, tempValue, i = 0; 4 > i; i++) key = positionKies[i], key in this.baseStyle && (tempValue = this.$element.css(key), this.$element.css(key, ""), this.$container.css(key, tempValue));
            this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))
        }
    }(jQuery), window.MSSliderEvent = function(type) {
        this.type = type
    }, MSSliderEvent.CHANGE_START = "ms_changestart", MSSliderEvent.CHANGE_END = "ms_changeend", MSSliderEvent.WAITING = "ms_waiting", MSSliderEvent.AUTOPLAY_CHANGE = "ms_autoplaychange", MSSliderEvent.VIDEO_PLAY = "ms_videoPlay", MSSliderEvent.VIDEO_CLOSE = "ms_videoclose", MSSliderEvent.INIT = "ms_init", MSSliderEvent.HARD_UPDATE = "ms_hard_update", MSSliderEvent.RESIZE = "ms_resize", MSSliderEvent.RESERVED_SPACE_CHANGE = "ms_rsc", MSSliderEvent.DESTROY = "ms_destroy",
    function(window, document, $) {
        "use strict";
        window.MSSlide = function() {
            this.$element = null, this.$loading = $("<div></div>").addClass("ms-slide-loading"), this.view = null, this.index = -1, this.__width = 0, this.__height = 0, this.fillMode = "fill", this.selected = !1, this.pselected = !1, this.autoAppend = !0, this.isSleeping = !0, this.moz = $.browser.mozilla
        };
        var p = MSSlide.prototype;
        p.onSwipeStart = function() {
            this.link && (this.linkdis = !0), this.video && (this.videodis = !0)
        }, p.onSwipeMove = function(e) {
            var move = Math.max(Math.abs(e.data.distanceX), Math.abs(e.data.distanceY));
            this.swipeMoved = move > 4
        }, p.onSwipeCancel = function() {
            return this.swipeMoved ? void(this.swipeMoved = !1) : (this.link && (this.linkdis = !1), void(this.video && (this.videodis = !1)))
        }, p.setupLayerController = function() {
            this.hasLayers = !0, this.layerController = new MSLayerController(this)
        }, p.assetsLoaded = function() {
            this.ready = !0, this.slider.api._startTimer(), (this.selected || this.pselected && this.slider.options.instantStartLayers) && (this.hasLayers && this.layerController.showLayers(), this.vinit && (this.bgvideo.play(), this.autoPauseBgVid || (this.bgvideo.currentTime = 0))), this.isSleeping || this.setupBG(), CTween.fadeOut(this.$loading, 300, !0), (0 === this.slider.options.preload || "all" === this.slider.options.preload) && this.index < this.view.slideList.length - 1 ? this.view.slideList[this.index + 1].loadImages() : "all" === this.slider.options.preload && this.index === this.view.slideList.length - 1 && this.slider._removeLoading()
        }, p.setBG = function(img) {
            this.hasBG = !0;
            var that = this;
            this.$imgcont = $("<div></div>").addClass("ms-slide-bgcont"), this.$element.append(this.$loading).append(this.$imgcont), this.$bg_img = $(img).css("visibility", "hidden"), this.$imgcont.append(this.$bg_img), this.bgAligner = new MSAligner(that.fillMode, that.$imgcont, that.$bg_img), this.bgAligner.widthOnly = this.slider.options.autoHeight, that.slider.options.autoHeight && (that.pselected || that.selected) && that.slider.setHeight(that.slider.options.height), void 0 !== this.$bg_img.data("src") ? (this.bg_src = this.$bg_img.data("src"), this.$bg_img.removeAttr("data-src")) : this.$bg_img.one("load", function(event) {
                that._onBGLoad(event)
            }).each($.jqLoadFix)
        }, p.setupBG = function() {
            !this.initBG && this.bgLoaded && (this.initBG = !0, this.$bg_img.css("visibility", ""), this.bgWidth = this.bgNatrualWidth || this.$bg_img.width(), this.bgHeight = this.bgNatrualHeight || this.$bg_img.height(), CTween.fadeIn(this.$imgcont, 300), this.slider.options.autoHeight && this.$imgcont.height(this.bgHeight * this.ratio), this.bgAligner.init(this.bgWidth, this.bgHeight), this.setSize(this.__width, this.__height), this.slider.options.autoHeight && (this.pselected || this.selected) && this.slider.setHeight(this.getHeight()))
        }, p.loadImages = function() {
            if (!this.ls) {
                if (this.ls = !0, this.bgvideo && this.bgvideo.load(), this.hasBG && this.bg_src) {
                    var that = this;
                    this.$bg_img.preloadImg(this.bg_src, function(event) {
                        that._onBGLoad(event)
                    })
                }
                this.hasLayers && this.layerController.loadLayers(this._onLayersLoad), this.hasBG || this.hasLayers || this.assetsLoaded()
            }
        }, p._onLayersLoad = function() {
            this.layersLoaded = !0, (!this.hasBG || this.bgLoaded) && this.assetsLoaded()
        }, p._onBGLoad = function(event) {
            this.bgNatrualWidth = event.width, this.bgNatrualHeight = event.height, this.bgLoaded = !0, $.browser.msie && this.$bg_img.on("dragstart", function(event) {
                event.preventDefault()
            }), (!this.hasLayers || this.layerController.ready) && this.assetsLoaded()
        }, p.setBGVideo = function($video) {
            if ($video[0].play) {
                if (window._mobile && !this.slider.options.mobileBGVideo) return void $video.remove();
                this.bgvideo = $video[0];
                var that = this;
                $video.addClass("ms-slide-bgvideo"), $video.data("loop") !== !1 && (this.bgvideo.loop = !0), $video.data("mute") !== !1 && (this.bgvideo.muted = !0), $video.data("autopause") === !0 && (this.autoPauseBgVid = !0), this.bgvideo.setAttribute("playsinline", ""), this.bgvideo_fillmode = $video.data("fill-mode") || "fill", "none" !== this.bgvideo_fillmode && (this.bgVideoAligner = new MSAligner(this.bgvideo_fillmode, this.$element, $video), this.bgvideo.addEventListener("loadedmetadata", function() {
                    that.vinit || (that.vinit = !0, that.video_aspect = that.bgVideoAligner.baseHeight / that.bgVideoAligner.baseWidth, that.bgVideoAligner.init(that.bgvideo.videoWidth, that.bgvideo.videoHeight), that._alignBGVideo(), CTween.fadeIn($(that.bgvideo), 200), that.selected && that.bgvideo.play())
                })), $video.css("opacity", 0), this.$bgvideocont = $("<div></div>").addClass("ms-slide-bgvideocont").append($video), this.hasBG ? this.$imgcont.before(this.$bgvideocont) : this.$bgvideocont.appendTo(this.$element)
            }
        }, p._alignBGVideo = function() {
            this.bgvideo_fillmode && "none" !== this.bgvideo_fillmode && this.bgVideoAligner.align()
        }, p.setSize = function(width, height, hard) {
            this.__width = width, this.slider.options.autoHeight && (this.bgLoaded ? (this.ratio = this.__width / this.bgWidth, height = Math.floor(this.ratio * this.bgHeight), this.$imgcont.height(height)) : (this.ratio = width / this.slider.options.width, height = this.slider.options.height * this.ratio)), this.__height = height, this.$element.width(width).height(height), this.hasBG && this.bgLoaded && this.bgAligner.align(), this._alignBGVideo(), this.hasLayers && this.layerController.setSize(width, height, hard)
        }, p.getHeight = function() {
            return this.hasBG && this.bgLoaded ? this.bgHeight * this.ratio : Math.max(this.$element[0].clientHeight, this.slider.options.height * this.ratio)
        }, p.__playVideo = function() {
            this.vplayed || this.videodis || (this.vplayed = !0, this.slider.api.paused || (this.slider.api.pause(), this.roc = !0), this.vcbtn.css("display", ""), CTween.fadeOut(this.vpbtn, 500, !1), CTween.fadeIn(this.vcbtn, 500), CTween.fadeIn(this.vframe, 500), this.vframe.css("display", "block").attr("src", this.video + "&autoplay=1"), this.view.$element.addClass("ms-def-cursor"), this.moz && this.view.$element.css("perspective", "none"), this.view.swipeControl && this.view.swipeControl.disable(), this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))
        }, p.__closeVideo = function() {
            if (this.vplayed) {
                this.vplayed = !1, this.roc && this.slider.api.resume();
                var that = this;
                CTween.fadeIn(this.vpbtn, 500), CTween.animate(this.vcbtn, 500, {
                    opacity: 0
                }, {
                    complete: function() {
                        that.vcbtn.css("display", "none")
                    }
                }), CTween.animate(this.vframe, 500, {
                    opacity: 0
                }, {
                    complete: function() {
                        that.vframe.attr("src", "about:blank").css("display", "none")
                    }
                }), this.moz && this.view.$element.css("perspective", ""), this.view.swipeControl && this.view.swipeControl.enable(), this.view.$element.removeClass("ms-def-cursor"), this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))
            }
        }, p.create = function() {
            var that = this;
            this.hasLayers && this.layerController.create(), this.link && this.link.addClass("ms-slide-link").html("").click(function(e) {
                that.linkdis && e.preventDefault()
            }), this.video && (-1 === this.video.indexOf("?") && (this.video += "?"), this.vframe = $("<iframe></iframe>").addClass("ms-slide-video").css({
                width: "100%",
                height: "100%",
                display: "none"
            }).attr("src", "about:blank").attr("allowfullscreen", "true").appendTo(this.$element), this.vpbtn = $("<div></div>").addClass("ms-slide-vpbtn").click(function() {
                that.__playVideo()
            }).appendTo(this.$element), this.vcbtn = $("<div></div>").addClass("ms-slide-vcbtn").click(function() {
                that.__closeVideo()
            }).appendTo(this.$element).css("display", "none"), window._touch && this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())), !this.slider.options.autoHeight && this.hasBG && (this.$imgcont.css("height", "100%"), ("center" === this.fillMode || "stretch" === this.fillMode) && (this.fillMode = "fill")), this.slider.options.autoHeight && this.$element.addClass("ms-slide-auto-height"), this.sleep(!0)
        }, p.destroy = function() {
            this.hasLayers && (this.layerController.destroy(), this.layerController = null), this.$element.remove(), this.$element = null
        }, p.prepareToSelect = function() {
            this.pselected || this.selected || (this.pselected = !0, (this.link || this.video) && (this.view.addEventListener(MSViewEvents.SWIPE_START, this.onSwipeStart, this), this.view.addEventListener(MSViewEvents.SWIPE_MOVE, this.onSwipeMove, this), this.view.addEventListener(MSViewEvents.SWIPE_CANCEL, this.onSwipeCancel, this), this.linkdis = !1, this.swipeMoved = !1), this.loadImages(), this.hasLayers && this.layerController.prepareToShow(), this.ready && (this.bgvideo && this.bgvideo.play(), this.hasLayers && this.slider.options.instantStartLayers && this.layerController.showLayers()), this.moz && this.$element.css("margin-top", ""))
        }, p.select = function() {
            this.selected || (this.selected = !0, this.pselected = !1, this.$element.addClass("ms-sl-selected"), this.hasLayers && (this.slider.options.autoHeight && this.layerController.updateHeight(), this.slider.options.instantStartLayers || this.layerController.showLayers()), this.ready && this.bgvideo && this.bgvideo.play(), this.videoAutoPlay && (this.videodis = !1, this.vpbtn.trigger("click")))
        }, p.unselect = function() {
            this.pselected = !1, this.moz && this.$element.css("margin-top", "0.1px"), (this.link || this.video) && (this.view.removeEventListener(MSViewEvents.SWIPE_START, this.onSwipeStart, this), this.view.removeEventListener(MSViewEvents.SWIPE_MOVE, this.onSwipeMove, this), this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL, this.onSwipeCancel, this)), this.bgvideo && (this.bgvideo.pause(), !this.autoPauseBgVid && this.vinit && (this.bgvideo.currentTime = 0)), this.hasLayers && this.layerController.hideLayers(), this.selected && (this.selected = !1, this.$element.removeClass("ms-sl-selected"), this.video && this.vplayed && (this.__closeVideo(), this.roc = !1))
        }, p.sleep = function(force) {
            (!this.isSleeping || force) && (this.isSleeping = !0, this.autoAppend && this.$element.detach(), this.hasLayers && this.layerController.onSlideSleep())
        }, p.wakeup = function() {
            this.isSleeping && (this.isSleeping = !1, this.autoAppend && this.view.$slideCont.append(this.$element), this.moz && this.$element.css("margin-top", "0.1px"), this.setupBG(), this.hasBG && this.bgAligner.align(), this.hasLayers && this.layerController.onSlideWakeup())
        }
    }(window, document, jQuery),
    function($) {
        "use strict";
        var SliderViewList = {};
        window.MSSlideController = function(slider) {
            this._delayProgress = 0, this._timer = new averta.Timer(100), this._timer.onTimer = this.onTimer, this._timer.refrence = this, this.currentSlide = null, this.slider = slider, this.so = slider.options, averta.EventDispatcher.call(this)
        }, MSSlideController.registerView = function(name, _class) {
            if (name in SliderViewList) throw new Error(name + ", is already registered.");
            SliderViewList[name] = _class
        }, MSSlideController.SliderControlList = {}, MSSlideController.registerControl = function(name, _class) {
            if (name in MSSlideController.SliderControlList) throw new Error(name + ", is already registered.");
            MSSlideController.SliderControlList[name] = _class
        };
        var p = MSSlideController.prototype;
        p.setupView = function() {
            var that = this;
            this.resize_listener = function() {
                that.__resize()
            };
            var viewOptions = {
                spacing: this.so.space,
                mouseSwipe: this.so.mouse,
                loop: this.so.loop,
                autoHeight: this.so.autoHeight,
                swipe: this.so.swipe,
                speed: this.so.speed,
                dir: this.so.dir,
                viewNum: this.so.inView,
                critMargin: this.so.critMargin
            };
            this.so.viewOptions && $.extend(viewOptions, this.so.viewOptions), this.so.autoHeight && (this.so.heightLimit = !1);
            var viewClass = SliderViewList[this.slider.options.view] || MSBasicView;
            if (!viewClass._3dreq || window._css3d && !$.browser.msie || (viewClass = viewClass._fallback || MSBasicView), this.view = new viewClass(viewOptions), this.so.overPause) {
                var that = this;
                this.slider.$element.mouseenter(function() {
                    that.is_over = !0, that._stopTimer()
                }).mouseleave(function() {
                    that.is_over = !1, that._startTimer()
                })
            }
        }, p.onChangeStart = function() {
            this.change_started = !0, this.currentSlide && this.currentSlide.unselect(), this.currentSlide = this.view.currentSlide, this.currentSlide.prepareToSelect(), this.so.endPause && this.currentSlide.index === this.slider.slides.length - 1 && (this.pause(), this.skipTimer()), this.so.autoHeight && this.slider.setHeight(this.currentSlide.getHeight()), this.so.deepLink && this.__updateWindowHash(), this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))
        }, p.onChangeEnd = function() {
            if (this.change_started = !1, this._startTimer(), this.currentSlide.select(), this.so.preload > 1) {
                var loc, i, slide, l = this.so.preload - 1;
                for (i = 1; l >= i; ++i) {
                    if (loc = this.view.index + i, loc >= this.view.slideList.length) {
                        if (!this.so.loop) {
                            i = l;
                            continue
                        }
                        loc -= this.view.slideList.length
                    }
                    slide = this.view.slideList[loc], slide && slide.loadImages()
                }
                for (l > this.view.slideList.length / 2 && (l = Math.floor(this.view.slideList.length / 2)), i = 1; l >= i; ++i) {
                    if (loc = this.view.index - i, 0 > loc) {
                        if (!this.so.loop) {
                            i = l;
                            continue
                        }
                        loc = this.view.slideList.length + loc
                    }
                    slide = this.view.slideList[loc], slide && slide.loadImages()
                }
            }
            this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))
        }, p.onSwipeStart = function() {
            this.skipTimer()
        }, p.skipTimer = function() {
            this._timer.reset(), this._delayProgress = 0, this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))
        }, p.onTimer = function() {
            if (this._timer.getTime() >= 1e3 * this.view.currentSlide.delay && (this.skipTimer(), this.view.next(), this.hideCalled = !1), this._delayProgress = this._timer.getTime() / (10 * this.view.currentSlide.delay), this.so.hideLayers && !this.hideCalled && 1e3 * this.view.currentSlide.delay - this._timer.getTime() <= 300) {
                var currentSlide = this.view.currentSlide;
                currentSlide.hasLayers && currentSlide.layerController.animHideLayers(), this.hideCalled = !0
            }
            this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))
        }, p._stopTimer = function() {
            this._timer && this._timer.stop()
        }, p._startTimer = function() {
            this.paused || this.is_over || !this.currentSlide || !this.currentSlide.ready || this.change_started || this._timer.start()
        }, p.__appendSlides = function() {
            var slide, loc, i = 0,
                l = this.view.slideList.length - 1;
            for (i; l > i; ++i) slide = this.view.slideList[i], slide.detached || (slide.$element.detach(), slide.detached = !0);
            for (this.view.appendSlide(this.view.slideList[this.view.index]), l = 3, i = 1; l >= i; ++i) {
                if (loc = this.view.index + i, loc >= this.view.slideList.length) {
                    if (!this.so.loop) {
                        i = l;
                        continue
                    }
                    loc -= this.view.slideList.length
                }
                slide = this.view.slideList[loc], slide.detached = !1, this.view.appendSlide(slide)
            }
            for (l > this.view.slideList.length / 2 && (l = Math.floor(this.view.slideList.length / 2)), i = 1; l >= i; ++i) {
                if (loc = this.view.index - i, 0 > loc) {
                    if (!this.so.loop) {
                        i = l;
                        continue
                    }
                    loc = this.view.slideList.length + loc
                }
                slide = this.view.slideList[loc], slide.detached = !1, this.view.appendSlide(slide)
            }
        }, p.__resize = function(hard) {
            this.created && (this.width = this.slider.$element[0].clientWidth || this.so.width, this.so.fullwidth || (this.width = Math.min(this.width, this.so.width)), this.so.fullheight ? (this.so.heightLimit = !1, this.so.autoHeight = !1, this.height = this.slider.$element[0].clientHeight) : this.height = this.width / this.slider.aspect, this.so.autoHeight ? (this.currentSlide.setSize(this.width, null, hard), this.view.setSize(this.width, this.currentSlide.getHeight(), hard)) : this.view.setSize(this.width, Math.max(this.so.minHeight, this.so.heightLimit ? Math.min(this.height, this.so.height) : this.height), hard), this.slider.$controlsCont && this.so.centerControls && this.so.fullwidth && this.view.$element.css("left", Math.min(0, -(this.slider.$element[0].clientWidth - this.so.width) / 2) + "px"), this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))
        }, p.__dispatchInit = function() {
            this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))
        }, p.__updateWindowHash = function() {
            var hash = window.location.hash,
                dl = this.so.deepLink,
                dlt = this.so.deepLinkType,
                eq = "path" === dlt ? "/" : "=",
                sep = "path" === dlt ? "/" : "&",
                sliderHash = dl + eq + (this.view.index + 1),
                regTest = new RegExp(dl + eq + "[0-9]+", "g");
            window.location.hash = "" === hash ? sep + sliderHash : regTest.test(hash) ? hash.replace(regTest, sliderHash) : hash + sep + sliderHash
        }, p.__curentSlideInHash = function() {
            var hash = window.location.hash,
                dl = this.so.deepLink,
                dlt = this.so.deepLinkType,
                eq = "path" === dlt ? "/" : "=",
                regTest = new RegExp(dl + eq + "[0-9]+", "g");
            if (regTest.test(hash)) {
                var index = Number(hash.match(regTest)[0].match(/[0-9]+/g).pop());
                if (!isNaN(index)) return index - 1
            }
            return -1
        }, p.__onHashChanged = function() {
            var index = this.__curentSlideInHash(); - 1 !== index && this.gotoSlide(index)
        }, p.__findLayerById = function(layerId) {
            if (!this.currentSlide) return null;
            var layer;
            return this.currentSlide.layerController && (layer = this.currentSlide.layerController.getLayerById(layerId)), !layer && this.slider.overlayLayers ? this.slider.overlayLayers.layerController.getLayerById(layerId) : layer
        }, p.setup = function() {
            this.created = !0, this.paused = !this.so.autoplay, this.view.addEventListener(MSViewEvents.CHANGE_START, this.onChangeStart, this), this.view.addEventListener(MSViewEvents.CHANGE_END, this.onChangeEnd, this), this.view.addEventListener(MSViewEvents.SWIPE_START, this.onSwipeStart, this), this.currentSlide = this.view.slideList[this.so.start - 1], this.__resize();
            var slideInHash = this.__curentSlideInHash(),
                startSlide = -1 !== slideInHash ? slideInHash : this.so.start - 1;
            if (this.view.create(startSlide), 0 === this.so.preload && this.view.slideList[0].loadImages(), this.scroller = this.view.controller, this.so.wheel) {
                var that = this,
                    last_time = (new Date).getTime();
                this.wheellistener = function(event) {
                    var e = window.event || event.orginalEvent || event;
                    e.preventDefault();
                    var current_time = (new Date).getTime();
                    if (!(400 > current_time - last_time)) {
                        last_time = current_time;
                        var delta = Math.abs(e.detail || e.wheelDelta);
                        $.browser.mozilla && (delta *= 100);
                        var scrollThreshold = 15;
                        return e.detail < 0 || e.wheelDelta > 0 ? delta >= scrollThreshold && that.previous(!0) : delta >= scrollThreshold && that.next(!0), !1
                    }
                }, $.browser.mozilla ? this.slider.$element[0].addEventListener("DOMMouseScroll", this.wheellistener) : this.slider.$element.bind("mousewheel", this.wheellistener)
            }
            0 === this.slider.$element[0].clientWidth && (this.slider.init_safemode = !0), this.__resize();
            var that = this;
            this.so.deepLink && $(window).on("hashchange", function() {
                that.__onHashChanged()
            })
        }, p.index = function() {
            return this.view.index
        }, p.count = function() {
            return this.view.slidesCount
        }, p.next = function(checkLoop) {
            this.skipTimer(), this.view.next(checkLoop)
        }, p.previous = function(checkLoop) {
            this.skipTimer(), this.view.previous(checkLoop)
        }, p.gotoSlide = function(index) {
            index = Math.min(index, this.count() - 1), this.skipTimer(), this.view.gotoSlide(index)
        }, p.destroy = function(reset) {
            this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY)), this.slider.destroy(reset)
        }, p._destroy = function() {
            this._timer.reset(), this._timer = null, $(window).unbind("resize", this.resize_listener), this.view.destroy(), this.view = null, this.so.wheel && ($.browser.mozilla ? this.slider.$element[0].removeEventListener("DOMMouseScroll", this.wheellistener) : this.slider.$element.unbind("mousewheel", this.wheellistener), this.wheellistener = null), this.so = null
        }, p.runAction = function(action) {
            var actionParams = [];
            if (-1 !== action.indexOf("(")) {
                var temp = action.slice(0, action.indexOf("("));
                actionParams = action.slice(action.indexOf("(") + 1, -1).replace(/\"|\'|\s/g, "").split(","), action = temp
            }
            action in this ? this[action].apply(this, actionParams) : console
        }, p.update = function(hard) {
            this.slider.init_safemode && hard && (this.slider.init_safemode = !1), this.__resize(hard), hard && this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE))
        }, p.locate = function() {
            this.__resize()
        }, p.resume = function() {
            this.paused && (this.paused = !1, this._startTimer())
        }, p.pause = function() {
            this.paused || (this.paused = !0, this._stopTimer())
        }, p.currentTime = function() {
            return this._delayProgress
        }, p.showLayer = function(layerId, delay) {
            var layer = this.__findLayerById(layerId);
            layer && (delay ? (clearTimeout(layer.actionTimeout), layer.actionTimeout = setTimeout(this.showLayer, delay, layerId, 0)) : layer.start())
        }, p.hideLayer = function(layerId, delay) {
            var layer = this.__findLayerById(layerId);
            layer && (delay ? (clearTimeout(layer.actionTimeout), layer.actionTimeout = setTimeout(this.hideLayer, delay, layerId, 0)) : layer.hide())
        }, p.toggleLayer = function(layerId, delay) {
            var layer = this.__findLayerById(layerId);
            layer && (delay ? (clearTimeout(layer.actionTimeout), layer.actionTimeout = setTimeout(this.toggleLayer, delay, layerId, 0)) : layer.isShowing ? layer.hide() : layer.start())
        }, p.showLayers = function(layerIds, delay) {
            var self = this;
            $.each(layerIds.replace(/\s+/g, "").split("|"), function(index, layerId) {
                self.showLayer(layerId, delay)
            })
        }, p.hideLayers = function(layerIds, delay) {
            var self = this;
            $.each(layerIds.replace(/\s+/g, "").split("|"), function(index, layerId) {
                self.hideLayer(layerId, delay)
            })
        }, p.toggleLayers = function(layerIds, delay) {
            var self = this;
            $.each(layerIds.replace(/\s+/g, "").split("|"), function(index, layerId) {
                self.toggleLayer(layerId, delay)
            })
        }, averta.EventDispatcher.extend(p)
    }(jQuery),
    function($) {
        "use strict";
        var LayerTypes = {
            image: MSImageLayerElement,
            text: MSLayerElement,
            video: MSVideoLayerElement,
            hotspot: MSHotspotLayer,
            button: MSButtonLayer
        };
        window.MasterSlider = function() {
            this.options = {
                forceInit: !0,
                autoplay: !1,
                loop: !1,
                mouse: !0,
                swipe: !0,
                grabCursor: !0,
                space: 0,
                fillMode: "fill",
                start: 1,
                view: "basic",
                width: 300,
                height: 150,
                inView: 15,
                critMargin: 1,
                mobileBGVideo: !1,
                heightLimit: !0,
                smoothHeight: !0,
                autoHeight: !1,
                minHeight: -1,
                fullwidth: !1,
                fullheight: !1,
                autofill: !1,
                layersMode: "center",
                hideLayers: !1,
                endPause: !1,
                centerControls: !0,
                overPause: !0,
                shuffle: !1,
                speed: 17,
                dir: "h",
                preload: 0,
                wheel: !1,
                layout: "boxed",
                autofillTarget: null,
                fullscreenMargin: 0,
                instantStartLayers: !1,
                parallaxMode: "mouse",
                rtl: !1,
                deepLink: null,
                deepLinkType: "path",
                disablePlugins: []
            }, this.slides = [], this.activePlugins = [], this.$element = null, this.lastMargin = 0, this.leftSpace = 0, this.topSpace = 0, this.rightSpace = 0, this.bottomSpace = 0, this._holdOn = 0;
            var that = this;
            this.resize_listener = function() {
                that._resize()
            }, $(window).bind("resize", this.resize_listener)
        }, MasterSlider.author = "Averta Ltd. (www.averta.net)", MasterSlider.version = "2.61.2", MasterSlider.releaseDate = "Jul 2018", MasterSlider._plugins = [];
        var MS = MasterSlider;
        MS.registerPlugin = function(plugin) {
            -1 === MS._plugins.indexOf(plugin) && MS._plugins.push(plugin)
        };
        var p = MasterSlider.prototype;
        p.__setupSlides = function() {
            var new_slide, that = this,
                ind = 0;
            this.$element.children(".ms-slide").each(function() {
                var $slide_ele = $(this);
                new_slide = new MSSlide, new_slide.$element = $slide_ele, new_slide.slider = that, new_slide.delay = void 0 !== $slide_ele.data("delay") ? $slide_ele.data("delay") : 3, new_slide.fillMode = void 0 !== $slide_ele.data("fill-mode") ? $slide_ele.data("fill-mode") : that.options.fillMode, new_slide.index = ind++, new_slide.id = $slide_ele.data("id");
                var slide_img = $slide_ele.children("img:not(.ms-layer)");
                slide_img.length > 0 && new_slide.setBG(slide_img[0]);
                var slide_video = $slide_ele.children("video");
                if (slide_video.length > 0 && new_slide.setBGVideo(slide_video), that.controls)
                    for (var i = 0, l = that.controls.length; l > i; ++i) that.controls[i].slideAction(new_slide);
                $slide_ele.children("a").each(function() {
                    var $this = $(this);
                    "video" === this.getAttribute("data-type") ? (new_slide.video = this.getAttribute("href"), new_slide.videoAutoPlay = $this.data("autoplay"), $this.remove()) : $this.hasClass("ms-layer") || (new_slide.link = $(this))
                });
                that.__createSlideLayers(new_slide, $slide_ele.find(".ms-layer")), that.slides.push(new_slide), that.slideController.view.addSlide(new_slide)
            })
        }, p._setupOverlayLayers = function() {
            var self = this,
                $ollayers = this.$element.children(".ms-overlay-layers").eq(0);
            if ($ollayers.length) {
                var overlayLayers = new MSOverlayLayers(this);
                overlayLayers.$element = $ollayers, self.__createSlideLayers(overlayLayers, $ollayers.find(".ms-layer")), this.view.$element.prepend($ollayers), this.overlayLayers = overlayLayers, overlayLayers.create()
            }
        }, p.__createSlideLayers = function(slide, layers) {
            0 != layers.length && (slide.setupLayerController(), layers.each(function(index, domEle) {
                var $parent_ele, $layer_element = $(this);
                "A" === domEle.nodeName && "image" === $layer_element.find(">img").data("type") && ($parent_ele = $(this), $layer_element = $parent_ele.find("img"));
                var layer = new(LayerTypes[$layer_element.data("type") || "text"]);
                layer.$element = $layer_element, layer.link = $parent_ele, layer.id = layer.$element.data("id"), layer.waitForAction = layer.$element.data("wait"), layer.masked = layer.$element.data("masked"), layer.maskWidth = layer.$element.data("mask-width"), layer.maskHeight = layer.$element.data("mask-height");
                var eff_parameters = {},
                    end_eff_parameters = {};
                void 0 !== $layer_element.data("effect") && (eff_parameters.name = $layer_element.data("effect")), void 0 !== $layer_element.data("ease") && (eff_parameters.ease = $layer_element.data("ease")), void 0 !== $layer_element.data("duration") && (eff_parameters.duration = $layer_element.data("duration")), void 0 !== $layer_element.data("delay") && (eff_parameters.delay = $layer_element.data("delay")), $layer_element.data("hide-effect") && (end_eff_parameters.name = $layer_element.data("hide-effect")), $layer_element.data("hide-ease") && (end_eff_parameters.ease = $layer_element.data("hide-ease")), void 0 !== $layer_element.data("hide-duration") && (end_eff_parameters.duration = $layer_element.data("hide-duration")), void 0 !== $layer_element.data("hide-time") && (end_eff_parameters.time = $layer_element.data("hide-time")), layer.setStartAnim(eff_parameters), layer.setEndAnim(end_eff_parameters), slide.layerController.addLayer(layer)
            }))
        }, p._removeLoading = function() {
            $(window).unbind("resize", this.resize_listener), this.$element.removeClass("before-init").css("visibility", "visible").css("height", "").css("opacity", 0), CTween.fadeIn(this.$element), this.$loading.remove(), this.slideController && this.slideController.__resize()
        }, p._resize = function() {
            if (this.$loading) {
                var h = this.$loading[0].clientWidth / this.aspect;
                h = this.options.heightLimit ? Math.min(h, this.options.height) : h, this.$loading.height(h), this.$element.height(h)
            }
        }, p._shuffleSlides = function() {
            for (var r, slides = this.$element.children(".ms-slide"), i = 0, l = slides.length; l > i; ++i) r = Math.floor(Math.random() * (l - 1)), i != r && (this.$element[0].insertBefore(slides[i], slides[r]), slides = this.$element.children(".ms-slide"))
        }, p._setupSliderLayout = function() {
            this._updateSideMargins(), this.lastMargin = this.leftSpace;
            var lo = this.options.layout;
            "boxed" !== lo && "partialview" !== lo && (this.options.fullwidth = !0), ("fullscreen" === lo || "autofill" === lo) && (this.options.fullheight = !0, "autofill" === lo && (this.$autofillTarget = $(this.options.autofillTarget), 0 === this.$autofillTarget.length && (this.$autofillTarget = this.$element.parent()))), "partialview" === lo && this.$element.addClass("ms-layout-partialview"), ("fullscreen" === lo || "fullwidth" === lo || "autofill" === lo) && ($(window).bind("resize", {
                that: this
            }, this._updateLayout), this._updateLayout()), $(window).bind("resize", this.slideController.resize_listener)
        }, p._updateLayout = function(event) {
            var that = event ? event.data.that : this,
                lo = that.options.layout,
                $element = that.$element,
                $win = $(window);
            if ("fullscreen" === lo) document.body.style.overflow = "hidden", $element.height($win.height() - that.options.fullscreenMargin - that.topSpace - that.bottomSpace), document.body.style.overflow = "";
            else if ("autofill" === lo) return void $element.height(that.$autofillTarget.height() - that.options.fullscreenMargin - that.topSpace - that.bottomSpace).width(that.$autofillTarget.width() - that.leftSpace - that.rightSpace);
            $element.width($win.width() - that.leftSpace - that.rightSpace);
            var margin = -$element.offset().left + that.leftSpace + that.lastMargin;
            $element.css("margin-left", margin), that.lastMargin = margin
        }, p._init = function() {
            if (!(this._holdOn > 0) && this._docReady) {
                if (this.initialized = !0, "all" !== this.options.preload && this._removeLoading(), this.options.shuffle && this._shuffleSlides(), MSLayerEffects.setup(), this.slideController.setupView(), this.view = this.slideController.view, this.$controlsCont = $("<div></div>").addClass("ms-inner-controls-cont"), this.options.centerControls && this.$controlsCont.css("max-width", this.options.width + "px"), this.$controlsCont.prepend(this.view.$element), this.$msContainer = $("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont), this.controls)
                    for (var i = 0, l = this.controls.length; l > i; ++i) this.controls[i].setup();
                if (this._setupSliderLayout(), this.__setupSlides(), this.slideController.setup(), this._setupOverlayLayers(), this.controls)
                    for (i = 0, l = this.controls.length; l > i; ++i) this.controls[i].create();
                if (this.options.autoHeight && this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()), this.options.swipe && !window._touch && this.options.grabCursor && this.options.mouse) {
                    var $view = this.view.$element;
                    $view.mousedown(function() {
                        $view.removeClass("ms-grab-cursor"), $view.addClass("ms-grabbing-cursor"), $.browser.msie && window.ms_grabbing_curosr && ($view[0].style.cursor = "url(" + window.ms_grabbing_curosr + "), move")
                    }).addClass("ms-grab-cursor"), $(document).mouseup(function() {
                        $view.removeClass("ms-grabbing-cursor"), $view.addClass("ms-grab-cursor"), $.browser.msie && window.ms_grab_curosr && ($view[0].style.cursor = "url(" + window.ms_grab_curosr + "), move")
                    })
                }
                this.slideController.__dispatchInit()
            }
        }, p.setHeight = function(value) {
            this.options.smoothHeight ? (this.htween && (this.htween.reset ? this.htween.reset() : this.htween.stop(!0)), this.htween = CTween.animate(this.slideController.view.$element, 500, {
                height: value
            }, {
                ease: "easeOutQuart"
            })) : this.slideController.view.$element.height(value)
        }, p.reserveSpace = function(side, space) {
            var sideSpace = side + "Space",
                pos = this[sideSpace];
            return this[sideSpace] += space, this._updateSideMargins(), pos
        }, p._updateSideMargins = function() {
            this.$element.css("margin", this.topSpace + "px " + this.rightSpace + "px " + this.bottomSpace + "px " + this.leftSpace + "px")
        }, p._realignControls = function() {
            this.rightSpace = this.leftSpace = this.topSpace = this.bottomSpace = 0, this._updateSideMargins(), this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))
        }, p.control = function(control, options) {
            if (control in MSSlideController.SliderControlList) {
                this.controls || (this.controls = []);
                var ins = new MSSlideController.SliderControlList[control](options);
                return ins.slider = this, this.controls.push(ins), this
            }
        }, p.holdOn = function() {
            this._holdOn++
        }, p.release = function() {
            this._holdOn--, this._init()
        }, p.setup = function(target, options) {
            if (this.$element = "string" == typeof target ? $("#" + target) : target.eq(0), this.setupMarkup = this.$element.html(), 0 !== this.$element.length) {
                this.$element.addClass("master-slider").addClass("before-init"), $.browser.msie ? this.$element.addClass("ms-ie").addClass("ms-ie" + $.browser.version.slice(0, $.browser.version.indexOf("."))) : $.browser.webkit ? this.$element.addClass("ms-wk") : $.browser.mozilla && this.$element.addClass("ms-moz");
                var ua = navigator.userAgent.toLowerCase(),
                    isAndroid = ua.indexOf("android") > -1;
                isAndroid && this.$element.addClass("ms-android");
                var that = this;
                $.extend(this.options, options), this.aspect = this.options.width / this.options.height, this.$loading = $("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append($("<div></div>").addClass("ms-loading")), this.$loading.parent().css("position", "relative"), this.options.autofill && (this.options.fullwidth = !0, this.options.fullheight = !0), this.options.fullheight && this.$element.addClass("ms-fullheight"), this._resize(), this.slideController = new MSSlideController(this), this.api = this.slideController;
                for (var i = 0, l = MS._plugins.length; i !== l; i++) {
                    var plugin = MS._plugins[i]; - 1 === this.options.disablePlugins.indexOf(plugin.name) && this.activePlugins.push(new plugin(this))
                }
                return this.options.forceInit && MasterSlider.addJQReadyErrorCheck(this), $(document).ready(function() {
                    that.initialized || (that._docReady = !0, that._init())
                }), this
            }
        }, p.destroy = function(insertMarkup) {
            for (var i = 0, l = this.activePlugins.length; i !== l; i++) this.activePlugins[i].destroy();
            if (this.controls)
                for (i = 0, l = this.controls.length; i !== l; i++) this.controls[i].destroy();
            this.slideController && this.slideController._destroy(), this.$loading && this.$loading.remove(), insertMarkup ? this.$element.html(this.setupMarkup).css("visibility", "hidden") : this.$element.remove();
            var lo = this.options.layout;
            ("fullscreen" === lo || "fullwidth" === lo) && $(window).unbind("resize", this._updateLayout), this.view = null, this.slides = null, this.options = null, this.slideController = null, this.api = null, this.resize_listener = null, this.activePlugins = null
        }
    }(jQuery),
    function($, window, document, undefined) {
        function MasterSliderPlugin(element, options) {
            this.element = element, this.$element = $(element), this.settings = $.extend({}, defaults, options), this._defaults = defaults, this._name = pluginName, this.init()
        }
        var pluginName = "masterslider",
            defaults = {
                controls: {}
            };
        $.extend(MasterSliderPlugin.prototype, {
            init: function() {
                var self = this;
                this._slider = new MasterSlider;
                for (var control in this.settings.controls) this._slider.control(control, this.settings.controls[control]);
                this._slider.setup(this.$element, this.settings);
                var _superDispatch = this._slider.api.dispatchEvent;
                this._slider.api.dispatchEvent = function(event) {
                    self.$element.trigger(event.type), _superDispatch.call(this, event)
                }
            },
            api: function() {
                return this._slider.api
            },
            slider: function() {
                return this._slider
            }
        }), $.fn[pluginName] = function(options) {
            var args = arguments,
                plugin = "plugin_" + pluginName;
            if (options === undefined || "object" == typeof options) return this.each(function() {
                $.data(this, plugin) || $.data(this, plugin, new MasterSliderPlugin(this, options))
            });
            if ("string" == typeof options && "_" !== options[0] && "init" !== options) {
                var returns;
                return this.each(function() {
                    var instance = $.data(this, plugin);
                    instance instanceof MasterSliderPlugin && "function" == typeof instance[options] && (returns = instance[options].apply(instance, Array.prototype.slice.call(args, 1))), instance instanceof MasterSliderPlugin && "function" == typeof instance._slider.api[options] && (returns = instance._slider.api[options].apply(instance._slider.api, Array.prototype.slice.call(args, 1))), "destroy" === options && $.data(this, plugin, null)
                }), returns !== undefined ? returns : this
            }
        }
    }(jQuery, window, document),
    function($, window) {
        "use strict";
        var sliderInstances = [];
        MasterSlider.addJQReadyErrorCheck = function(slider) {
            sliderInstances.push(slider)
        };
        var _ready = $.fn.ready,
            _onerror = window.onerror;
        $.fn.ready = function() {
            return window.onerror = function() {
                if (0 !== sliderInstances.length)
                    for (var i = 0, l = sliderInstances.length; i !== l; i++) {
                        var slider = sliderInstances[i];
                        slider.initialized || (slider._docReady = !0, slider._init())
                    }
                return _onerror ? _onerror.apply(this, arguments) : !1
            }, _ready.apply(this, arguments)
        }
    }(jQuery, window, document), window.MSViewEvents = function(type, data) {
        this.type = type, this.data = data
    }, MSViewEvents.SWIPE_START = "swipeStart", MSViewEvents.SWIPE_END = "swipeEnd", MSViewEvents.SWIPE_MOVE = "swipeMove", MSViewEvents.SWIPE_CANCEL = "swipeCancel", MSViewEvents.SCROLL = "scroll", MSViewEvents.CHANGE_START = "slideChangeStart", MSViewEvents.CHANGE_END = "slideChangeEnd",
    function($) {
        "use strict";
        window.MSBasicView = function(options) {
            this.options = {
                loop: !1,
                dir: "h",
                autoHeight: !1,
                spacing: 5,
                mouseSwipe: !0,
                swipe: !0,
                speed: 17,
                minSlideSpeed: 2,
                viewNum: 20,
                critMargin: 1
            }, $.extend(this.options, options), this.dir = this.options.dir, this.loop = this.options.loop, this.spacing = this.options.spacing, this.__width = 0, this.__height = 0, this.__cssProb = "h" === this.dir ? "left" : "top", this.__offset = "h" === this.dir ? "offsetLeft" : "offsetTop", this.__dimension = "h" === this.dir ? "__width" : "__height", this.__translate_end = window._css3d ? " translateZ(0px)" : "", this.$slideCont = $("<div></div>").addClass("ms-slide-container"), this.$element = $("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont), this.currentSlide = null, this.index = -1, this.slidesCount = 0, this.slides = [], this.slideList = [], this.viewSlidesList = [], this.css3 = window._cssanim, this.start_buffer = 0, this.firstslide_snap = 0, this.slideChanged = !1, this.controller = new Controller(0, 0, {
                snapping: !0,
                snapsize: 100,
                paging: !0,
                snappingMinSpeed: this.options.minSlideSpeed,
                friction: (100 - .5 * this.options.speed) / 100,
                endless: this.loop
            }), this.controller.renderCallback("h" === this.dir ? this._horizUpdate : this._vertiUpdate, this), this.controller.snappingCallback(this.__snapUpdate, this), this.controller.snapCompleteCallback(this.__snapCompelet, this), averta.EventDispatcher.call(this)
        };
        var p = MSBasicView.prototype;
        p.__snapCompelet = function() {
            this.slideChanged && (this.slideChanged = !1, this.__locateSlides(), this.start_buffer = 0, this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))
        }, p.__snapUpdate = function(controller, snap, change) {
            if (this.loop) {
                var target_index = this.index + change;
                this.updateLoop(target_index), target_index >= this.slidesCount && (target_index -= this.slidesCount), 0 > target_index && (target_index = this.slidesCount + target_index), this.index = target_index
            } else {
                if (0 > snap || snap >= this.slidesCount) return;
                this.index = snap
            }
            this._checkCritMargins(), $.browser.mozilla && (this.slideList[this.index].$element[0].style.marginTop = "0.1px", this.currentSlide && (this.currentSlide.$element[0].style.marginTop = ""));
            var new_slide = this.slideList[this.index];
            new_slide !== this.currentSlide && (this.currentSlide = new_slide, this.autoUpdateZIndex && this.__updateSlidesZindex(), this.slideChanged = !0, this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))
        }, p._checkCritMargins = function() {
            if (!this.normalMode) {
                var hlf = Math.floor(this.options.viewNum / 2),
                    inView = this.viewSlidesList.indexOf(this.slideList[this.index]),
                    size = this[this.__dimension] + this.spacing,
                    cm = this.options.critMargin;
                return this.loop ? void((cm >= inView || inView >= this.viewSlidesList.length - cm) && (size *= inView - hlf, this.__locateSlides(!1, size + this.start_buffer), this.start_buffer += size)) : void((cm > inView && this.index >= cm || inView >= this.viewSlidesList.length - cm && this.index < this.slidesCount - cm) && this.__locateSlides(!1))
            }
        }, p._vertiUpdate = function(controller, value) {
            return this.__contPos = value, this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)), this.css3 ? void(this.$slideCont[0].style[window._jcsspfx + "Transform"] = "translateY(" + -value + "px)" + this.__translate_end) : void(this.$slideCont[0].style.top = -value + "px")
        }, p._horizUpdate = function(controller, value) {
            return this.__contPos = value, this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)), this.css3 ? void(this.$slideCont[0].style[window._jcsspfx + "Transform"] = "translateX(" + -value + "px)" + this.__translate_end) : void(this.$slideCont[0].style.left = -value + "px")
        }, p.__updateViewList = function() {
            if (this.normalMode) return void(this.viewSlidesList = this.slides);
            var temp = this.viewSlidesList.slice();
            this.viewSlidesList = [];
            var l, i = 0,
                hlf = Math.floor(this.options.viewNum / 2);
            if (this.loop)
                for (; i !== this.options.viewNum; i++) this.viewSlidesList.push(this.slides[this.currentSlideLoc - hlf + i]);
            else {
                for (i = 0; i !== hlf && this.index - i !== -1; i++) this.viewSlidesList.unshift(this.slideList[this.index - i]);
                for (i = 1; i !== hlf && this.index + i !== this.slidesCount; i++) this.viewSlidesList.push(this.slideList[this.index + i])
            }
            for (i = 0, l = temp.length; i !== l; i++) - 1 === this.viewSlidesList.indexOf(temp[i]) && temp[i].sleep();
            temp = null, this.currentSlide && this.__updateSlidesZindex()
        }, p.__locateSlides = function(move, start) {
            this.__updateViewList(), start = this.loop ? start || 0 : this.slides.indexOf(this.viewSlidesList[0]) * (this[this.__dimension] + this.spacing);
            for (var slide, l = this.viewSlidesList.length, i = 0; i !== l; i++) {
                var pos = start + i * (this[this.__dimension] + this.spacing);
                slide = this.viewSlidesList[i], slide.wakeup(), slide.position = pos, slide.$element[0].style[this.__cssProb] = pos + "px"
            }
            move !== !1 && this.controller.changeTo(this.slideList[this.index].position, !1, null, null, !1)
        }, p.__createLoopList = function() {
            var return_arr = [],
                i = 0,
                count = this.slidesCount / 2,
                before_count = this.slidesCount % 2 === 0 ? count - 1 : Math.floor(count),
                after_count = this.slidesCount % 2 === 0 ? count : Math.floor(count);
            for (this.currentSlideLoc = before_count, i = 1; before_count >= i; ++i) return_arr.unshift(this.slideList[this.index - i < 0 ? this.slidesCount - i + this.index : this.index - i]);
            for (return_arr.push(this.slideList[this.index]), i = 1; after_count >= i; ++i) return_arr.push(this.slideList[this.index + i >= this.slidesCount ? this.index + i - this.slidesCount : this.index + i]);
            return return_arr
        }, p.__getSteps = function(index, target) {
            var right = index > target ? this.slidesCount - index + target : target - index,
                left = Math.abs(this.slidesCount - right);
            return left > right ? right : -left
        }, p.__pushEnd = function() {
            var first_slide = this.slides.shift(),
                last_slide = this.slides[this.slidesCount - 2];
            if (this.slides.push(first_slide), this.normalMode) {
                var pos = last_slide.$element[0][this.__offset] + this.spacing + this[this.__dimension];
                first_slide.$element[0].style[this.__cssProb] = pos + "px", first_slide.position = pos
            }
        }, p.__pushStart = function() {
            var last_slide = this.slides.pop(),
                first_slide = this.slides[0];
            if (this.slides.unshift(last_slide), this.normalMode) {
                var pos = first_slide.$element[0][this.__offset] - this.spacing - this[this.__dimension];
                last_slide.$element[0].style[this.__cssProb] = pos + "px", last_slide.position = pos
            }
        }, p.__updateSlidesZindex = function() {
            {
                var slide, l = this.viewSlidesList.length;
                Math.floor(l / 2)
            }
            if (this.loop)
                for (var loc = this.viewSlidesList.indexOf(this.currentSlide), i = 0; i !== l; i++) slide = this.viewSlidesList[i], this.viewSlidesList[i].$element.css("z-index", loc >= i ? i + 1 : l - i);
            else {
                for (var beforeNum = this.currentSlide.index - this.viewSlidesList[0].index, i = 0; i !== l; i++) this.viewSlidesList[i].$element.css("z-index", beforeNum >= i ? i + 1 : l - i);
                this.currentSlide.$element.css("z-index", l)
            }
        }, p.addSlide = function(slide) {
            slide.view = this, this.slides.push(slide), this.slideList.push(slide), this.slidesCount++
        }, p.appendSlide = function(slide) {
            this.$slideCont.append(slide.$element)
        }, p.updateLoop = function(index) {
            if (this.loop)
                for (var steps = this.__getSteps(this.index, index), i = 0, l = Math.abs(steps); l > i; ++i) 0 > steps ? this.__pushStart() : this.__pushEnd()
        }, p.gotoSlide = function(index, fast) {
            this.updateLoop(index), this.index = index;
            var target_slide = this.slideList[index];
            this._checkCritMargins(), this.controller.changeTo(target_slide.position, !fast, null, null, !1), target_slide !== this.currentSlide && (this.slideChanged = !0, this.currentSlide = target_slide, this.autoUpdateZIndex && this.__updateSlidesZindex(), this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)), fast && this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))
        }, p.next = function(checkLoop) {
            return checkLoop && !this.loop && this.index + 1 >= this.slidesCount ? void this.controller.bounce(10) : void this.gotoSlide(this.index + 1 >= this.slidesCount ? 0 : this.index + 1)
        }, p.previous = function(checkLoop) {
            return checkLoop && !this.loop && this.index - 1 < 0 ? void this.controller.bounce(-10) : void this.gotoSlide(this.index - 1 < 0 ? this.slidesCount - 1 : this.index - 1)
        }, p.setupSwipe = function() {
            this.swipeControl = new averta.TouchSwipe(this.$element), this.swipeControl.swipeType = "h" === this.dir ? "horizontal" : "vertical";
            var that = this;
            this.swipeControl.onSwipe = "h" === this.dir ? function(status) {
                that.horizSwipeMove(status)
            } : function(status) {
                that.vertSwipeMove(status)
            }
        }, p.vertSwipeMove = function(status) {
            var phase = status.phase;
            if ("start" === phase) this.controller.stop(), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START, status));
            else if ("move" === phase && (!this.loop || Math.abs(this.currentSlide.position - this.controller.value + status.moveY) < this.cont_size / 2)) this.controller.drag(status.moveY), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE, status));
            else if ("end" === phase || "cancel" === phase) {
                var speed = status.distanceY / status.duration * 50 / 3,
                    speedh = Math.abs(status.distanceY / status.duration * 50 / 3);
                Math.abs(speed) > .1 && Math.abs(speed) >= speedh ? (this.controller.push(-speed), speed > this.controller.options.snappingMinSpeed && this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END, status))) : (this.controller.cancel(), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL, status)))
            }
        }, p.horizSwipeMove = function(status) {
            var phase = status.phase;
            if ("start" === phase) this.controller.stop(), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START, status));
            else if ("move" === phase && (!this.loop || Math.abs(this.currentSlide.position - this.controller.value + status.moveX) < this.cont_size / 2)) this.controller.drag(status.moveX), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE, status));
            else if ("end" === phase || "cancel" === phase) {
                var speed = status.distanceX / status.duration * 50 / 3,
                    speedv = Math.abs(status.distanceY / status.duration * 50 / 3);
                Math.abs(speed) > .1 && Math.abs(speed) >= speedv ? (this.controller.push(-speed), speed > this.controller.options.snappingMinSpeed && this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END, status))) : (this.controller.cancel(), this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL, status)))
            }
        }, p.setSize = function(width, height, hard) {
            if (this.lastWidth !== width || height !== this.lastHeight || hard) {
                this.$element.width(width).height(height);
                for (var i = 0; i < this.slidesCount; ++i) this.slides[i].setSize(width, height, hard);
                this.__width = width, this.__height = height, this.__created && (this.__locateSlides(), this.cont_size = (this.slidesCount - 1) * (this[this.__dimension] + this.spacing), this.loop || (this.controller._max_value = this.cont_size), this.controller.options.snapsize = this[this.__dimension] + this.spacing, this.controller.changeTo(this.currentSlide.position, !1, null, null, !1), this.controller.cancel(), this.lastWidth = width, this.lastHeight = height)
            }
        }, p.create = function(index) {
            this.__created = !0, this.index = Math.min(index || 0, this.slidesCount - 1), this.lastSnap = this.index, this.loop && (this.slides = this.__createLoopList()), this.normalMode = this.slidesCount <= this.options.viewNum;
            for (var i = 0; i < this.slidesCount; ++i) this.slides[i].create();
            this.__locateSlides(), this.controller.options.snapsize = this[this.__dimension] + this.spacing, this.loop || (this.controller._max_value = (this.slidesCount - 1) * (this[this.__dimension] + this.spacing)), this.gotoSlide(this.index, !0), this.options.swipe && (window._touch || this.options.mouseSwipe) && this.setupSwipe()
        }, p.destroy = function() {
            if (this.__created) {
                for (var i = 0; i < this.slidesCount; ++i) this.slides[i].destroy();
                this.slides = null, this.slideList = null, this.$element.remove(), this.controller.destroy(), this.controller = null
            }
        }, averta.EventDispatcher.extend(p), MSSlideController.registerView("basic", MSBasicView)
    }(jQuery),
    function() {
        "use strict";
        window.MSWaveView = function(options) {
            MSBasicView.call(this, options), this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"), this.$slideCont.css(window._csspfx + "transform-style", "preserve-3d"), this.autoUpdateZIndex = !0
        }, MSWaveView.extend(MSBasicView), MSWaveView._3dreq = !0, MSWaveView._fallback = MSBasicView;
        var p = MSWaveView.prototype,
            _super = MSBasicView.prototype;
        p._horizUpdate = function(controller, value) {
            _super._horizUpdate.call(this, controller, value);
            for (var slide, distance, cont_scroll = -value, i = 0; i < this.slidesCount; ++i) slide = this.slideList[i], distance = -cont_scroll - slide.position, this.__updateSlidesHoriz(slide, distance)
        }, p._vertiUpdate = function(controller, value) {
            _super._vertiUpdate.call(this, controller, value);
            for (var slide, distance, cont_scroll = -value, i = 0; i < this.slidesCount; ++i) slide = this.slideList[i], distance = -cont_scroll - slide.position, this.__updateSlidesVertic(slide, distance)
        }, p.__updateSlidesHoriz = function(slide, distance) {
            var value = Math.abs(100 * distance / this.__width);
            slide.$element[0].style[window._csspfx + "transform"] = "translateZ(" + 3 * -value + "px) rotateY(0.01deg)"
        }, p.__updateSlidesVertic = function(slide, distance) {
            this.__updateSlidesHoriz(slide, distance)
        }, MSSlideController.registerView("wave", MSWaveView)
    }(jQuery),
    function() {
        window.MSFadeBasicView = function(options) {
            MSWaveView.call(this, options), this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")
        }, MSFadeBasicView.extend(MSWaveView); {
            var p = MSFadeBasicView.prototype;
            MSFadeBasicView.prototype
        }
        p.__updateSlidesHoriz = function(slide, distance) {
            var value = Math.abs(.6 * distance / this.__width);
            value = 1 - Math.min(value, .6), slide.$element.css("opacity", value)
        }, p.__updateSlidesVertic = function(slide, distance) {
            this.__updateSlidesHoriz(slide, distance)
        }, MSSlideController.registerView("fadeBasic", MSFadeBasicView), MSWaveView._fallback = MSFadeBasicView
    }(),
    function() {
        window.MSFadeWaveView = function(options) {
            MSWaveView.call(this, options), this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")
        }, MSFadeWaveView.extend(MSWaveView), MSFadeWaveView._3dreq = !0, MSFadeWaveView._fallback = MSFadeBasicView; {
            var p = MSFadeWaveView.prototype;
            MSWaveView.prototype
        }
        p.__updateSlidesHoriz = function(slide, distance) {
            var value = Math.abs(100 * distance / this.__width);
            value = Math.min(value, 100), slide.$element.css("opacity", 1 - value / 300), slide.$element[0].style[window._jcsspfx + "Transform"] = "scale(" + (1 - value / 800) + ") rotateY(0.01deg) "
        }, p.__updateSlidesVertic = function(slide, distance) {
            this.__updateSlidesHoriz(slide, distance)
        }, MSSlideController.registerView("fadeWave", MSFadeWaveView)
    }(),
    function() {
        "use strict";
        window.MSFlowView = function(options) {
            MSWaveView.call(this, options), this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")
        }, MSFlowView.extend(MSWaveView), MSFlowView._3dreq = !0, MSFlowView._fallback = MSFadeBasicView; {
            var p = MSFlowView.prototype;
            MSWaveView.prototype
        }
        p.__updateSlidesHoriz = function(slide, distance) {
            var value = Math.abs(100 * distance / this.__width),
                rvalue = Math.min(.3 * value, 30) * (0 > distance ? -1 : 1),
                zvalue = 1.2 * value;
            slide.$element[0].style[window._jcsspfx + "Transform"] = "translateZ(" + 5 * -zvalue + "px) rotateY(" + rvalue + "deg) "
        }, p.__updateSlidesVertic = function(slide, distance) {
            var value = Math.abs(100 * distance / this.__width),
                rvalue = Math.min(.3 * value, 30) * (0 > distance ? -1 : 1),
                zvalue = 1.2 * value;
            slide.$element[0].style[window._jcsspfx + "Transform"] = "translateZ(" + 5 * -zvalue + "px) rotateX(" + -rvalue + "deg) "
        }, MSSlideController.registerView("flow", MSFlowView)
    }(jQuery),
    function() {
        window.MSFadeFlowView = function(options) {
            MSWaveView.call(this, options), this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")
        }, MSFadeFlowView.extend(MSWaveView), MSFadeFlowView._3dreq = !0; {
            var p = MSFadeFlowView.prototype;
            MSWaveView.prototype
        }
        p.__calculate = function(distance) {
            var value = Math.min(Math.abs(100 * distance / this.__width), 100),
                rvalue = Math.min(.5 * value, 50) * (0 > distance ? -1 : 1);
            return {
                value: value,
                rvalue: rvalue
            }
        }, p.__updateSlidesHoriz = function(slide, distance) {
            var clc = this.__calculate(distance);
            slide.$element.css("opacity", 1 - clc.value / 300), slide.$element[0].style[window._jcsspfx + "Transform"] = "translateZ(" + -clc.value + "px) rotateY(" + clc.rvalue + "deg) "
        }, p.__updateSlidesVertic = function(slide, distance) {
            var clc = this.__calculate(distance);
            slide.$element.css("opacity", 1 - clc.value / 300), slide.$element[0].style[window._jcsspfx + "Transform"] = "translateZ(" + -clc.value + "px) rotateX(" + -clc.rvalue + "deg) "
        }, MSSlideController.registerView("fadeFlow", MSFadeFlowView)
    }(),
    function($) {
        "use strict";
        window.MSMaskView = function(options) {
            MSBasicView.call(this, options), this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")
        }, MSMaskView.extend(MSBasicView);
        var p = MSMaskView.prototype,
            _super = MSBasicView.prototype;
        p.addSlide = function(slide) {
            slide.view = this, slide.$frame = $("<div></div>").addClass("ms-mask-frame").append(slide.$element), slide.$element[0].style.position = "relative", slide.autoAppend = !1, this.slides.push(slide), this.slideList.push(slide), this.slidesCount++
        }, p.setSize = function(width, height) {
            for (var slider = this.slides[0].slider, i = 0; i < this.slidesCount; ++i) this.slides[i].$frame[0].style.width = width + "px", slider.options.autoHeight || (this.slides[i].$frame[0].style.height = height + "px");
            _super.setSize.call(this, width, height)
        }, p._horizUpdate = function(controller, value) {
            _super._horizUpdate.call(this, controller, value);
            var i = 0;
            if (this.css3)
                for (i = 0; i < this.slidesCount; ++i) this.slideList[i].$element[0].style[window._jcsspfx + "Transform"] = "translateX(" + (value - this.slideList[i].position) + "px)" + this.__translate_end;
            else
                for (i = 0; i < this.slidesCount; ++i) this.slideList[i].$element[0].style.left = value - this.slideList[i].position + "px"
        }, p._vertiUpdate = function(controller, value) {
            _super._vertiUpdate.call(this, controller, value);
            var i = 0;
            if (this.css3)
                for (i = 0; i < this.slidesCount; ++i) this.slideList[i].$element[0].style[window._jcsspfx + "Transform"] = "translateY(" + (value - this.slideList[i].position) + "px)" + this.__translate_end;
            else
                for (i = 0; i < this.slidesCount; ++i) this.slideList[i].$element[0].style.top = value - this.slideList[i].position + "px"
        }, p.__pushEnd = function() {
            var first_slide = this.slides.shift(),
                last_slide = this.slides[this.slidesCount - 2];
            if (this.slides.push(first_slide), this.normalMode) {
                var pos = last_slide.$frame[0][this.__offset] + this.spacing + this[this.__dimension];
                first_slide.$frame[0].style[this.__cssProb] = pos + "px", first_slide.position = pos
            }
        }, p.__pushStart = function() {
            var last_slide = this.slides.pop(),
                first_slide = this.slides[0];
            if (this.slides.unshift(last_slide), this.normalMode) {
                var pos = first_slide.$frame[0][this.__offset] - this.spacing - this[this.__dimension];
                last_slide.$frame[0].style[this.__cssProb] = pos + "px", last_slide.position = pos
            }
        }, p.__updateViewList = function() {
            if (this.normalMode) return void(this.viewSlidesList = this.slides);
            var temp = this.viewSlidesList.slice();
            this.viewSlidesList = [];
            var l, i = 0,
                hlf = Math.floor(this.options.viewNum / 2);
            if (this.loop)
                for (; i !== this.options.viewNum; i++) this.viewSlidesList.push(this.slides[this.currentSlideLoc - hlf + i]);
            else {
                for (i = 0; i !== hlf && this.index - i !== -1; i++) this.viewSlidesList.unshift(this.slideList[this.index - i]);
                for (i = 1; i !== hlf && this.index + i !== this.slidesCount; i++) this.viewSlidesList.push(this.slideList[this.index + i])
            }
            for (i = 0, l = temp.length; i !== l; i++) - 1 === this.viewSlidesList.indexOf(temp[i]) && (temp[i].sleep(), temp[i].$frame.detach());
            temp = null
        }, p.__locateSlides = function(move, start) {
            this.__updateViewList(), start = this.loop ? start || 0 : this.slides.indexOf(this.viewSlidesList[0]) * (this[this.__dimension] + this.spacing);
            for (var slide, l = this.viewSlidesList.length, i = 0; i !== l; i++) {
                var pos = start + i * (this[this.__dimension] + this.spacing);
                if (slide = this.viewSlidesList[i], this.$slideCont.append(slide.$frame), slide.wakeup(!1), slide.position = pos, slide.selected && slide.bgvideo) try {
                    slide.bgvideo.play()
                } catch (e) {}
                slide.$frame[0].style[this.__cssProb] = pos + "px"
            }
            move !== !1 && this.controller.changeTo(this.slideList[this.index].position, !1, null, null, !1)
        }, MSSlideController.registerView("mask", MSMaskView)
    }(jQuery),
    function() {
        "use strict";
        window.MSParallaxMaskView = function(options) {
            MSMaskView.call(this, options), this.$element.removeClass("ms-basic-view").addClass("ms-parallax-mask-view")
        }, MSParallaxMaskView.extend(MSMaskView), MSParallaxMaskView.parallaxAmount = .5;
        var p = MSParallaxMaskView.prototype,
            _super = MSBasicView.prototype;
        p._horizUpdate = function(controller, value) {
            _super._horizUpdate.call(this, controller, value);
            var i = 0;
            if (this.css3)
                for (i = 0; i < this.slidesCount; ++i) this.slideList[i].$element[0].style[window._jcsspfx + "Transform"] = "translateX(" + (value - this.slideList[i].position) * MSParallaxMaskView.parallaxAmount + "px)" + this.__translate_end;
            else
                for (i = 0; i < this.slidesCount; ++i) this.slideList[i].$element[0].style.left = (value - this.slideList[i].position) * MSParallaxMaskView.parallaxAmount + "px"
        }, p._vertiUpdate = function(controller, value) {
            _super._vertiUpdate.call(this, controller, value);
            var i = 0;
            if (this.css3)
                for (i = 0; i < this.slidesCount; ++i) this.slideList[i].$element[0].style[window._jcsspfx + "Transform"] = "translateY(" + (value - this.slideList[i].position) * MSParallaxMaskView.parallaxAmount + "px)" + this.__translate_end;
            else
                for (i = 0; i < this.slidesCount; ++i) this.slideList[i].$element[0].style.top = (value - this.slideList[i].position) * MSParallaxMaskView.parallaxAmount + "px"
        }, MSSlideController.registerView("parallaxMask", MSParallaxMaskView)
    }(jQuery),
    function() {
        "use strict";
        window.MSFadeView = function(options) {
            MSBasicView.call(this, options), this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"), this.controller.renderCallback(this.__update, this)
        }, MSFadeView.extend(MSBasicView);
        var p = MSFadeView.prototype,
            _super = MSBasicView.prototype;
        p.__update = function(controller, value) {
            for (var slide, distance, cont_scroll = -value, i = 0; i < this.slidesCount; ++i) slide = this.slideList[i], distance = -cont_scroll - slide.position, this.__updateSlides(slide, distance)
        }, p.__updateSlides = function(slide, distance) {
            var value = Math.abs(distance / this[this.__dimension]);
            0 >= 1 - value ? slide.$element.fadeTo(0, 0).css("visibility", "hidden") : slide.$element.fadeTo(0, 1 - value).css("visibility", "")
        }, p.__locateSlides = function(move, start) {
            this.__updateViewList(), start = this.loop ? start || 0 : this.slides.indexOf(this.viewSlidesList[0]) * (this[this.__dimension] + this.spacing);
            for (var slide, l = this.viewSlidesList.length, i = 0; i !== l; i++) {
                var pos = start + i * this[this.__dimension];
                slide = this.viewSlidesList[i], slide.wakeup(), slide.position = pos
            }
            move !== !1 && this.controller.changeTo(this.slideList[this.index].position, !1, null, null, !1)
        }, p.__pushEnd = function() {
            var first_slide = this.slides.shift(),
                last_slide = this.slides[this.slidesCount - 2];
            this.slides.push(first_slide), first_slide.position = last_slide.position + this[this.__dimension]
        }, p.__pushStart = function() {
            var last_slide = this.slides.pop(),
                first_slide = this.slides[0];
            this.slides.unshift(last_slide), last_slide.position = first_slide.position - this[this.__dimension]
        }, p.create = function(index) {
            _super.create.call(this, index), this.spacing = 0, this.controller.options.minValidDist = 10
        }, MSSlideController.registerView("fade", MSFadeView)
    }(jQuery),
    function() {
        "use strict";
        window.MSScaleView = function(options) {
            MSBasicView.call(this, options), this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"), this.controller.renderCallback(this.__update, this)
        }, MSScaleView.extend(MSFadeView);
        var p = MSScaleView.prototype,
            _super = MSFadeView.prototype;
        p.__updateSlides = function(slide, distance) {
            var value = Math.abs(distance / this[this.__dimension]),
                element = slide.$element[0];
            0 >= 1 - value ? (element.style.opacity = 0, element.style.visibility = "hidden", element.style[window._jcsspfx + "Transform"] = "") : (element.style.opacity = 1 - value, element.style.visibility = "", element.style[window._jcsspfx + "Transform"] = "perspective(2000px) translateZ(" + value * (0 > distance ? -.5 : .5) * 300 + "px)")
        }, p.create = function(index) {
            _super.create.call(this, index), this.controller.options.minValidDist = .03
        }, MSSlideController.registerView("scale", MSScaleView)
    }(jQuery),
    function() {
        "use strict";
        window.MSStackView = function(options) {
            MSBasicView.call(this, options), this.$element.removeClass("ms-basic-view").addClass("ms-stack-view"), this.controller.renderCallback(this.__update, this), this.autoUpdateZIndex = !0
        }, MSStackView.extend(MSFadeView), MSStackView._3dreq = !0, MSStackView._fallback = MSFadeView;
        var p = MSStackView.prototype,
            _super = MSFadeView.prototype;
        p.__updateSlidesZindex = function() {
            for (var slide, l = this.viewSlidesList.length, i = 0; i !== l; i++) slide = this.viewSlidesList[i], this.viewSlidesList[i].$element.css("z-index", l - i)
        }, p.__updateSlides = function(slide, distance) {
            var value = Math.abs(distance / this[this.__dimension]),
                element = slide.$element[0];
            0 >= 1 - value ? (element.style.opacity = 1, element.style.visibility = "hidden", element.style[window._jcsspfx + "Transform"] = "") : (element.style.visibility = "", element.style[window._jcsspfx + "Transform"] = 0 > distance ? "perspective(2000px) translateZ(" + -300 * value + "px)" : this.__translate + "(" + -value * this[this.__dimension] + "px)")
        }, p.create = function(index) {
            _super.create.call(this, index), this.controller.options.minValidDist = .03, this.__translate = "h" === this.dir ? "translateX" : "translateY"
        }, MSSlideController.registerView("stack", MSStackView)
    }(jQuery),
    function() {
        "use strict";
        var perspective = 2e3;
        window.MSFocusView = function(options) {
            MSWaveView.call(this, options), this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"), this.options.centerSpace = this.options.centerSpace || 1
        }, MSFocusView.extend(MSWaveView), MSFocusView._3dreq = !0, MSFocusView._fallback = MSFadeBasicView; {
            var p = MSFocusView.prototype;
            MSWaveView.prototype
        }
        p.__calcview = function(z, w) {
            var a = w / 2 * z / (z + perspective);
            return a * (z + perspective) / perspective
        }, p.__updateSlidesHoriz = function(slide, distance) {
            var value = Math.abs(100 * distance / this.__width);
            value = 15 * -Math.min(value, 100), slide.$element.css(window._csspfx + "transform", "translateZ(" + (value + 1) + "px) rotateY(0.01deg) translateX(" + (0 > distance ? 1 : -1) * -this.__calcview(value, this.__width) * this.options.centerSpace + "px)")
        }, p.__updateSlidesVertic = function(slide, distance) {
            var value = Math.abs(100 * distance / this.__width);
            value = 15 * -Math.min(value, 100), slide.$element.css(window._csspfx + "transform", "translateZ(" + (value + 1) + "px) rotateY(0.01deg) translateY(" + (0 > distance ? 1 : -1) * -this.__calcview(value, this.__width) * this.options.centerSpace + "px)")
        }, MSSlideController.registerView("focus", MSFocusView)
    }(),
    function() {
        window.MSPartialWaveView = function(options) {
            MSWaveView.call(this, options), this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")
        }, MSPartialWaveView.extend(MSWaveView), MSPartialWaveView._3dreq = !0, MSPartialWaveView._fallback = MSFadeBasicView; {
            var p = MSPartialWaveView.prototype;
            MSWaveView.prototype
        }
        p.__updateSlidesHoriz = function(slide, distance) {
            var value = Math.abs(100 * distance / this.__width);
            slide.hasBG && slide.$bg_img.css("opacity", (100 - Math.abs(120 * distance / this.__width / 3)) / 100), slide.$element.css(window._csspfx + "transform", "translateZ(" + 3 * -value + "px) rotateY(0.01deg) translateX(" + .75 * distance + "px)")
        }, p.__updateSlidesVertic = function(slide, distance) {
            var value = Math.abs(100 * distance / this.__width);
            slide.hasBG && slide.$bg_img.css("opacity", (100 - Math.abs(120 * distance / this.__width / 3)) / 100), slide.$element.css(window._csspfx + "transform", "translateZ(" + 3 * -value + "px) rotateY(0.01deg) translateY(" + .75 * distance + "px)")
        }, MSSlideController.registerView("partialWave", MSPartialWaveView)
    }(),
    function() {
        "use strict";
        window.MSBoxView = function(options) {
            MSBasicView.call(this, options), this.$element.removeClass("ms-basic-view").addClass("ms-box-view"), this.controller.renderCallback(this.__update, this)
        }, MSBoxView.extend(MSFadeView), MSBoxView._3dreq = !0;
        var p = MSBoxView.prototype,
            _super = MSFadeView.prototype;
        p.__updateSlides = function(slide, distance) {
            var value = Math.abs(distance / this[this.__dimension]),
                element = slide.$element[0];
            0 >= 1 - value ? (element.style.visibility = "hidden", element.style[window._jcsspfx + "Transform"] = "") : (element.style.visibility = "", element.style[window._jcsspfx + "Transform"] = "rotate" + this._rotateDir + "(" + value * (0 > distance ? 1 : -1) * 90 * this._calcFactor + "deg)", element.style[window._jcsspfx + "TransformOrigin"] = "50% 50% -" + slide[this.__dimension] / 2 + "px", element.style.zIndex = Math.ceil(2 * (1 - value)))
        }, p.create = function(index) {
            _super.create.call(this, index), this.controller.options.minValidDist = .03, this._rotateDir = "h" === this.options.dir ? "Y" : "X", this._calcFactor = "h" === this.options.dir ? 1 : -1
        }, MSSlideController.registerView("box", MSBoxView)
    }(jQuery),
    function($) {
        "use strict";
        var BaseControl = function() {
                this.options = {
                    prefix: "ms-",
                    autohide: !0,
                    overVideo: !0,
                    customClass: null
                }
            },
            p = BaseControl.prototype;
        p.slideAction = function() {}, p.setup = function() {
            this.cont = this.options.insertTo ? $(this.options.insertTo) : this.slider.$controlsCont, this.options.overVideo || this._hideOnvideoStarts()
        }, p.checkHideUnder = function() {
            this.options.hideUnder && (this.needsRealign = !this.options.insetTo && ("left" === this.options.align || "right" === this.options.align) && this.options.inset === !1, $(window).bind("resize", {
                that: this
            }, this.onResize), this.onResize())
        }, p.onResize = function(event) {
            var that = event && event.data.that || this,
                w = window.innerWidth;
            w <= that.options.hideUnder && !that.detached ? (that.hide(!0), that.detached = !0, that.onDetach()) : w >= that.options.hideUnder && that.detached && (that.detached = !1, that.visible(), that.onAppend())
        }, p.create = function() {
            this.options.autohide && (this.hide(!0), this.slider.$controlsCont.mouseenter($.proxy(this._onMouseEnter, this)).mouseleave($.proxy(this._onMouseLeave, this)).mousedown($.proxy(this._onMouseDown, this)), this.$element && this.$element.mouseenter($.proxy(this._onMouseEnter, this)).mouseleave($.proxy(this._onMouseLeave, this)).mousedown($.proxy(this._onMouseDown, this)), $(document).mouseup($.proxy(this._onMouseUp, this))), this.options.align && this.$element.addClass("ms-align-" + this.options.align), this.options.customClass && this.$element && this.$element.addClass(this.options.customClass)
        }, p._onMouseEnter = function() {
            this._disableAH || this.mdown || this.visible(), this.mleave = !1
        }, p._onMouseLeave = function() {
            this.mdown || this.hide(), this.mleave = !0
        }, p._onMouseDown = function() {
            this.mdown = !0
        }, p._onMouseUp = function() {
            this.mdown && this.mleave && this.hide(), this.mdown = !1
        }, p.onAppend = function() {
            this.needsRealign && this.slider._realignControls()
        }, p.onDetach = function() {
            this.needsRealign && this.slider._realignControls()
        }, p._hideOnvideoStarts = function() {
            var that = this;
            this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY, function() {
                that._disableAH = !0, that.hide()
            }), this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE, function() {
                that._disableAH = !1, that.visible()
            })
        }, p.hide = function(fast) {
            if (fast) this.$element.css("opacity", 0), this.$element.css("display", "none");
            else {
                clearTimeout(this.hideTo);
                var $element = this.$element;
                this.hideTo = setTimeout(function() {
                    CTween.fadeOut($element, 400, !1)
                }, 20)
            }
            this.$element.addClass("ms-ctrl-hide")
        }, p.visible = function() {
            this.detached || (clearTimeout(this.hideTo), this.$element.css("display", ""), CTween.fadeIn(this.$element, 400, !1), this.$element.removeClass("ms-ctrl-hide"))
        }, p.destroy = function() {
            this.options && this.options.hideUnder && $(window).unbind("resize", this.onResize)
        }, window.BaseControl = BaseControl
    }(jQuery),
    function($) {
        "use strict";
        var MSArrows = function(options) {
            BaseControl.call(this), $.extend(this.options, options)
        };
        MSArrows.extend(BaseControl);
        var p = MSArrows.prototype,
            _super = BaseControl.prototype;
        p.setup = function() {
            var that = this;
            this.$next = $("<div></div>").addClass(this.options.prefix + "nav-next").bind("click", function() {
                that.slider.api.next(!0)
            }), this.$prev = $("<div></div>").addClass(this.options.prefix + "nav-prev").bind("click", function() {
                that.slider.api.previous(!0)
            }), _super.setup.call(this), this.cont.append(this.$next), this.cont.append(this.$prev), this.checkHideUnder()
        }, p.hide = function(fast) {
            return fast ? (this.$prev.css("opacity", 0).css("display", "none"), void this.$next.css("opacity", 0).css("display", "none")) : (CTween.fadeOut(this.$prev, 400, !1), CTween.fadeOut(this.$next, 400, !1), this.$prev.addClass("ms-ctrl-hide"), void this.$next.addClass("ms-ctrl-hide"))
        }, p.visible = function() {
            this.detached || (CTween.fadeIn(this.$prev, 400), CTween.fadeIn(this.$next, 400), this.$prev.removeClass("ms-ctrl-hide").css("display", ""), this.$next.removeClass("ms-ctrl-hide").css("display", ""))
        }, p.destroy = function() {
            _super.destroy(), this.$next.remove(), this.$prev.remove()
        }, window.MSArrows = MSArrows, MSSlideController.registerControl("arrows", MSArrows)
    }(jQuery),
    function($) {
        "use strict";
        var MSThumblist = function(options) {
            BaseControl.call(this), this.options.dir = "h", this.options.wheel = "v" === options.dir, this.options.arrows = !1, this.options.speed = 17, this.options.align = null, this.options.inset = !1, this.options.margin = 10, this.options.space = 10, this.options.width = 100, this.options.height = 100, this.options.type = "thumbs", this.options.hover = !1, $.extend(this.options, options), this.thumbs = [], this.index_count = 0, this.__dimen = "h" === this.options.dir ? "width" : "height", this.__alignsize = "h" === this.options.dir ? "height" : "width", this.__jdimen = "h" === this.options.dir ? "outerWidth" : "outerHeight", this.__pos = "h" === this.options.dir ? "left" : "top", this.click_enable = !0
        };
        MSThumblist.extend(BaseControl);
        var p = MSThumblist.prototype,
            _super = BaseControl.prototype;
        p.setup = function() {
            if (this.$element = $("<div></div>").addClass(this.options.prefix + "thumb-list"), "tabs" === this.options.type && this.$element.addClass(this.options.prefix + "tabs"), this.$element.addClass("ms-dir-" + this.options.dir), _super.setup.call(this), this.$element.appendTo(this.slider.$controlsCont === this.cont ? this.slider.$element : this.cont), this.$thumbscont = $("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element), this.options.arrows) {
                var that = this;
                this.$fwd = $("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function() {
                    that.controller.push(-15)
                }), this.$bwd = $("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function() {
                    that.controller.push(15)
                })
            }
            if (!this.options.insetTo && this.options.align) {
                var align = this.options.align;
                this.options.inset ? this.$element.css(align, this.options.margin) : "top" === align ? this.$element.detach().prependTo(this.slider.$element).css({
                    "margin-bottom": this.options.margin,
                    position: "relative"
                }) : "bottom" === align ? this.$element.css({
                    "margin-top": this.options.margin,
                    position: "relative"
                }) : (this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.align()), "v" === this.options.dir ? this.$element.width(this.options.width) : this.$element.height(this.options.height)
            }
            this.checkHideUnder()
        }, p.align = function() {
            if (!this.detached) {
                var align = this.options.align,
                    pos = this.slider.reserveSpace(align, this.options[this.__alignsize] + 2 * this.options.margin);
                this.$element.css(align, -pos - this.options[this.__alignsize] - this.options.margin)
            }
        }, p.slideAction = function(slide) {
            var thumb_ele = slide.$element.find(".ms-thumb"),
                that = this,
                thumb_frame = $("<div></div>").addClass("ms-thumb-frame").append(thumb_ele).append($('<div class="ms-thumb-ol"></div>')).bind(this.options.hover ? "hover" : "click", function() {
                    that.changeSlide(thumb_frame)
                });
            if (this.options.align && thumb_frame.width(this.options.width - ("v" === this.options.dir && "tabs" === this.options.type ? 12 : 0)).height(this.options.height).css("margin-" + ("v" === this.options.dir ? "bottom" : "right"), this.options.space), thumb_frame[0].index = this.index_count++, this.$thumbscont.append(thumb_frame), this.options.fillMode && thumb_ele.is("img")) {
                var aligner = new window.MSAligner(this.options.fillMode, thumb_frame, thumb_ele);
                thumb_ele[0].aligner = aligner, thumb_ele.one("load", function() {
                    var $this = $(this);
                    $this[0].aligner.init($this.width(), $this.height()), $this[0].aligner.align()
                }).each($.jqLoadFix)
            }
            $.browser.msie && thumb_ele.on("dragstart", function(event) {
                event.preventDefault()
            }), this.thumbs.push(thumb_frame)
        }, p.create = function() {
            _super.create.call(this), this.__translate_end = window._css3d ? " translateZ(0px)" : "", this.controller = new Controller(0, 0, {
                snappingMinSpeed: 2,
                friction: (100 - .5 * this.options.speed) / 100
            }), this.controller.renderCallback("h" === this.options.dir ? this._hMove : this._vMove, this);
            var that = this;
            this.resize_listener = function() {
                that.__resize()
            }, $(window).bind("resize", this.resize_listener), this.thumbSize = this.thumbs[0][this.__jdimen](!0), this.setupSwipe(), this.__resize();
            var that = this;
            this.options.wheel && (this.wheellistener = function(event) {
                var e = window.event || event.orginalEvent || event,
                    delta = Math.max(-1, Math.min(1, e.wheelDelta || -e.detail));
                return that.controller.push(10 * -delta), !1
            }, $.browser.mozilla ? this.$element[0].addEventListener("DOMMouseScroll", this.wheellistener) : this.$element.bind("mousewheel", this.wheellistener)), this.slider.api.addEventListener(MSSliderEvent.CHANGE_START, this.update, this), this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE, this.realignThumbs, this), this.cindex = this.slider.api.index(), this.select(this.thumbs[this.cindex])
        }, p._hMove = function(controller, value) {
            return this.__contPos = value, window._cssanim ? void(this.$thumbscont[0].style[window._jcsspfx + "Transform"] = "translateX(" + -value + "px)" + this.__translate_end) : void(this.$thumbscont[0].style.left = -value + "px")
        }, p._vMove = function(controller, value) {
            return this.__contPos = value, window._cssanim ? void(this.$thumbscont[0].style[window._jcsspfx + "Transform"] = "translateY(" + -value + "px)" + this.__translate_end) : void(this.$thumbscont[0].style.top = -value + "px")
        }, p.setupSwipe = function() {
            this.swipeControl = new averta.TouchSwipe(this.$element), this.swipeControl.swipeType = "h" === this.options.dir ? "horizontal" : "vertical";
            var that = this;
            this.swipeControl.onSwipe = "h" === this.options.dir ? function(status) {
                that.horizSwipeMove(status)
            } : function(status) {
                that.vertSwipeMove(status)
            }
        }, p.vertSwipeMove = function(status) {
            if (!this.dTouch) {
                var phase = status.phase;
                if ("start" === phase) this.controller.stop();
                else if ("move" === phase) this.controller.drag(status.moveY);
                else if ("end" === phase || "cancel" === phase) {
                    var speed = Math.abs(status.distanceY / status.duration * 50 / 3);
                    speed > .1 ? this.controller.push(-status.distanceY / status.duration * 50 / 3) : (this.click_enable = !0, this.controller.cancel())
                }
            }
        }, p.horizSwipeMove = function(status) {
            if (!this.dTouch) {
                var phase = status.phase;
                if ("start" === phase) this.controller.stop(), this.click_enable = !1;
                else if ("move" === phase) this.controller.drag(status.moveX);
                else if ("end" === phase || "cancel" === phase) {
                    var speed = Math.abs(status.distanceX / status.duration * 50 / 3);
                    speed > .1 ? this.controller.push(-status.distanceX / status.duration * 50 / 3) : (this.click_enable = !0, this.controller.cancel())
                }
            }
        }, p.update = function() {
            var nindex = this.slider.api.index();
            this.cindex !== nindex && (null != this.cindex && this.unselect(this.thumbs[this.cindex]), this.cindex = nindex, this.select(this.thumbs[this.cindex]), this.dTouch || this.updateThumbscroll())
        }, p.realignThumbs = function() {
            this.$element.find(".ms-thumb").each(function(index, thumb) {
                thumb.aligner && thumb.aligner.align()
            })
        }, p.updateThumbscroll = function() {
            var pos = this.thumbSize * this.cindex;
            if (0 / 0 == this.controller.value && (this.controller.value = 0), pos - this.controller.value < 0) return void this.controller.gotoSnap(this.cindex, !0);
            if (pos + this.thumbSize - this.controller.value > this.$element[this.__dimen]()) {
                var first_snap = this.cindex - Math.floor(this.$element[this.__dimen]() / this.thumbSize) + 1;
                return void this.controller.gotoSnap(first_snap, !0)
            }
        }, p.changeSlide = function(thumb) {
            this.click_enable && this.cindex !== thumb[0].index && this.slider.api.gotoSlide(thumb[0].index)
        }, p.unselect = function(ele) {
            ele.removeClass("ms-thumb-frame-selected")
        }, p.select = function(ele) {
            ele.addClass("ms-thumb-frame-selected")
        }, p.__resize = function() {
            var size = this.$element[this.__dimen]();
            if (this.ls !== size) {
                this.ls = size, this.thumbSize = this.thumbs[0][this.__jdimen](!0);
                var len = this.slider.api.count() * this.thumbSize;
                this.$thumbscont[0].style[this.__dimen] = len + "px", size >= len ? (this.dTouch = !0, this.controller.stop(), this.$thumbscont[0].style[this.__pos] = .5 * (size - len) + "px", this.$thumbscont[0].style[window._jcsspfx + "Transform"] = "") : (this.dTouch = !1, this.click_enable = !0, this.$thumbscont[0].style[this.__pos] = "", this.controller._max_value = len - size, this.controller.options.snapsize = this.thumbSize, this.updateThumbscroll())
            }
        }, p.destroy = function() {
            _super.destroy(), this.options.wheel && ($.browser.mozilla ? this.$element[0].removeEventListener("DOMMouseScroll", this.wheellistener) : this.$element.unbind("mousewheel", this.wheellistener), this.wheellistener = null), $(window).unbind("resize", this.resize_listener), this.$element.remove(), this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START, this.update, this)
        }, window.MSThumblist = MSThumblist, MSSlideController.registerControl("thumblist", MSThumblist)
    }(jQuery),
    function($) {
        "use strict";
        var MSBulltes = function(options) {
            BaseControl.call(this), this.options.dir = "h", this.options.inset = !0, this.options.margin = 10, this.options.space = 10, $.extend(this.options, options), this.bullets = []
        };
        MSBulltes.extend(BaseControl);
        var p = MSBulltes.prototype,
            _super = BaseControl.prototype;
        p.setup = function() {
            if (_super.setup.call(this), this.$element = $("<div></div>").addClass(this.options.prefix + "bullets").addClass("ms-dir-" + this.options.dir).appendTo(this.cont), this.$bullet_cont = $("<div></div>").addClass("ms-bullets-count").appendTo(this.$element), !this.options.insetTo && this.options.align) {
                var align = this.options.align;
                this.options.inset && this.$element.css(align, this.options.margin)
            }
            this.checkHideUnder()
        }, p.create = function() {
            _super.create.call(this);
            var that = this;
            this.slider.api.addEventListener(MSSliderEvent.CHANGE_START, this.update, this), this.cindex = this.slider.api.index();
            for (var i = 0; i < this.slider.api.count(); ++i) {
                var bullet = $("<div></div>").addClass("ms-bullet");
                bullet[0].index = i, bullet.on("click", function() {
                    that.changeSlide(this.index)
                }), this.$bullet_cont.append(bullet), this.bullets.push(bullet), "h" === this.options.dir ? bullet.css("margin", this.options.space / 2) : bullet.css("margin", this.options.space)
            }
            "h" === this.options.dir ? this.$element.width(bullet.outerWidth(!0) * this.slider.api.count()) : this.$element.css("margin-top", -this.$element.outerHeight(!0) / 2), this.select(this.bullets[this.cindex])
        }, p.update = function() {
            var nindex = this.slider.api.index();
            this.cindex !== nindex && (null != this.cindex && this.unselect(this.bullets[this.cindex]), this.cindex = nindex, this.select(this.bullets[this.cindex]))
        }, p.changeSlide = function(index) {
            this.cindex !== index && this.slider.api.gotoSlide(index)
        }, p.unselect = function(ele) {
            ele.removeClass("ms-bullet-selected")
        }, p.select = function(ele) {
            ele.addClass("ms-bullet-selected")
        }, p.destroy = function() {
            _super.destroy(), this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START, this.update, this), this.$element.remove()
        }, window.MSBulltes = MSBulltes, MSSlideController.registerControl("bullets", MSBulltes)
    }(jQuery),
    function($) {
        "use strict";
        var MSScrollbar = function(options) {
            BaseControl.call(this), this.options.dir = "h", this.options.autohide = !0, this.options.width = 4, this.options.color = "#3D3D3D", this.options.margin = 10, $.extend(this.options, options), this.__dimen = "h" === this.options.dir ? "width" : "height", this.__jdimen = "h" === this.options.dir ? "outerWidth" : "outerHeight", this.__pos = "h" === this.options.dir ? "left" : "top", this.__translate_end = window._css3d ? " translateZ(0px)" : "", this.__translate_start = "h" === this.options.dir ? " translateX(" : "translateY("
        };
        MSScrollbar.extend(BaseControl);
        var p = MSScrollbar.prototype,
            _super = BaseControl.prototype;
        p.setup = function() {
            if (this.$element = $("<div></div>").addClass(this.options.prefix + "sbar").addClass("ms-dir-" + this.options.dir), _super.setup.call(this), this.$element.appendTo(this.slider.$controlsCont === this.cont ? this.slider.$element : this.cont), this.$bar = $("<div></div>").addClass(this.options.prefix + "bar").appendTo(this.$element), this.slider.options.loop && (this.disable = !0, this.$element.remove()), "v" === this.options.dir ? this.$bar.width(this.options.width) : this.$bar.height(this.options.width), this.$bar.css("background-color", this.options.color), !this.options.insetTo && this.options.align) {
                this.$element.css("v" === this.options.dir ? {
                    right: "auto",
                    left: "auto"
                } : {
                    top: "auto",
                    bottom: "auto"
                });
                var align = this.options.align;
                this.options.inset ? this.$element.css(align, this.options.margin) : "top" === align ? this.$element.prependTo(this.slider.$element).css({
                    "margin-bottom": this.options.margin,
                    position: "relative"
                }) : "bottom" === align ? this.$element.css({
                    "margin-top": this.options.margin,
                    position: "relative"
                }) : (this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.align())
            }
            this.checkHideUnder()
        }, p.align = function() {
            if (!this.detached) {
                var align = this.options.align,
                    pos = this.slider.reserveSpace(align, 2 * this.options.margin + this.options.width);
                this.$element.css(align, -pos - this.options.margin - this.options.width)
            }
        }, p.create = function() {
            if (!this.disable) {
                this.scroller = this.slider.api.scroller, this.slider.api.view.addEventListener(MSViewEvents.SCROLL, this._update, this), this.slider.api.addEventListener(MSSliderEvent.RESIZE, this._resize, this), this._resize(), this.options.autohide && this.$bar.css("opacity", "0")
            }
        }, p._resize = function() {
            this.vdimen = this.$element[this.__dimen](), this.bar_dimen = this.slider.api.view["__" + this.__dimen] * this.vdimen / this.scroller._max_value, this.$bar[this.__dimen](this.bar_dimen)
        }, p._update = function() {
            var value = this.scroller.value * (this.vdimen - this.bar_dimen) / this.scroller._max_value;
            if (this.lvalue !== value) {
                if (this.lvalue = value, this.options.autohide) {
                    clearTimeout(this.hto), this.$bar.css("opacity", "1");
                    var that = this;
                    this.hto = setTimeout(function() {
                        that.$bar.css("opacity", "0")
                    }, 150)
                }
                return 0 > value ? void(this.$bar[0].style[this.__dimen] = this.bar_dimen + value + "px") : (value > this.vdimen - this.bar_dimen && (this.$bar[0].style[this.__dimen] = this.vdimen - value + "px"), window._cssanim ? void(this.$bar[0].style[window._jcsspfx + "Transform"] = this.__translate_start + value + "px)" + this.__translate_end) : void(this.$bar[0].style[this.__pos] = value + "px"))
            }
        }, p.destroy = function() {
            _super.destroy(), this.slider.api.view.removeEventListener(MSViewEvents.SCROLL, this._update, this), this.slider.api.removeEventListener(MSSliderEvent.RESIZE, this._resize, this), this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.$element.remove()
        }, window.MSScrollbar = MSScrollbar, MSSlideController.registerControl("scrollbar", MSScrollbar)
    }(jQuery),
    function($) {
        "use strict";
        var MSTimerbar = function(options) {
            BaseControl.call(this), this.options.autohide = !1, this.options.width = 4, this.options.color = "#FFFFFF", this.options.inset = !0, this.options.margin = 0, $.extend(this.options, options)
        };
        MSTimerbar.extend(BaseControl);
        var p = MSTimerbar.prototype,
            _super = BaseControl.prototype;
        p.setup = function() {
            if (_super.setup.call(this), this.$element = $("<div></div>").addClass(this.options.prefix + "timerbar"), _super.setup.call(this), this.$element.appendTo(this.slider.$controlsCont === this.cont ? this.slider.$element : this.cont), this.$bar = $("<div></div>").addClass("ms-time-bar").appendTo(this.$element), "v" === this.options.dir ? (this.$bar.width(this.options.width), this.$element.width(this.options.width)) : (this.$bar.height(this.options.width), this.$element.height(this.options.width)), this.$bar.css("background-color", this.options.color), !this.options.insetTo && this.options.align) {
                this.$element.css({
                    top: "auto",
                    bottom: "auto"
                });
                var align = this.options.align;
                this.options.inset ? this.$element.css(align, this.options.margin) : "top" === align ? this.$element.prependTo(this.slider.$element).css({
                    "margin-bottom": this.options.margin,
                    position: "relative"
                }) : "bottom" === align ? this.$element.css({
                    "margin-top": this.options.margin,
                    position: "relative"
                }) : (this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.align())
            }
            this.checkHideUnder()
        }, p.align = function() {
            if (!this.detached) {
                var align = this.options.align,
                    pos = this.slider.reserveSpace(align, 2 * this.options.margin + this.options.width);
                this.$element.css(align, -pos - this.options.margin - this.options.width)
            }
        }, p.create = function() {
            _super.create.call(this), this.slider.api.addEventListener(MSSliderEvent.WAITING, this._update, this), this._update()
        }, p._update = function() {
            this.$bar[0].style.width = this.slider.api._delayProgress + "%"
        }, p.destroy = function() {
            _super.destroy(), this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.slider.api.removeEventListener(MSSliderEvent.WAITING, this._update, this), this.$element.remove()
        }, window.MSTimerbar = MSTimerbar, MSSlideController.registerControl("timebar", MSTimerbar)
    }(jQuery),
    function($) {
        "use strict";
        var MSCircleTimer = function(options) {
            BaseControl.call(this), this.options.color = "#A2A2A2", this.options.stroke = 10, this.options.radius = 4, this.options.autohide = !1, $.extend(this.options, options)
        };
        MSCircleTimer.extend(BaseControl);
        var p = MSCircleTimer.prototype,
            _super = BaseControl.prototype;
        p.setup = function() {
            return _super.setup.call(this), this.$element = $("<div></div>").addClass(this.options.prefix + "ctimer").appendTo(this.cont), this.$canvas = $("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element), this.$bar = $("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element), this.$canvas[0].getContext ? (this.ctx = this.$canvas[0].getContext("2d"), this.prog = 0, this.__w = 2 * (this.options.radius + this.options.stroke / 2), this.$canvas[0].width = this.__w, this.$canvas[0].height = this.__w, void this.checkHideUnder()) : (this.destroy(), void(this.disable = !0))
        }, p.create = function() {
            if (!this.disable) {
                _super.create.call(this), this.slider.api.addEventListener(MSSliderEvent.WAITING, this._update, this);
                var that = this;
                this.$element.click(function() {
                    that.slider.api.paused ? that.slider.api.resume() : that.slider.api.pause()
                }), this._update()
            }
        }, p._update = function() {
            var that = this;
            $(this).stop(!0).animate({
                prog: .01 * this.slider.api._delayProgress
            }, {
                duration: 200,
                step: function() {
                    that._draw()
                }
            })
        }, p._draw = function() {
            this.ctx.clearRect(0, 0, this.__w, this.__w), this.ctx.beginPath(), this.ctx.arc(.5 * this.__w, .5 * this.__w, this.options.radius, 1.5 * Math.PI, 1.5 * Math.PI + 2 * Math.PI * this.prog, !1), this.ctx.strokeStyle = this.options.color, this.ctx.lineWidth = this.options.stroke, this.ctx.stroke()
        }, p.destroy = function() {
            _super.destroy(), this.disable || ($(this).stop(!0), this.slider.api.removeEventListener(MSSliderEvent.WAITING, this._update, this), this.$element.remove())
        }, window.MSCircleTimer = MSCircleTimer, MSSlideController.registerControl("circletimer", MSCircleTimer)
    }(jQuery),
    function($) {
        "use strict";
        window.MSLightbox = function(options) {
            BaseControl.call(this, options), this.options.autohide = !1, $.extend(this.options, options), this.data_list = []
        }, MSLightbox.fadeDuratation = 400, MSLightbox.extend(BaseControl);
        var p = MSLightbox.prototype,
            _super = BaseControl.prototype;
        p.setup = function() {
            _super.setup.call(this), this.$element = $("<div></div>").addClass(this.options.prefix + "lightbox-btn").appendTo(this.cont), this.checkHideUnder()
        }, p.slideAction = function(slide) {
            $("<div></div>").addClass(this.options.prefix + "lightbox-btn").appendTo(slide.$element).append($(slide.$element.find(".ms-lightbox")))
        }, p.create = function() {
            _super.create.call(this)
        }, MSSlideController.registerControl("lightbox", MSLightbox)
    }(jQuery),
    function($) {
        "use strict";
        window.MSSlideInfo = function(options) {
            BaseControl.call(this, options), this.options.autohide = !1, this.options.align = null, this.options.inset = !1, this.options.margin = 10, this.options.size = 100, this.options.dir = "h", $.extend(this.options, options), this.data_list = []
        }, MSSlideInfo.fadeDuratation = 400, MSSlideInfo.extend(BaseControl);
        var p = MSSlideInfo.prototype,
            _super = BaseControl.prototype;
        p.setup = function() {
            if (this.$element = $("<div></div>").addClass(this.options.prefix + "slide-info").addClass("ms-dir-" + this.options.dir), _super.setup.call(this), this.$element.appendTo(this.slider.$controlsCont === this.cont ? this.slider.$element : this.cont), !this.options.insetTo && this.options.align) {
                var align = this.options.align;
                this.options.inset ? this.$element.css(align, this.options.margin) : "top" === align ? this.$element.prependTo(this.slider.$element).css({
                    "margin-bottom": this.options.margin,
                    position: "relative"
                }) : "bottom" === align ? this.$element.css({
                    "margin-top": this.options.margin,
                    position: "relative"
                }) : (this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.align()), "v" === this.options.dir ? this.$element.width(this.options.size) : this.$element.css("min-height", this.options.size)
            }
            this.checkHideUnder()
        }, p.align = function() {
            if (!this.detached) {
                var align = this.options.align,
                    pos = this.slider.reserveSpace(align, this.options.size + 2 * this.options.margin);
                this.$element.css(align, -pos - this.options.size - this.options.margin)
            }
        }, p.slideAction = function(slide) {
            var info_ele = $(slide.$element.find(".ms-info"));
            info_ele.detach(), this.data_list[slide.index] = info_ele
        }, p.create = function() {
            _super.create.call(this), this.slider.api.addEventListener(MSSliderEvent.CHANGE_START, this.update, this), this.cindex = this.slider.api.index(), this.switchEle(this.data_list[this.cindex])
        }, p.update = function() {
            var nindex = this.slider.api.index();
            this.switchEle(this.data_list[nindex]), this.cindex = nindex
        }, p.switchEle = function(ele) {
            if (this.current_ele) {
                this.current_ele[0].tween && this.current_ele[0].tween.stop(!0), this.current_ele[0].tween = CTween.animate(this.current_ele, MSSlideInfo.fadeDuratation, {
                    opacity: 0
                }, {
                    complete: function() {
                        this.detach(), this[0].tween = null, ele.css("position", "relative")
                    },
                    target: this.current_ele
                }), ele.css("position", "absolute")
            }
            this.__show(ele)
        }, p.__show = function(ele) {
            ele.appendTo(this.$element).css("opacity", "0"), this.current_ele && ele.height(Math.max(ele.height(), this.current_ele.height())), clearTimeout(this.tou), this.tou = setTimeout(function() {
                CTween.fadeIn(ele, MSSlideInfo.fadeDuratation), ele.css("height", "")
            }, MSSlideInfo.fadeDuratation), ele[0].tween && ele[0].tween.stop(!0), this.current_ele = ele
        }, p.destroy = function() {
            _super.destroy(), clearTimeout(this.tou), this.current_ele && this.current_ele[0].tween && this.current_ele[0].tween.stop("true"), this.$element.remove(), this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE, this.align, this), this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START, this.update, this)
        }, MSSlideController.registerControl("slideinfo", MSSlideInfo)
    }(jQuery),
    function($) {
        window.MSGallery = function(id, slider) {
            this.id = id, this.slider = slider, this.telement = $("#" + id), this.botcont = $("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement), this.thumbcont = $("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont), this.playbtn = $("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont), this.thumbtoggle = $("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont), slider.control("thumblist", {
                insertTo: this.thumbcont,
                autohide: !1,
                dir: "h"
            }), slider.control("slidenum", {
                insertTo: this.botcont,
                autohide: !1
            }), slider.control("slideinfo", {
                insertTo: this.botcont,
                autohide: !1
            }), slider.control("timebar", {
                insertTo: this.botcont,
                autohide: !1
            }), slider.control("bullets", {
                insertTo: this.botcont,
                autohide: !1
            })
        };
        var p = MSGallery.prototype;
        p._init = function() {
            var that = this;
            this.slider.api.paused || this.playbtn.addClass("btn-pause"), this.playbtn.click(function() {
                that.slider.api.paused ? (that.slider.api.resume(), that.playbtn.addClass("btn-pause")) : (that.slider.api.pause(), that.playbtn.removeClass("btn-pause"))
            }), this.thumbtoggle.click(function() {
                that.vthumbs ? (that.thumbtoggle.removeClass("btn-hide"), that.vthumbs = !1, that.thumbcont.addClass("hide-thumbs")) : (that.thumbtoggle.addClass("btn-hide"), that.thumbcont.removeClass("hide-thumbs"), that.vthumbs = !0)
            })
        }, p.setup = function() {
            var that = this;
            $(document).ready(function() {
                that._init()
            })
        }
    }(jQuery),
    function($) {
        var getPhotosetURL = function(key, id, count) {
                return "https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=" + key + "&photoset_id=" + id + "&per_page=" + count + "&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"
            },
            getUserPublicURL = function(key, id, count) {
                return "https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key=" + key + "&user_id=" + id + "&per_page=" + count + "&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"
            },
            getImageSource = function(fid, server, id, secret, size, data) {
                return "_o" === size && data ? data.url_o : "https://farm" + fid + ".staticflickr.com/" + server + "/" + id + "_" + secret + size + ".jpg"
            };
        window.MSFlickrV2 = function(slider, options) {
            var _options = {
                count: 10,
                type: "photoset",
                thumbSize: "q",
                imgSize: "c"
            };
            if (this.slider = slider, this.slider.holdOn(), !options.key) return void this.errMsg("Flickr API Key required. Please add it in settings.");
            $.extend(_options, options), this.options = _options;
            var that = this;
            "photoset" === this.options.type ? $.getJSON(getPhotosetURL(this.options.key, this.options.id, this.options.count), function(data) {
                that._photosData(data)
            }) : $.getJSON(getUserPublicURL(this.options.key, this.options.id, this.options.count), function(data) {
                that.options.type = "photos", that._photosData(data)
            }), "" !== this.options.imgSize && "-" !== this.options.imgSize && (this.options.imgSize = "_" + this.options.imgSize), this.options.thumbSize = "_" + this.options.thumbSize, this.slideTemplate = this.slider.$element.find(".ms-slide")[0].outerHTML, this.slider.$element.find(".ms-slide").remove()
        };
        var p = MSFlickrV2.prototype;
        p._photosData = function(data) {
            if ("fail" === data.stat) return void this.errMsg("Flickr API ERROR#" + data.code + ": " + data.message); {
                var that = this;
                this.options.author || this.options.desc
            }
            $.each(data[this.options.type].photo, function(i, item) {
                var slide_cont = that.slideTemplate.replace(/{{[\w-]+}}/g, function(match) {
                    return match = match.replace(/{{|}}/g, ""), shortCodes[match] ? shortCodes[match](item, that) : "{{" + match + "}}"
                });
                $(slide_cont).appendTo(that.slider.$element)
            }), that._initSlider()
        }, p.errMsg = function(msg) {
            this.slider.$element.css("display", "block"), this.errEle || (this.errEle = $('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)), this.errEle.html(msg)
        }, p._initSlider = function() {
            this.slider.release()
        };
        var shortCodes = {
            image: function(data, that) {
                return getImageSource(data.farm, data.server, data.id, data.secret, that.options.imgSize, data)
            },
            thumb: function(data, that) {
                return getImageSource(data.farm, data.server, data.id, data.secret, that.options.thumbSize)
            },
            title: function(data) {
                return data.title
            },
            "owner-name": function(data) {
                return data.ownername
            },
            "date-taken": function(data) {
                return data.datetaken
            },
            views: function(data) {
                return data.views
            },
            description: function(data) {
                return data.description._content
            }
        }
    }(jQuery),
    function($) {
        window.MSFacebookGallery = function(slider, options) {
            var _options = {
                count: 10,
                type: "photostream",
                thumbSize: "320",
                imgSize: "orginal",
                https: !1,
                token: ""
            };
            this.slider = slider, this.slider.holdOn(), $.extend(_options, options), this.options = _options, this.graph = "https://graph.facebook.com";
            var that = this;
            "photostream" === this.options.type ? $.getJSON(this.graph + "/" + this.options.username + "/photos/uploaded/?fields=source,name,link,images,from&limit=" + this.options.count + "&access_token=" + this.options.token, function(data) {
                that._photosData(data)
            }) : $.getJSON(this.graph + "/" + this.options.albumId + "/photos?fields=source,name,link,images,from&limit=" + this.options.count + "&access_token=" + this.options.token, function(data) {
                that._photosData(data)
            }), this.slideTemplate = this.slider.$element.find(".ms-slide")[0].outerHTML, this.slider.$element.find(".ms-slide").remove()
        };
        var p = MSFacebookGallery.prototype;
        p._photosData = function(content) {
            if (content.error) return void this.errMsg("Facebook API ERROR#" + content.error.code + "(" + content.error.type + "): " + content.error.message);
            for (var that = this, i = (this.options.author || this.options.desc, 0), l = content.data.length; i !== l; i++) {
                var slide_cont = that.slideTemplate.replace(/{{[\w-]+}}/g, function(match) {
                    return match = match.replace(/{{|}}/g, ""), shortCodes[match] ? shortCodes[match](content.data[i], that) : "{{" + match + "}}"
                });
                $(slide_cont).appendTo(that.slider.$element)
            }
            that._initSlider()
        }, p.errMsg = function(msg) {
            this.slider.$element.css("display", "block"), this.errEle || (this.errEle = $('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)), this.errEle.html(msg)
        }, p._initSlider = function() {
            this.slider.release()
        };
        var getImageSource = function(images, size) {
                if ("orginal" === size) return images[0].source;
                for (var i = 0, l = images.length; i !== l; i++)
                    if (-1 !== images[i].source.indexOf(size + "x" + size)) return images[i].source;
                return images[0].source
            },
            shortCodes = {
                image: function(data, that) {
                    return getImageSource(data.images, that.options.imgSize)
                },
                thumb: function(data, that) {
                    return getImageSource(data.images, that.options.thumbSize)
                },
                name: function(data) {
                    return data.name
                },
                "owner-name": function(data) {
                    return data.from.name
                },
                link: function(data) {
                    return data.link
                }
            }
    }(jQuery),
    function($) {
        "use strict";
        window.MSScrollParallax = function(slider, parallax, bgparallax, fade) {
            this.fade = fade, this.slider = slider, this.parallax = parallax / 100, this.bgparallax = bgparallax / 100, slider.api.addEventListener(MSSliderEvent.INIT, this.init, this), slider.api.addEventListener(MSSliderEvent.DESTROY, this.destory, this), slider.api.addEventListener(MSSliderEvent.CHANGE_END, this.resetLayers, this), slider.api.addEventListener(MSSliderEvent.CHANGE_START, this.updateCurrentSlide, this)
        }, window.MSScrollParallax.setup = function(slider, parallax, bgparallax, fade) {
            return window._mobile ? void 0 : (null == parallax && (parallax = 50), null == bgparallax && (bgparallax = 40), new MSScrollParallax(slider, parallax, bgparallax, fade))
        };
        var p = window.MSScrollParallax.prototype;
        p.init = function() {
            this.slider.$element.addClass("ms-scroll-parallax"), this.sliderOffset = this.slider.$element.offset().top, this.updateCurrentSlide();
            for (var slide, slides = this.slider.api.view.slideList, i = 0, l = slides.length; i !== l; i++) slide = slides[i], slide.hasLayers && (slide.layerController.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'), slide.$scrollParallaxCont = slide.layerController.$layers.parent());
            $(window).on("scroll", {
                that: this
            }, this.moveParallax).trigger("scroll")
        }, p.resetLayers = function() {
            if (this.lastSlide) {
                var layers = this.lastSlide.$scrollParallaxCont;
                window._css2d ? (layers && (layers[0].style[window._jcsspfx + "Transform"] = ""), this.lastSlide.hasBG && (this.lastSlide.$imgcont[0].style[window._jcsspfx + "Transform"] = "")) : (layers && (layers[0].style.top = ""), this.lastSlide.hasBG && (this.lastSlide.$imgcont[0].style.top = "0px"))
            }
        }, p.updateCurrentSlide = function() {
            this.lastSlide = this.currentSlide, this.currentSlide = this.slider.api.currentSlide, this.moveParallax({
                data: {
                    that: this
                }
            })
        }, p.moveParallax = function(e) {
            var that = e.data.that,
                slider = that.slider,
                offset = that.sliderOffset,
                scrollTop = $(window).scrollTop(),
                layers = that.currentSlide.$scrollParallaxCont,
                out = offset - scrollTop;
            0 >= out ? (layers && (window._css3d ? layers[0].style[window._jcsspfx + "Transform"] = "translateY(" + -out * that.parallax + "px) translateZ(0.4px)" : window._css2d ? layers[0].style[window._jcsspfx + "Transform"] = "translateY(" + -out * that.parallax + "px)" : layers[0].style.top = -out * that.parallax + "px"), that.updateSlidesBG(-out * that.bgparallax + "px", !0), layers && that.fade && layers.css("opacity", 1 - Math.min(1, -out / slider.api.height))) : (layers && (window._css2d ? layers[0].style[window._jcsspfx + "Transform"] = "" : layers[0].style.top = ""), that.updateSlidesBG("0px", !1), layers && that.fade && layers.css("opacity", 1))
        }, p.updateSlidesBG = function(pos, fixed) {
            for (var slides = this.slider.api.view.slideList, position = !fixed || $.browser.msie || $.browser.opera ? "" : "fixed", i = 0, l = slides.length; i !== l; i++) slides[i].hasBG && (slides[i].$imgcont[0].style.position = position, slides[i].$imgcont[0].style.top = pos), slides[i].$bgvideocont && (slides[i].$bgvideocont[0].style.position = position, slides[i].$bgvideocont[0].style.top = pos)
        }, p.destory = function() {
            slider.api.removeEventListener(MSSliderEvent.INIT, this.init, this), slider.api.removeEventListener(MSSliderEvent.DESTROY, this.destory, this), slider.api.removeEventListener(MSSliderEvent.CHANGE_END, this.resetLayers, this), slider.api.removeEventListener(MSSliderEvent.CHANGE_START, this.updateCurrentSlide, this), $(window).off("scroll", this.moveParallax)
        }
    }(jQuery),
    function($, document, window) {
        var PId = 0;
        if (window.MasterSlider) {
            var KeyboardNav = function(slider) {
                this.slider = slider, this.PId = PId++, this.slider.options.keyboard && slider.api.addEventListener(MSSliderEvent.INIT, this.init, this)
            };
            KeyboardNav.name = "MSKeyboardNav";
            var p = KeyboardNav.prototype;
            p.init = function() {
                var api = this.slider.api;
                $(document).on("keydown.kbnav" + this.PId, function(event) {
                    var which = event.which;
                    37 === which || 40 === which ? api.previous(!0) : (38 === which || 39 === which) && api.next(!0)
                })
            }, p.destroy = function() {
                $(document).off("keydown.kbnav" + this.PId), this.slider.api.removeEventListener(MSSliderEvent.INIT, this.init, this)
            }, MasterSlider.registerPlugin(KeyboardNav)
        }
    }(jQuery, document, window),
    function($, document, window) {
        var PId = 0,
            $window = $(window),
            $doc = $(document);
        if (window.MasterSlider) {
            var StartOnAppear = function(slider) {
                this.PId = PId++, this.slider = slider, this.$slider = slider.$element, this.slider.options.startOnAppear && (slider.holdOn(), $doc.ready($.proxy(this.init, this)))
            };
            StartOnAppear.name = "MSStartOnAppear";
            var p = StartOnAppear.prototype;
            p.init = function() {
                this.slider.api;
                $window.on("scroll.soa" + this.PId, $.proxy(this._onScroll, this)).trigger("scroll")
            }, p._onScroll = function() {
                var vpBottom = $window.scrollTop() + $window.height(),
                    top = this.$slider.offset().top;
                vpBottom > top && ($window.off("scroll.soa" + this.PId), this.slider.release())
            }, p.destroy = function() {}, MasterSlider.registerPlugin(StartOnAppear)
        }
    }(jQuery, document, window),
    function(document, window) {
        var filterUnits = {
                "hue-rotate": "deg",
                blur: "px"
            },
            initialValues = {
                opacity: 1,
                contrast: 1,
                brightness: 1,
                saturate: 1,
                "hue-rotate": 0,
                invert: 0,
                sepia: 0,
                blur: 0,
                grayscale: 0
            };
        if (window.MasterSlider) {
            var Filters = function(slider) {
                this.slider = slider, this.slider.options.filters && slider.api.addEventListener(MSSliderEvent.INIT, this.init, this)
            };
            Filters.name = "MSFilters";
            var p = Filters.prototype;
            p.init = function() {
                var api = this.slider.api,
                    view = api.view;
                this.filters = this.slider.options.filters, this.slideList = view.slideList, this.slidesCount = view.slidesCount, this.dimension = view[view.__dimension], this.target = "slide" === this.slider.options.filterTarget ? "$element" : "$bg_img", this.filterName = $.browser.webkit ? "WebkitFilter" : "filter";
                var superFun = view.controller.__renderHook.fun,
                    superRef = view.controller.__renderHook.ref;
                view.controller.renderCallback(function(controller, value) {
                    superFun.call(superRef, controller, value), this.applyEffect(value)
                }, this), this.applyEffect(view.controller.value)
            }, p.applyEffect = function(value) {
                for (var factor, slide, i = 0; i < this.slidesCount; ++i) slide = this.slideList[i], factor = Math.min(1, Math.abs(value - slide.position) / this.dimension), slide[this.target] && ($.browser.msie ? null != this.filters.opacity && slide[this.target].opacity(1 - this.filters.opacity * factor) : slide[this.target][0].style[this.filterName] = this.generateStyle(factor))
            }, p.generateStyle = function(factor) {
                var unit, style = "";
                for (var filter in this.filters) unit = filterUnits[filter] || "", style += filter + "(" + (initialValues[filter] + (this.filters[filter] - initialValues[filter]) * factor) + ") ";
                return style
            }, p.destroy = function() {
                this.slider.api.removeEventListener(MSSliderEvent.INIT, this.init, this)
            }, MasterSlider.registerPlugin(Filters)
        }
    }(document, window, jQuery),
    function($, document, window) {
        if (window.MasterSlider) {
            var ScrollToAction = function(slider) {
                this.slider = slider, slider.api.addEventListener(MSSliderEvent.INIT, this.init, this)
            };
            ScrollToAction.name = "MSScrollToAction";
            var p = ScrollToAction.prototype;
            p.init = function() {
                var api = this.slider.api;
                api.scrollToEnd = _scrollToEnd, api.scrollTo = _scrollTo
            }, p.destroy = function() {};
            var _scrollTo = function(target, duration) {
                    var target = (this.slider.$element, $(target).eq(0));
                    0 !== target.length && (null == duration && (duration = 1.4), $("html, body").animate({
                        scrollTop: target.offset().top
                    }, 1e3 * duration, "easeInOutQuad"))
                },
                _scrollToEnd = function(duration) {
                    var sliderEle = this.slider.$element;
                    null == duration && (duration = 1.4), $("html, body").animate({
                        scrollTop: sliderEle.offset().top + sliderEle.outerHeight(!1)
                    }, 1e3 * duration, "easeInOutQuad")
                };
            MasterSlider.registerPlugin(ScrollToAction)
        }
    }(jQuery, document, window),
    function($, window) {
        "use strict";
        if (window.MSReady)
            for (var i = 0, l = MSReady.length; i !== l; i++) MSReady[i].call(null, $)
    }(jQuery, window, document);;
(function() {
    function a(a) {
        function b(b, c, d, e, f, g) {
            for (; f >= 0 && f < g; f += a) {
                var h = e ? e[f] : f;
                d = c(d, b[h], h, b)
            }
            return d
        }
        return function(c, d, e, f) {
            d = t(d, f, 4);
            var g = !A(c) && s.keys(c),
                h = (g || c).length,
                i = a > 0 ? 0 : h - 1;
            return arguments.length < 3 && (e = c[g ? g[i] : i], i += a), b(c, d, e, g, i, h)
        }
    }

    function b(a) {
        return function(b, c, d) {
            c = u(c, d);
            for (var e = z(b), f = a > 0 ? 0 : e - 1; f >= 0 && f < e; f += a)
                if (c(b[f], f, b)) return f;
            return -1
        }
    }

    function c(a, b, c) {
        return function(d, e, f) {
            var g = 0,
                h = z(d);
            if ("number" == typeof f) a > 0 ? g = f >= 0 ? f : Math.max(f + h, g) : h = f >= 0 ? Math.min(f + 1, h) : f + h + 1;
            else if (c && f && h) return f = c(d, e), d[f] === e ? f : -1;
            if (e !== e) return f = b(k.call(d, g, h), s.isNaN), f >= 0 ? f + g : -1;
            for (f = a > 0 ? g : h - 1; f >= 0 && f < h; f += a)
                if (d[f] === e) return f;
            return -1
        }
    }

    function d(a, b) {
        var c = F.length,
            d = a.constructor,
            e = s.isFunction(d) && d.prototype || h,
            f = "constructor";
        for (s.has(a, f) && !s.contains(b, f) && b.push(f); c--;) f = F[c], f in a && a[f] !== e[f] && !s.contains(b, f) && b.push(f)
    }
    var e = this,
        f = e._,
        g = Array.prototype,
        h = Object.prototype,
        i = Function.prototype,
        j = g.push,
        k = g.slice,
        l = h.toString,
        m = h.hasOwnProperty,
        n = Array.isArray,
        o = Object.keys,
        p = i.bind,
        q = Object.create,
        r = function() {},
        s = function(a) {
            return a instanceof s ? a : this instanceof s ? void(this._wrapped = a) : new s(a)
        };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = s), exports._ = s) : e._ = s, s.VERSION = "1.8.3";
    var t = function(a, b, c) {
            if (void 0 === b) return a;
            switch (null == c ? 3 : c) {
                case 1:
                    return function(c) {
                        return a.call(b, c)
                    };
                case 2:
                    return function(c, d) {
                        return a.call(b, c, d)
                    };
                case 3:
                    return function(c, d, e) {
                        return a.call(b, c, d, e)
                    };
                case 4:
                    return function(c, d, e, f) {
                        return a.call(b, c, d, e, f)
                    }
            }
            return function() {
                return a.apply(b, arguments)
            }
        },
        u = function(a, b, c) {
            return null == a ? s.identity : s.isFunction(a) ? t(a, b, c) : s.isObject(a) ? s.matcher(a) : s.property(a)
        };
    s.iteratee = function(a, b) {
        return u(a, b, 1 / 0)
    };
    var v = function(a, b) {
            return function(c) {
                var d = arguments.length;
                if (d < 2 || null == c) return c;
                for (var e = 1; e < d; e++)
                    for (var f = arguments[e], g = a(f), h = g.length, i = 0; i < h; i++) {
                        var j = g[i];
                        b && void 0 !== c[j] || (c[j] = f[j])
                    }
                return c
            }
        },
        w = function(a) {
            if (!s.isObject(a)) return {};
            if (q) return q(a);
            r.prototype = a;
            var b = new r;
            return r.prototype = null, b
        },
        x = function(a) {
            return function(b) {
                return null == b ? void 0 : b[a]
            }
        },
        y = Math.pow(2, 53) - 1,
        z = x("length"),
        A = function(a) {
            var b = z(a);
            return "number" == typeof b && b >= 0 && b <= y
        };
    s.each = s.forEach = function(a, b, c) {
        b = t(b, c);
        var d, e;
        if (A(a))
            for (d = 0, e = a.length; d < e; d++) b(a[d], d, a);
        else {
            var f = s.keys(a);
            for (d = 0, e = f.length; d < e; d++) b(a[f[d]], f[d], a)
        }
        return a
    }, s.map = s.collect = function(a, b, c) {
        b = u(b, c);
        for (var d = !A(a) && s.keys(a), e = (d || a).length, f = Array(e), g = 0; g < e; g++) {
            var h = d ? d[g] : g;
            f[g] = b(a[h], h, a)
        }
        return f
    }, s.reduce = s.foldl = s.inject = a(1), s.reduceRight = s.foldr = a(-1), s.find = s.detect = function(a, b, c) {
        var d;
        if (d = A(a) ? s.findIndex(a, b, c) : s.findKey(a, b, c), void 0 !== d && d !== -1) return a[d]
    }, s.filter = s.select = function(a, b, c) {
        var d = [];
        return b = u(b, c), s.each(a, function(a, c, e) {
            b(a, c, e) && d.push(a)
        }), d
    }, s.reject = function(a, b, c) {
        return s.filter(a, s.negate(u(b)), c)
    }, s.every = s.all = function(a, b, c) {
        b = u(b, c);
        for (var d = !A(a) && s.keys(a), e = (d || a).length, f = 0; f < e; f++) {
            var g = d ? d[f] : f;
            if (!b(a[g], g, a)) return !1
        }
        return !0
    }, s.some = s.any = function(a, b, c) {
        b = u(b, c);
        for (var d = !A(a) && s.keys(a), e = (d || a).length, f = 0; f < e; f++) {
            var g = d ? d[f] : f;
            if (b(a[g], g, a)) return !0
        }
        return !1
    }, s.contains = s.includes = s.include = function(a, b, c, d) {
        return A(a) || (a = s.values(a)), ("number" != typeof c || d) && (c = 0), s.indexOf(a, b, c) >= 0
    }, s.invoke = function(a, b) {
        var c = k.call(arguments, 2),
            d = s.isFunction(b);
        return s.map(a, function(a) {
            var e = d ? b : a[b];
            return null == e ? e : e.apply(a, c)
        })
    }, s.pluck = function(a, b) {
        return s.map(a, s.property(b))
    }, s.where = function(a, b) {
        return s.filter(a, s.matcher(b))
    }, s.findWhere = function(a, b) {
        return s.find(a, s.matcher(b))
    }, s.max = function(a, b, c) {
        var d, e, f = -(1 / 0),
            g = -(1 / 0);
        if (null == b && null != a) {
            a = A(a) ? a : s.values(a);
            for (var h = 0, i = a.length; h < i; h++) d = a[h], d > f && (f = d)
        } else b = u(b, c), s.each(a, function(a, c, d) {
            e = b(a, c, d), (e > g || e === -(1 / 0) && f === -(1 / 0)) && (f = a, g = e)
        });
        return f
    }, s.min = function(a, b, c) {
        var d, e, f = 1 / 0,
            g = 1 / 0;
        if (null == b && null != a) {
            a = A(a) ? a : s.values(a);
            for (var h = 0, i = a.length; h < i; h++) d = a[h], d < f && (f = d)
        } else b = u(b, c), s.each(a, function(a, c, d) {
            e = b(a, c, d), (e < g || e === 1 / 0 && f === 1 / 0) && (f = a, g = e)
        });
        return f
    }, s.shuffle = function(a) {
        for (var b, c = A(a) ? a : s.values(a), d = c.length, e = Array(d), f = 0; f < d; f++) b = s.random(0, f), b !== f && (e[f] = e[b]), e[b] = c[f];
        return e
    }, s.sample = function(a, b, c) {
        return null == b || c ? (A(a) || (a = s.values(a)), a[s.random(a.length - 1)]) : s.shuffle(a).slice(0, Math.max(0, b))
    }, s.sortBy = function(a, b, c) {
        return b = u(b, c), s.pluck(s.map(a, function(a, c, d) {
            return {
                value: a,
                index: c,
                criteria: b(a, c, d)
            }
        }).sort(function(a, b) {
            var c = a.criteria,
                d = b.criteria;
            if (c !== d) {
                if (c > d || void 0 === c) return 1;
                if (c < d || void 0 === d) return -1
            }
            return a.index - b.index
        }), "value")
    };
    var B = function(a) {
        return function(b, c, d) {
            var e = {};
            return c = u(c, d), s.each(b, function(d, f) {
                var g = c(d, f, b);
                a(e, d, g)
            }), e
        }
    };
    s.groupBy = B(function(a, b, c) {
        s.has(a, c) ? a[c].push(b) : a[c] = [b]
    }), s.indexBy = B(function(a, b, c) {
        a[c] = b
    }), s.countBy = B(function(a, b, c) {
        s.has(a, c) ? a[c]++ : a[c] = 1
    }), s.toArray = function(a) {
        return a ? s.isArray(a) ? k.call(a) : A(a) ? s.map(a, s.identity) : s.values(a) : []
    }, s.size = function(a) {
        return null == a ? 0 : A(a) ? a.length : s.keys(a).length
    }, s.partition = function(a, b, c) {
        b = u(b, c);
        var d = [],
            e = [];
        return s.each(a, function(a, c, f) {
            (b(a, c, f) ? d : e).push(a)
        }), [d, e]
    }, s.first = s.head = s.take = function(a, b, c) {
        if (null != a) return null == b || c ? a[0] : s.initial(a, a.length - b)
    }, s.initial = function(a, b, c) {
        return k.call(a, 0, Math.max(0, a.length - (null == b || c ? 1 : b)))
    }, s.last = function(a, b, c) {
        if (null != a) return null == b || c ? a[a.length - 1] : s.rest(a, Math.max(0, a.length - b))
    }, s.rest = s.tail = s.drop = function(a, b, c) {
        return k.call(a, null == b || c ? 1 : b)
    }, s.compact = function(a) {
        return s.filter(a, s.identity)
    };
    var C = function(a, b, c, d) {
        for (var e = [], f = 0, g = d || 0, h = z(a); g < h; g++) {
            var i = a[g];
            if (A(i) && (s.isArray(i) || s.isArguments(i))) {
                b || (i = C(i, b, c));
                var j = 0,
                    k = i.length;
                for (e.length += k; j < k;) e[f++] = i[j++]
            } else c || (e[f++] = i)
        }
        return e
    };
    s.flatten = function(a, b) {
        return C(a, b, !1)
    }, s.without = function(a) {
        return s.difference(a, k.call(arguments, 1))
    }, s.uniq = s.unique = function(a, b, c, d) {
        s.isBoolean(b) || (d = c, c = b, b = !1), null != c && (c = u(c, d));
        for (var e = [], f = [], g = 0, h = z(a); g < h; g++) {
            var i = a[g],
                j = c ? c(i, g, a) : i;
            b ? (g && f === j || e.push(i), f = j) : c ? s.contains(f, j) || (f.push(j), e.push(i)) : s.contains(e, i) || e.push(i)
        }
        return e
    }, s.union = function() {
        return s.uniq(C(arguments, !0, !0))
    }, s.intersection = function(a) {
        for (var b = [], c = arguments.length, d = 0, e = z(a); d < e; d++) {
            var f = a[d];
            if (!s.contains(b, f)) {
                for (var g = 1; g < c && s.contains(arguments[g], f); g++);
                g === c && b.push(f)
            }
        }
        return b
    }, s.difference = function(a) {
        var b = C(arguments, !0, !0, 1);
        return s.filter(a, function(a) {
            return !s.contains(b, a)
        })
    }, s.zip = function() {
        return s.unzip(arguments)
    }, s.unzip = function(a) {
        for (var b = a && s.max(a, z).length || 0, c = Array(b), d = 0; d < b; d++) c[d] = s.pluck(a, d);
        return c
    }, s.object = function(a, b) {
        for (var c = {}, d = 0, e = z(a); d < e; d++) b ? c[a[d]] = b[d] : c[a[d][0]] = a[d][1];
        return c
    }, s.findIndex = b(1), s.findLastIndex = b(-1), s.sortedIndex = function(a, b, c, d) {
        c = u(c, d, 1);
        for (var e = c(b), f = 0, g = z(a); f < g;) {
            var h = Math.floor((f + g) / 2);
            c(a[h]) < e ? f = h + 1 : g = h
        }
        return f
    }, s.indexOf = c(1, s.findIndex, s.sortedIndex), s.lastIndexOf = c(-1, s.findLastIndex), s.range = function(a, b, c) {
        null == b && (b = a || 0, a = 0), c = c || 1;
        for (var d = Math.max(Math.ceil((b - a) / c), 0), e = Array(d), f = 0; f < d; f++, a += c) e[f] = a;
        return e
    };
    var D = function(a, b, c, d, e) {
        if (!(d instanceof b)) return a.apply(c, e);
        var f = w(a.prototype),
            g = a.apply(f, e);
        return s.isObject(g) ? g : f
    };
    s.bind = function(a, b) {
        if (p && a.bind === p) return p.apply(a, k.call(arguments, 1));
        if (!s.isFunction(a)) throw new TypeError("Bind must be called on a function");
        var c = k.call(arguments, 2),
            d = function() {
                return D(a, d, b, this, c.concat(k.call(arguments)))
            };
        return d
    }, s.partial = function(a) {
        var b = k.call(arguments, 1),
            c = function() {
                for (var d = 0, e = b.length, f = Array(e), g = 0; g < e; g++) f[g] = b[g] === s ? arguments[d++] : b[g];
                for (; d < arguments.length;) f.push(arguments[d++]);
                return D(a, c, this, this, f)
            };
        return c
    }, s.bindAll = function(a) {
        var b, c, d = arguments.length;
        if (d <= 1) throw new Error("bindAll must be passed function names");
        for (b = 1; b < d; b++) c = arguments[b], a[c] = s.bind(a[c], a);
        return a
    }, s.memoize = function(a, b) {
        var c = function(d) {
            var e = c.cache,
                f = "" + (b ? b.apply(this, arguments) : d);
            return s.has(e, f) || (e[f] = a.apply(this, arguments)), e[f]
        };
        return c.cache = {}, c
    }, s.delay = function(a, b) {
        var c = k.call(arguments, 2);
        return setTimeout(function() {
            return a.apply(null, c)
        }, b)
    }, s.defer = s.partial(s.delay, s, 1), s.throttle = function(a, b, c) {
        var d, e, f, g = null,
            h = 0;
        c || (c = {});
        var i = function() {
            h = c.leading === !1 ? 0 : s.now(), g = null, f = a.apply(d, e), g || (d = e = null)
        };
        return function() {
            var j = s.now();
            h || c.leading !== !1 || (h = j);
            var k = b - (j - h);
            return d = this, e = arguments, k <= 0 || k > b ? (g && (clearTimeout(g), g = null), h = j, f = a.apply(d, e), g || (d = e = null)) : g || c.trailing === !1 || (g = setTimeout(i, k)), f
        }
    }, s.debounce = function(a, b, c) {
        var d, e, f, g, h, i = function() {
            var j = s.now() - g;
            j < b && j >= 0 ? d = setTimeout(i, b - j) : (d = null, c || (h = a.apply(f, e), d || (f = e = null)))
        };
        return function() {
            f = this, e = arguments, g = s.now();
            var j = c && !d;
            return d || (d = setTimeout(i, b)), j && (h = a.apply(f, e), f = e = null), h
        }
    }, s.wrap = function(a, b) {
        return s.partial(b, a)
    }, s.negate = function(a) {
        return function() {
            return !a.apply(this, arguments)
        }
    }, s.compose = function() {
        var a = arguments,
            b = a.length - 1;
        return function() {
            for (var c = b, d = a[b].apply(this, arguments); c--;) d = a[c].call(this, d);
            return d
        }
    }, s.after = function(a, b) {
        return function() {
            if (--a < 1) return b.apply(this, arguments)
        }
    }, s.before = function(a, b) {
        var c;
        return function() {
            return --a > 0 && (c = b.apply(this, arguments)), a <= 1 && (b = null), c
        }
    }, s.once = s.partial(s.before, 2);
    var E = !{
            toString: null
        }.propertyIsEnumerable("toString"),
        F = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"];
    s.keys = function(a) {
        if (!s.isObject(a)) return [];
        if (o) return o(a);
        var b = [];
        for (var c in a) s.has(a, c) && b.push(c);
        return E && d(a, b), b
    }, s.allKeys = function(a) {
        if (!s.isObject(a)) return [];
        var b = [];
        for (var c in a) b.push(c);
        return E && d(a, b), b
    }, s.values = function(a) {
        for (var b = s.keys(a), c = b.length, d = Array(c), e = 0; e < c; e++) d[e] = a[b[e]];
        return d
    }, s.mapObject = function(a, b, c) {
        b = u(b, c);
        for (var d, e = s.keys(a), f = e.length, g = {}, h = 0; h < f; h++) d = e[h], g[d] = b(a[d], d, a);
        return g
    }, s.pairs = function(a) {
        for (var b = s.keys(a), c = b.length, d = Array(c), e = 0; e < c; e++) d[e] = [b[e], a[b[e]]];
        return d
    }, s.invert = function(a) {
        for (var b = {}, c = s.keys(a), d = 0, e = c.length; d < e; d++) b[a[c[d]]] = c[d];
        return b
    }, s.functions = s.methods = function(a) {
        var b = [];
        for (var c in a) s.isFunction(a[c]) && b.push(c);
        return b.sort()
    }, s.extend = v(s.allKeys), s.extendOwn = s.assign = v(s.keys), s.findKey = function(a, b, c) {
        b = u(b, c);
        for (var d, e = s.keys(a), f = 0, g = e.length; f < g; f++)
            if (d = e[f], b(a[d], d, a)) return d
    }, s.pick = function(a, b, c) {
        var d, e, f = {},
            g = a;
        if (null == g) return f;
        s.isFunction(b) ? (e = s.allKeys(g), d = t(b, c)) : (e = C(arguments, !1, !1, 1), d = function(a, b, c) {
            return b in c
        }, g = Object(g));
        for (var h = 0, i = e.length; h < i; h++) {
            var j = e[h],
                k = g[j];
            d(k, j, g) && (f[j] = k)
        }
        return f
    }, s.omit = function(a, b, c) {
        if (s.isFunction(b)) b = s.negate(b);
        else {
            var d = s.map(C(arguments, !1, !1, 1), String);
            b = function(a, b) {
                return !s.contains(d, b)
            }
        }
        return s.pick(a, b, c)
    }, s.defaults = v(s.allKeys, !0), s.create = function(a, b) {
        var c = w(a);
        return b && s.extendOwn(c, b), c
    }, s.clone = function(a) {
        return s.isObject(a) ? s.isArray(a) ? a.slice() : s.extend({}, a) : a
    }, s.tap = function(a, b) {
        return b(a), a
    }, s.isMatch = function(a, b) {
        var c = s.keys(b),
            d = c.length;
        if (null == a) return !d;
        for (var e = Object(a), f = 0; f < d; f++) {
            var g = c[f];
            if (b[g] !== e[g] || !(g in e)) return !1
        }
        return !0
    };
    var G = function(a, b, c, d) {
        if (a === b) return 0 !== a || 1 / a === 1 / b;
        if (null == a || null == b) return a === b;
        a instanceof s && (a = a._wrapped), b instanceof s && (b = b._wrapped);
        var e = l.call(a);
        if (e !== l.call(b)) return !1;
        switch (e) {
            case "[object RegExp]":
            case "[object String]":
                return "" + a == "" + b;
            case "[object Number]":
                return +a !== +a ? +b !== +b : 0 === +a ? 1 / +a === 1 / b : +a === +b;
            case "[object Date]":
            case "[object Boolean]":
                return +a === +b
        }
        var f = "[object Array]" === e;
        if (!f) {
            if ("object" != typeof a || "object" != typeof b) return !1;
            var g = a.constructor,
                h = b.constructor;
            if (g !== h && !(s.isFunction(g) && g instanceof g && s.isFunction(h) && h instanceof h) && "constructor" in a && "constructor" in b) return !1
        }
        c = c || [], d = d || [];
        for (var i = c.length; i--;)
            if (c[i] === a) return d[i] === b;
        if (c.push(a), d.push(b), f) {
            if (i = a.length, i !== b.length) return !1;
            for (; i--;)
                if (!G(a[i], b[i], c, d)) return !1
        } else {
            var j, k = s.keys(a);
            if (i = k.length, s.keys(b).length !== i) return !1;
            for (; i--;)
                if (j = k[i], !s.has(b, j) || !G(a[j], b[j], c, d)) return !1
        }
        return c.pop(), d.pop(), !0
    };
    s.isEqual = function(a, b) {
        return G(a, b)
    }, s.isEmpty = function(a) {
        return null == a || (A(a) && (s.isArray(a) || s.isString(a) || s.isArguments(a)) ? 0 === a.length : 0 === s.keys(a).length)
    }, s.isElement = function(a) {
        return !(!a || 1 !== a.nodeType)
    }, s.isArray = n || function(a) {
        return "[object Array]" === l.call(a)
    }, s.isObject = function(a) {
        var b = typeof a;
        return "function" === b || "object" === b && !!a
    }, s.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function(a) {
        s["is" + a] = function(b) {
            return l.call(b) === "[object " + a + "]"
        }
    }), s.isArguments(arguments) || (s.isArguments = function(a) {
        return s.has(a, "callee")
    }), "function" != typeof /./ && "object" != typeof Int8Array && (s.isFunction = function(a) {
        return "function" == typeof a || !1
    }), s.isFinite = function(a) {
        return isFinite(a) && !isNaN(parseFloat(a))
    }, s.isNaN = function(a) {
        return s.isNumber(a) && a !== +a
    }, s.isBoolean = function(a) {
        return a === !0 || a === !1 || "[object Boolean]" === l.call(a)
    }, s.isNull = function(a) {
        return null === a
    }, s.isUndefined = function(a) {
        return void 0 === a
    }, s.has = function(a, b) {
        return null != a && m.call(a, b)
    }, s.noConflict = function() {
        return e._ = f, this
    }, s.identity = function(a) {
        return a
    }, s.constant = function(a) {
        return function() {
            return a
        }
    }, s.noop = function() {}, s.property = x, s.propertyOf = function(a) {
        return null == a ? function() {} : function(b) {
            return a[b]
        }
    }, s.matcher = s.matches = function(a) {
        return a = s.extendOwn({}, a),
            function(b) {
                return s.isMatch(b, a)
            }
    }, s.times = function(a, b, c) {
        var d = Array(Math.max(0, a));
        b = t(b, c, 1);
        for (var e = 0; e < a; e++) d[e] = b(e);
        return d
    }, s.random = function(a, b) {
        return null == b && (b = a, a = 0), a + Math.floor(Math.random() * (b - a + 1))
    }, s.now = Date.now || function() {
        return (new Date).getTime()
    };
    var H = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;",
            "`": "&#x60;"
        },
        I = s.invert(H),
        J = function(a) {
            var b = function(b) {
                    return a[b]
                },
                c = "(?:" + s.keys(a).join("|") + ")",
                d = RegExp(c),
                e = RegExp(c, "g");
            return function(a) {
                return a = null == a ? "" : "" + a, d.test(a) ? a.replace(e, b) : a
            }
        };
    s.escape = J(H), s.unescape = J(I), s.result = function(a, b, c) {
        var d = null == a ? void 0 : a[b];
        return void 0 === d && (d = c), s.isFunction(d) ? d.call(a) : d
    };
    var K = 0;
    s.uniqueId = function(a) {
        var b = ++K + "";
        return a ? a + b : b
    }, s.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var L = /(.)^/,
        M = {
            "'": "'",
            "\\": "\\",
            "\r": "r",
            "\n": "n",
            "\u2028": "u2028",
            "\u2029": "u2029"
        },
        N = /\\|'|\r|\n|\u2028|\u2029/g,
        O = function(a) {
            return "\\" + M[a]
        };
    s.template = function(a, b, c) {
        !b && c && (b = c), b = s.defaults({}, b, s.templateSettings);
        var d = RegExp([(b.escape || L).source, (b.interpolate || L).source, (b.evaluate || L).source].join("|") + "|$", "g"),
            e = 0,
            f = "__p+='";
        a.replace(d, function(b, c, d, g, h) {
            return f += a.slice(e, h).replace(N, O), e = h + b.length, c ? f += "'+\n((__t=(" + c + "))==null?'':_.escape(__t))+\n'" : d ? f += "'+\n((__t=(" + d + "))==null?'':__t)+\n'" : g && (f += "';\n" + g + "\n__p+='"), b
        }), f += "';\n", b.variable || (f = "with(obj||{}){\n" + f + "}\n"), f = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + f + "return __p;\n";
        try {
            var g = new Function(b.variable || "obj", "_", f)
        } catch (h) {
            throw h.source = f, h
        }
        var i = function(a) {
                return g.call(this, a, s)
            },
            j = b.variable || "obj";
        return i.source = "function(" + j + "){\n" + f + "}", i
    }, s.chain = function(a) {
        var b = s(a);
        return b._chain = !0, b
    };
    var P = function(a, b) {
        return a._chain ? s(b).chain() : b
    };
    s.mixin = function(a) {
        s.each(s.functions(a), function(b) {
            var c = s[b] = a[b];
            s.prototype[b] = function() {
                var a = [this._wrapped];
                return j.apply(a, arguments), P(this, c.apply(s, a))
            }
        })
    }, s.mixin(s), s.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(a) {
        var b = g[a];
        s.prototype[a] = function() {
            var c = this._wrapped;
            return b.apply(c, arguments), "shift" !== a && "splice" !== a || 0 !== c.length || delete c[0], P(this, c)
        }
    }), s.each(["concat", "join", "slice"], function(a) {
        var b = g[a];
        s.prototype[a] = function() {
            return P(this, b.apply(this._wrapped, arguments))
        }
    }), s.prototype.value = function() {
        return this._wrapped
    }, s.prototype.valueOf = s.prototype.toJSON = s.prototype.value, s.prototype.toString = function() {
        return "" + this._wrapped
    }, "function" == typeof define && define.amd && define("underscore", [], function() {
        return s
    })
}).call(this);
! function(a) {
    var b = "object" == typeof self && self.self === self && self || "object" == typeof global && global.global === global && global;
    if ("function" == typeof define && define.amd) define(["underscore", "jquery", "exports"], function(c, d, e) {
        b.Backbone = a(b, e, c, d)
    });
    else if ("undefined" != typeof exports) {
        var c, d = require("underscore");
        try {
            c = require("jquery")
        } catch (e) {}
        a(b, exports, d, c)
    } else b.Backbone = a(b, {}, b._, b.jQuery || b.Zepto || b.ender || b.$)
}(function(a, b, c, d) {
    var e = a.Backbone,
        f = Array.prototype.slice;
    b.VERSION = "1.3.3", b.$ = d, b.noConflict = function() {
        return a.Backbone = e, this
    }, b.emulateHTTP = !1, b.emulateJSON = !1;
    var g = function(a, b, d) {
            switch (a) {
                case 1:
                    return function() {
                        return c[b](this[d])
                    };
                case 2:
                    return function(a) {
                        return c[b](this[d], a)
                    };
                case 3:
                    return function(a, e) {
                        return c[b](this[d], i(a, this), e)
                    };
                case 4:
                    return function(a, e, f) {
                        return c[b](this[d], i(a, this), e, f)
                    };
                default:
                    return function() {
                        var a = f.call(arguments);
                        return a.unshift(this[d]), c[b].apply(c, a)
                    }
            }
        },
        h = function(a, b, d) {
            c.each(b, function(b, e) {
                c[e] && (a.prototype[e] = g(b, e, d))
            })
        },
        i = function(a, b) {
            return c.isFunction(a) ? a : c.isObject(a) && !b._isModel(a) ? j(a) : c.isString(a) ? function(b) {
                return b.get(a)
            } : a
        },
        j = function(a) {
            var b = c.matches(a);
            return function(a) {
                return b(a.attributes)
            }
        },
        k = b.Events = {},
        l = /\s+/,
        m = function(a, b, d, e, f) {
            var g, h = 0;
            if (d && "object" == typeof d) {
                void 0 !== e && "context" in f && void 0 === f.context && (f.context = e);
                for (g = c.keys(d); h < g.length; h++) b = m(a, b, g[h], d[g[h]], f)
            } else if (d && l.test(d))
                for (g = d.split(l); h < g.length; h++) b = a(b, g[h], e, f);
            else b = a(b, d, e, f);
            return b
        };
    k.on = function(a, b, c) {
        return n(this, a, b, c)
    };
    var n = function(a, b, c, d, e) {
        if (a._events = m(o, a._events || {}, b, c, {
                context: d,
                ctx: a,
                listening: e
            }), e) {
            var f = a._listeners || (a._listeners = {});
            f[e.id] = e
        }
        return a
    };
    k.listenTo = function(a, b, d) {
        if (!a) return this;
        var e = a._listenId || (a._listenId = c.uniqueId("l")),
            f = this._listeningTo || (this._listeningTo = {}),
            g = f[e];
        if (!g) {
            var h = this._listenId || (this._listenId = c.uniqueId("l"));
            g = f[e] = {
                obj: a,
                objId: e,
                id: h,
                listeningTo: f,
                count: 0
            }
        }
        return n(a, b, d, this, g), this
    };
    var o = function(a, b, c, d) {
        if (c) {
            var e = a[b] || (a[b] = []),
                f = d.context,
                g = d.ctx,
                h = d.listening;
            h && h.count++, e.push({
                callback: c,
                context: f,
                ctx: f || g,
                listening: h
            })
        }
        return a
    };
    k.off = function(a, b, c) {
        return this._events ? (this._events = m(p, this._events, a, b, {
            context: c,
            listeners: this._listeners
        }), this) : this
    }, k.stopListening = function(a, b, d) {
        var e = this._listeningTo;
        if (!e) return this;
        for (var f = a ? [a._listenId] : c.keys(e), g = 0; g < f.length; g++) {
            var h = e[f[g]];
            if (!h) break;
            h.obj.off(b, d, this)
        }
        return this
    };
    var p = function(a, b, d, e) {
        if (a) {
            var f, g = 0,
                h = e.context,
                i = e.listeners;
            if (b || d || h) {
                for (var j = b ? [b] : c.keys(a); g < j.length; g++) {
                    b = j[g];
                    var k = a[b];
                    if (!k) break;
                    for (var l = [], m = 0; m < k.length; m++) {
                        var n = k[m];
                        d && d !== n.callback && d !== n.callback._callback || h && h !== n.context ? l.push(n) : (f = n.listening, f && 0 === --f.count && (delete i[f.id], delete f.listeningTo[f.objId]))
                    }
                    l.length ? a[b] = l : delete a[b]
                }
                return a
            }
            for (var o = c.keys(i); g < o.length; g++) f = i[o[g]], delete i[f.id], delete f.listeningTo[f.objId]
        }
    };
    k.once = function(a, b, d) {
        var e = m(q, {}, a, b, c.bind(this.off, this));
        return "string" == typeof a && null == d && (b = void 0), this.on(e, b, d)
    }, k.listenToOnce = function(a, b, d) {
        var e = m(q, {}, b, d, c.bind(this.stopListening, this, a));
        return this.listenTo(a, e)
    };
    var q = function(a, b, d, e) {
        if (d) {
            var f = a[b] = c.once(function() {
                e(b, f), d.apply(this, arguments)
            });
            f._callback = d
        }
        return a
    };
    k.trigger = function(a) {
        if (!this._events) return this;
        for (var b = Math.max(0, arguments.length - 1), c = Array(b), d = 0; d < b; d++) c[d] = arguments[d + 1];
        return m(r, this._events, a, void 0, c), this
    };
    var r = function(a, b, c, d) {
            if (a) {
                var e = a[b],
                    f = a.all;
                e && f && (f = f.slice()), e && s(e, d), f && s(f, [b].concat(d))
            }
            return a
        },
        s = function(a, b) {
            var c, d = -1,
                e = a.length,
                f = b[0],
                g = b[1],
                h = b[2];
            switch (b.length) {
                case 0:
                    for (; ++d < e;)(c = a[d]).callback.call(c.ctx);
                    return;
                case 1:
                    for (; ++d < e;)(c = a[d]).callback.call(c.ctx, f);
                    return;
                case 2:
                    for (; ++d < e;)(c = a[d]).callback.call(c.ctx, f, g);
                    return;
                case 3:
                    for (; ++d < e;)(c = a[d]).callback.call(c.ctx, f, g, h);
                    return;
                default:
                    for (; ++d < e;)(c = a[d]).callback.apply(c.ctx, b);
                    return
            }
        };
    k.bind = k.on, k.unbind = k.off, c.extend(b, k);
    var t = b.Model = function(a, b) {
        var d = a || {};
        b || (b = {}), this.cid = c.uniqueId(this.cidPrefix), this.attributes = {}, b.collection && (this.collection = b.collection), b.parse && (d = this.parse(d, b) || {});
        var e = c.result(this, "defaults");
        d = c.defaults(c.extend({}, e, d), e), this.set(d, b), this.changed = {}, this.initialize.apply(this, arguments)
    };
    c.extend(t.prototype, k, {
        changed: null,
        validationError: null,
        idAttribute: "id",
        cidPrefix: "c",
        initialize: function() {},
        toJSON: function(a) {
            return c.clone(this.attributes)
        },
        sync: function() {
            return b.sync.apply(this, arguments)
        },
        get: function(a) {
            return this.attributes[a]
        },
        escape: function(a) {
            return c.escape(this.get(a))
        },
        has: function(a) {
            return null != this.get(a)
        },
        matches: function(a) {
            return !!c.iteratee(a, this)(this.attributes)
        },
        set: function(a, b, d) {
            if (null == a) return this;
            var e;
            if ("object" == typeof a ? (e = a, d = b) : (e = {})[a] = b, d || (d = {}), !this._validate(e, d)) return !1;
            var f = d.unset,
                g = d.silent,
                h = [],
                i = this._changing;
            this._changing = !0, i || (this._previousAttributes = c.clone(this.attributes), this.changed = {});
            var j = this.attributes,
                k = this.changed,
                l = this._previousAttributes;
            for (var m in e) b = e[m], c.isEqual(j[m], b) || h.push(m), c.isEqual(l[m], b) ? delete k[m] : k[m] = b, f ? delete j[m] : j[m] = b;
            if (this.idAttribute in e && (this.id = this.get(this.idAttribute)), !g) {
                h.length && (this._pending = d);
                for (var n = 0; n < h.length; n++) this.trigger("change:" + h[n], this, j[h[n]], d)
            }
            if (i) return this;
            if (!g)
                for (; this._pending;) d = this._pending, this._pending = !1, this.trigger("change", this, d);
            return this._pending = !1, this._changing = !1, this
        },
        unset: function(a, b) {
            return this.set(a, void 0, c.extend({}, b, {
                unset: !0
            }))
        },
        clear: function(a) {
            var b = {};
            for (var d in this.attributes) b[d] = void 0;
            return this.set(b, c.extend({}, a, {
                unset: !0
            }))
        },
        hasChanged: function(a) {
            return null == a ? !c.isEmpty(this.changed) : c.has(this.changed, a)
        },
        changedAttributes: function(a) {
            if (!a) return !!this.hasChanged() && c.clone(this.changed);
            var b = this._changing ? this._previousAttributes : this.attributes,
                d = {};
            for (var e in a) {
                var f = a[e];
                c.isEqual(b[e], f) || (d[e] = f)
            }
            return !!c.size(d) && d
        },
        previous: function(a) {
            return null != a && this._previousAttributes ? this._previousAttributes[a] : null
        },
        previousAttributes: function() {
            return c.clone(this._previousAttributes)
        },
        fetch: function(a) {
            a = c.extend({
                parse: !0
            }, a);
            var b = this,
                d = a.success;
            return a.success = function(c) {
                var e = a.parse ? b.parse(c, a) : c;
                return !!b.set(e, a) && (d && d.call(a.context, b, c, a), void b.trigger("sync", b, c, a))
            }, P(this, a), this.sync("read", this, a)
        },
        save: function(a, b, d) {
            var e;
            null == a || "object" == typeof a ? (e = a, d = b) : (e = {})[a] = b, d = c.extend({
                validate: !0,
                parse: !0
            }, d);
            var f = d.wait;
            if (e && !f) {
                if (!this.set(e, d)) return !1
            } else if (!this._validate(e, d)) return !1;
            var g = this,
                h = d.success,
                i = this.attributes;
            d.success = function(a) {
                g.attributes = i;
                var b = d.parse ? g.parse(a, d) : a;
                return f && (b = c.extend({}, e, b)), !(b && !g.set(b, d)) && (h && h.call(d.context, g, a, d), void g.trigger("sync", g, a, d))
            }, P(this, d), e && f && (this.attributes = c.extend({}, i, e));
            var j = this.isNew() ? "create" : d.patch ? "patch" : "update";
            "patch" !== j || d.attrs || (d.attrs = e);
            var k = this.sync(j, this, d);
            return this.attributes = i, k
        },
        destroy: function(a) {
            a = a ? c.clone(a) : {};
            var b = this,
                d = a.success,
                e = a.wait,
                f = function() {
                    b.stopListening(), b.trigger("destroy", b, b.collection, a)
                };
            a.success = function(c) {
                e && f(), d && d.call(a.context, b, c, a), b.isNew() || b.trigger("sync", b, c, a)
            };
            var g = !1;
            return this.isNew() ? c.defer(a.success) : (P(this, a), g = this.sync("delete", this, a)), e || f(), g
        },
        url: function() {
            var a = c.result(this, "urlRoot") || c.result(this.collection, "url") || O();
            if (this.isNew()) return a;
            var b = this.get(this.idAttribute);
            return a.replace(/[^\/]$/, "$&/") + encodeURIComponent(b)
        },
        parse: function(a, b) {
            return a
        },
        clone: function() {
            return new this.constructor(this.attributes)
        },
        isNew: function() {
            return !this.has(this.idAttribute)
        },
        isValid: function(a) {
            return this._validate({}, c.extend({}, a, {
                validate: !0
            }))
        },
        _validate: function(a, b) {
            if (!b.validate || !this.validate) return !0;
            a = c.extend({}, this.attributes, a);
            var d = this.validationError = this.validate(a, b) || null;
            return !d || (this.trigger("invalid", this, d, c.extend(b, {
                validationError: d
            })), !1)
        }
    });
    var u = {
        keys: 1,
        values: 1,
        pairs: 1,
        invert: 1,
        pick: 0,
        omit: 0,
        chain: 1,
        isEmpty: 1
    };
    h(t, u, "attributes");
    var v = b.Collection = function(a, b) {
            b || (b = {}), b.model && (this.model = b.model), void 0 !== b.comparator && (this.comparator = b.comparator), this._reset(), this.initialize.apply(this, arguments), a && this.reset(a, c.extend({
                silent: !0
            }, b))
        },
        w = {
            add: !0,
            remove: !0,
            merge: !0
        },
        x = {
            add: !0,
            remove: !1
        },
        y = function(a, b, c) {
            c = Math.min(Math.max(c, 0), a.length);
            var d, e = Array(a.length - c),
                f = b.length;
            for (d = 0; d < e.length; d++) e[d] = a[d + c];
            for (d = 0; d < f; d++) a[d + c] = b[d];
            for (d = 0; d < e.length; d++) a[d + f + c] = e[d]
        };
    c.extend(v.prototype, k, {
        model: t,
        initialize: function() {},
        toJSON: function(a) {
            return this.map(function(b) {
                return b.toJSON(a)
            })
        },
        sync: function() {
            return b.sync.apply(this, arguments)
        },
        add: function(a, b) {
            return this.set(a, c.extend({
                merge: !1
            }, b, x))
        },
        remove: function(a, b) {
            b = c.extend({}, b);
            var d = !c.isArray(a);
            a = d ? [a] : a.slice();
            var e = this._removeModels(a, b);
            return !b.silent && e.length && (b.changes = {
                added: [],
                merged: [],
                removed: e
            }, this.trigger("update", this, b)), d ? e[0] : e
        },
        set: function(a, b) {
            if (null != a) {
                b = c.extend({}, w, b), b.parse && !this._isModel(a) && (a = this.parse(a, b) || []);
                var d = !c.isArray(a);
                a = d ? [a] : a.slice();
                var e = b.at;
                null != e && (e = +e), e > this.length && (e = this.length), e < 0 && (e += this.length + 1);
                var f, g, h = [],
                    i = [],
                    j = [],
                    k = [],
                    l = {},
                    m = b.add,
                    n = b.merge,
                    o = b.remove,
                    p = !1,
                    q = this.comparator && null == e && b.sort !== !1,
                    r = c.isString(this.comparator) ? this.comparator : null;
                for (g = 0; g < a.length; g++) {
                    f = a[g];
                    var s = this.get(f);
                    if (s) {
                        if (n && f !== s) {
                            var t = this._isModel(f) ? f.attributes : f;
                            b.parse && (t = s.parse(t, b)), s.set(t, b), j.push(s), q && !p && (p = s.hasChanged(r))
                        }
                        l[s.cid] || (l[s.cid] = !0, h.push(s)), a[g] = s
                    } else m && (f = a[g] = this._prepareModel(f, b), f && (i.push(f), this._addReference(f, b), l[f.cid] = !0, h.push(f)))
                }
                if (o) {
                    for (g = 0; g < this.length; g++) f = this.models[g], l[f.cid] || k.push(f);
                    k.length && this._removeModels(k, b)
                }
                var u = !1,
                    v = !q && m && o;
                if (h.length && v ? (u = this.length !== h.length || c.some(this.models, function(a, b) {
                        return a !== h[b]
                    }), this.models.length = 0, y(this.models, h, 0), this.length = this.models.length) : i.length && (q && (p = !0), y(this.models, i, null == e ? this.length : e), this.length = this.models.length), p && this.sort({
                        silent: !0
                    }), !b.silent) {
                    for (g = 0; g < i.length; g++) null != e && (b.index = e + g), f = i[g], f.trigger("add", f, this, b);
                    (p || u) && this.trigger("sort", this, b), (i.length || k.length || j.length) && (b.changes = {
                        added: i,
                        removed: k,
                        merged: j
                    }, this.trigger("update", this, b))
                }
                return d ? a[0] : a
            }
        },
        reset: function(a, b) {
            b = b ? c.clone(b) : {};
            for (var d = 0; d < this.models.length; d++) this._removeReference(this.models[d], b);
            return b.previousModels = this.models, this._reset(), a = this.add(a, c.extend({
                silent: !0
            }, b)), b.silent || this.trigger("reset", this, b), a
        },
        push: function(a, b) {
            return this.add(a, c.extend({
                at: this.length
            }, b))
        },
        pop: function(a) {
            var b = this.at(this.length - 1);
            return this.remove(b, a)
        },
        unshift: function(a, b) {
            return this.add(a, c.extend({
                at: 0
            }, b))
        },
        shift: function(a) {
            var b = this.at(0);
            return this.remove(b, a)
        },
        slice: function() {
            return f.apply(this.models, arguments)
        },
        get: function(a) {
            if (null != a) return this._byId[a] || this._byId[this.modelId(a.attributes || a)] || a.cid && this._byId[a.cid]
        },
        has: function(a) {
            return null != this.get(a)
        },
        at: function(a) {
            return a < 0 && (a += this.length), this.models[a]
        },
        where: function(a, b) {
            return this[b ? "find" : "filter"](a)
        },
        findWhere: function(a) {
            return this.where(a, !0)
        },
        sort: function(a) {
            var b = this.comparator;
            if (!b) throw new Error("Cannot sort a set without a comparator");
            a || (a = {});
            var d = b.length;
            return c.isFunction(b) && (b = c.bind(b, this)), 1 === d || c.isString(b) ? this.models = this.sortBy(b) : this.models.sort(b), a.silent || this.trigger("sort", this, a), this
        },
        pluck: function(a) {
            return this.map(a + "")
        },
        fetch: function(a) {
            a = c.extend({
                parse: !0
            }, a);
            var b = a.success,
                d = this;
            return a.success = function(c) {
                var e = a.reset ? "reset" : "set";
                d[e](c, a), b && b.call(a.context, d, c, a), d.trigger("sync", d, c, a)
            }, P(this, a), this.sync("read", this, a)
        },
        create: function(a, b) {
            b = b ? c.clone(b) : {};
            var d = b.wait;
            if (a = this._prepareModel(a, b), !a) return !1;
            d || this.add(a, b);
            var e = this,
                f = b.success;
            return b.success = function(a, b, c) {
                d && e.add(a, c), f && f.call(c.context, a, b, c)
            }, a.save(null, b), a
        },
        parse: function(a, b) {
            return a
        },
        clone: function() {
            return new this.constructor(this.models, {
                model: this.model,
                comparator: this.comparator
            })
        },
        modelId: function(a) {
            return a[this.model.prototype.idAttribute || "id"]
        },
        _reset: function() {
            this.length = 0, this.models = [], this._byId = {}
        },
        _prepareModel: function(a, b) {
            if (this._isModel(a)) return a.collection || (a.collection = this), a;
            b = b ? c.clone(b) : {}, b.collection = this;
            var d = new this.model(a, b);
            return d.validationError ? (this.trigger("invalid", this, d.validationError, b), !1) : d
        },
        _removeModels: function(a, b) {
            for (var c = [], d = 0; d < a.length; d++) {
                var e = this.get(a[d]);
                if (e) {
                    var f = this.indexOf(e);
                    this.models.splice(f, 1), this.length--, delete this._byId[e.cid];
                    var g = this.modelId(e.attributes);
                    null != g && delete this._byId[g], b.silent || (b.index = f, e.trigger("remove", e, this, b)), c.push(e), this._removeReference(e, b)
                }
            }
            return c
        },
        _isModel: function(a) {
            return a instanceof t
        },
        _addReference: function(a, b) {
            this._byId[a.cid] = a;
            var c = this.modelId(a.attributes);
            null != c && (this._byId[c] = a), a.on("all", this._onModelEvent, this)
        },
        _removeReference: function(a, b) {
            delete this._byId[a.cid];
            var c = this.modelId(a.attributes);
            null != c && delete this._byId[c], this === a.collection && delete a.collection, a.off("all", this._onModelEvent, this)
        },
        _onModelEvent: function(a, b, c, d) {
            if (b) {
                if (("add" === a || "remove" === a) && c !== this) return;
                if ("destroy" === a && this.remove(b, d), "change" === a) {
                    var e = this.modelId(b.previousAttributes()),
                        f = this.modelId(b.attributes);
                    e !== f && (null != e && delete this._byId[e], null != f && (this._byId[f] = b))
                }
            }
            this.trigger.apply(this, arguments)
        }
    });
    var z = {
        forEach: 3,
        each: 3,
        map: 3,
        collect: 3,
        reduce: 0,
        foldl: 0,
        inject: 0,
        reduceRight: 0,
        foldr: 0,
        find: 3,
        detect: 3,
        filter: 3,
        select: 3,
        reject: 3,
        every: 3,
        all: 3,
        some: 3,
        any: 3,
        include: 3,
        includes: 3,
        contains: 3,
        invoke: 0,
        max: 3,
        min: 3,
        toArray: 1,
        size: 1,
        first: 3,
        head: 3,
        take: 3,
        initial: 3,
        rest: 3,
        tail: 3,
        drop: 3,
        last: 3,
        without: 0,
        difference: 0,
        indexOf: 3,
        shuffle: 1,
        lastIndexOf: 3,
        isEmpty: 1,
        chain: 1,
        sample: 3,
        partition: 3,
        groupBy: 3,
        countBy: 3,
        sortBy: 3,
        indexBy: 3,
        findIndex: 3,
        findLastIndex: 3
    };
    h(v, z, "models");
    var A = b.View = function(a) {
            this.cid = c.uniqueId("view"), c.extend(this, c.pick(a, C)), this._ensureElement(), this.initialize.apply(this, arguments)
        },
        B = /^(\S+)\s*(.*)$/,
        C = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
    c.extend(A.prototype, k, {
        tagName: "div",
        $: function(a) {
            return this.$el.find(a)
        },
        initialize: function() {},
        render: function() {
            return this
        },
        remove: function() {
            return this._removeElement(), this.stopListening(), this
        },
        _removeElement: function() {
            this.$el.remove()
        },
        setElement: function(a) {
            return this.undelegateEvents(), this._setElement(a), this.delegateEvents(), this
        },
        _setElement: function(a) {
            this.$el = a instanceof b.$ ? a : b.$(a), this.el = this.$el[0]
        },
        delegateEvents: function(a) {
            if (a || (a = c.result(this, "events")), !a) return this;
            this.undelegateEvents();
            for (var b in a) {
                var d = a[b];
                if (c.isFunction(d) || (d = this[d]), d) {
                    var e = b.match(B);
                    this.delegate(e[1], e[2], c.bind(d, this))
                }
            }
            return this
        },
        delegate: function(a, b, c) {
            return this.$el.on(a + ".delegateEvents" + this.cid, b, c), this
        },
        undelegateEvents: function() {
            return this.$el && this.$el.off(".delegateEvents" + this.cid), this
        },
        undelegate: function(a, b, c) {
            return this.$el.off(a + ".delegateEvents" + this.cid, b, c), this
        },
        _createElement: function(a) {
            return document.createElement(a)
        },
        _ensureElement: function() {
            if (this.el) this.setElement(c.result(this, "el"));
            else {
                var a = c.extend({}, c.result(this, "attributes"));
                this.id && (a.id = c.result(this, "id")), this.className && (a["class"] = c.result(this, "className")), this.setElement(this._createElement(c.result(this, "tagName"))), this._setAttributes(a)
            }
        },
        _setAttributes: function(a) {
            this.$el.attr(a)
        }
    }), b.sync = function(a, d, e) {
        var f = D[a];
        c.defaults(e || (e = {}), {
            emulateHTTP: b.emulateHTTP,
            emulateJSON: b.emulateJSON
        });
        var g = {
            type: f,
            dataType: "json"
        };
        if (e.url || (g.url = c.result(d, "url") || O()), null != e.data || !d || "create" !== a && "update" !== a && "patch" !== a || (g.contentType = "application/json", g.data = JSON.stringify(e.attrs || d.toJSON(e))), e.emulateJSON && (g.contentType = "application/x-www-form-urlencoded", g.data = g.data ? {
                model: g.data
            } : {}), e.emulateHTTP && ("PUT" === f || "DELETE" === f || "PATCH" === f)) {
            g.type = "POST", e.emulateJSON && (g.data._method = f);
            var h = e.beforeSend;
            e.beforeSend = function(a) {
                if (a.setRequestHeader("X-HTTP-Method-Override", f), h) return h.apply(this, arguments)
            }
        }
        "GET" === g.type || e.emulateJSON || (g.processData = !1);
        var i = e.error;
        e.error = function(a, b, c) {
            e.textStatus = b, e.errorThrown = c, i && i.call(e.context, a, b, c)
        };
        var j = e.xhr = b.ajax(c.extend(g, e));
        return d.trigger("request", d, j, e), j
    };
    var D = {
        create: "POST",
        update: "PUT",
        patch: "PATCH",
        "delete": "DELETE",
        read: "GET"
    };
    b.ajax = function() {
        return b.$.ajax.apply(b.$, arguments)
    };
    var E = b.Router = function(a) {
            a || (a = {}), a.routes && (this.routes = a.routes), this._bindRoutes(), this.initialize.apply(this, arguments)
        },
        F = /\((.*?)\)/g,
        G = /(\(\?)?:\w+/g,
        H = /\*\w+/g,
        I = /[\-{}\[\]+?.,\\\^$|#\s]/g;
    c.extend(E.prototype, k, {
        initialize: function() {},
        route: function(a, d, e) {
            c.isRegExp(a) || (a = this._routeToRegExp(a)), c.isFunction(d) && (e = d, d = ""), e || (e = this[d]);
            var f = this;
            return b.history.route(a, function(c) {
                var g = f._extractParameters(a, c);
                f.execute(e, g, d) !== !1 && (f.trigger.apply(f, ["route:" + d].concat(g)), f.trigger("route", d, g), b.history.trigger("route", f, d, g))
            }), this
        },
        execute: function(a, b, c) {
            a && a.apply(this, b)
        },
        navigate: function(a, c) {
            return b.history.navigate(a, c), this
        },
        _bindRoutes: function() {
            if (this.routes) {
                this.routes = c.result(this, "routes");
                for (var a, b = c.keys(this.routes); null != (a = b.pop());) this.route(a, this.routes[a])
            }
        },
        _routeToRegExp: function(a) {
            return a = a.replace(I, "\\$&").replace(F, "(?:$1)?").replace(G, function(a, b) {
                return b ? a : "([^/?]+)"
            }).replace(H, "([^?]*?)"), new RegExp("^" + a + "(?:\\?([\\s\\S]*))?$")
        },
        _extractParameters: function(a, b) {
            var d = a.exec(b).slice(1);
            return c.map(d, function(a, b) {
                return b === d.length - 1 ? a || null : a ? decodeURIComponent(a) : null
            })
        }
    });
    var J = b.History = function() {
            this.handlers = [], this.checkUrl = c.bind(this.checkUrl, this), "undefined" != typeof window && (this.location = window.location, this.history = window.history)
        },
        K = /^[#\/]|\s+$/g,
        L = /^\/+|\/+$/g,
        M = /#.*$/;
    J.started = !1, c.extend(J.prototype, k, {
        interval: 50,
        atRoot: function() {
            var a = this.location.pathname.replace(/[^\/]$/, "$&/");
            return a === this.root && !this.getSearch()
        },
        matchRoot: function() {
            var a = this.decodeFragment(this.location.pathname),
                b = a.slice(0, this.root.length - 1) + "/";
            return b === this.root
        },
        decodeFragment: function(a) {
            return decodeURI(a.replace(/%25/g, "%2525"))
        },
        getSearch: function() {
            var a = this.location.href.replace(/#.*/, "").match(/\?.+/);
            return a ? a[0] : ""
        },
        getHash: function(a) {
            var b = (a || this).location.href.match(/#(.*)$/);
            return b ? b[1] : ""
        },
        getPath: function() {
            var a = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
            return "/" === a.charAt(0) ? a.slice(1) : a
        },
        getFragment: function(a) {
            return null == a && (a = this._usePushState || !this._wantsHashChange ? this.getPath() : this.getHash()), a.replace(K, "")
        },
        start: function(a) {
            if (J.started) throw new Error("Backbone.history has already been started");
            if (J.started = !0, this.options = c.extend({
                    root: "/"
                }, this.options, a), this.root = this.options.root, this._wantsHashChange = this.options.hashChange !== !1, this._hasHashChange = "onhashchange" in window && (void 0 === document.documentMode || document.documentMode > 7), this._useHashChange = this._wantsHashChange && this._hasHashChange, this._wantsPushState = !!this.options.pushState, this._hasPushState = !(!this.history || !this.history.pushState), this._usePushState = this._wantsPushState && this._hasPushState, this.fragment = this.getFragment(), this.root = ("/" + this.root + "/").replace(L, "/"), this._wantsHashChange && this._wantsPushState) {
                if (!this._hasPushState && !this.atRoot()) {
                    var b = this.root.slice(0, -1) || "/";
                    return this.location.replace(b + "#" + this.getPath()), !0
                }
                this._hasPushState && this.atRoot() && this.navigate(this.getHash(), {
                    replace: !0
                })
            }
            if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {
                this.iframe = document.createElement("iframe"), this.iframe.src = "javascript:0", this.iframe.style.display = "none", this.iframe.tabIndex = -1;
                var d = document.body,
                    e = d.insertBefore(this.iframe, d.firstChild).contentWindow;
                e.document.open(), e.document.close(), e.location.hash = "#" + this.fragment
            }
            var f = window.addEventListener || function(a, b) {
                return attachEvent("on" + a, b)
            };
            if (this._usePushState ? f("popstate", this.checkUrl, !1) : this._useHashChange && !this.iframe ? f("hashchange", this.checkUrl, !1) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), !this.options.silent) return this.loadUrl()
        },
        stop: function() {
            var a = window.removeEventListener || function(a, b) {
                return detachEvent("on" + a, b)
            };
            this._usePushState ? a("popstate", this.checkUrl, !1) : this._useHashChange && !this.iframe && a("hashchange", this.checkUrl, !1), this.iframe && (document.body.removeChild(this.iframe), this.iframe = null), this._checkUrlInterval && clearInterval(this._checkUrlInterval), J.started = !1
        },
        route: function(a, b) {
            this.handlers.unshift({
                route: a,
                callback: b
            })
        },
        checkUrl: function(a) {
            var b = this.getFragment();
            return b === this.fragment && this.iframe && (b = this.getHash(this.iframe.contentWindow)), b !== this.fragment && (this.iframe && this.navigate(b), void this.loadUrl())
        },
        loadUrl: function(a) {
            return !!this.matchRoot() && (a = this.fragment = this.getFragment(a), c.some(this.handlers, function(b) {
                if (b.route.test(a)) return b.callback(a), !0
            }))
        },
        navigate: function(a, b) {
            if (!J.started) return !1;
            b && b !== !0 || (b = {
                trigger: !!b
            }), a = this.getFragment(a || "");
            var c = this.root;
            "" !== a && "?" !== a.charAt(0) || (c = c.slice(0, -1) || "/");
            var d = c + a;
            if (a = this.decodeFragment(a.replace(M, "")), this.fragment !== a) {
                if (this.fragment = a, this._usePushState) this.history[b.replace ? "replaceState" : "pushState"]({}, document.title, d);
                else {
                    if (!this._wantsHashChange) return this.location.assign(d);
                    if (this._updateHash(this.location, a, b.replace), this.iframe && a !== this.getHash(this.iframe.contentWindow)) {
                        var e = this.iframe.contentWindow;
                        b.replace || (e.document.open(), e.document.close()), this._updateHash(e.location, a, b.replace)
                    }
                }
                return b.trigger ? this.loadUrl(a) : void 0
            }
        },
        _updateHash: function(a, b, c) {
            if (c) {
                var d = a.href.replace(/(javascript:|#).*$/, "");
                a.replace(d + "#" + b)
            } else a.hash = "#" + b
        }
    }), b.history = new J;
    var N = function(a, b) {
        var d, e = this;
        return d = a && c.has(a, "constructor") ? a.constructor : function() {
            return e.apply(this, arguments)
        }, c.extend(d, e, b), d.prototype = c.create(e.prototype, a), d.prototype.constructor = d, d.__super__ = e.prototype, d
    };
    t.extend = v.extend = E.extend = A.extend = J.extend = N;
    var O = function() {
            throw new Error('A "url" property or function must be specified')
        },
        P = function(a, b) {
            var c = b.error;
            b.error = function(d) {
                c && c.call(b.context, a, d, b), a.trigger("error", a, d, b)
            }
        };
    return b
});
/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */
(function(t, e) {
    if ("function" == typeof define && define.amd) define(["backbone", "underscore"], function(i, n) {
        return t.Marionette = t.Mn = e(t, i, n)
    });
    else if ("undefined" != typeof exports) {
        var i = require("backbone"),
            n = require("underscore");
        module.exports = e(t, i, n)
    } else t.Marionette = t.Mn = e(t, t.Backbone, t._)
})(this, function(t, e, i) {
    "use strict";
    (function(t, e) {
        var i = t.ChildViewContainer;
        return t.ChildViewContainer = function(t, e) {
            var i = function(t) {
                this._views = {}, this._indexByModel = {}, this._indexByCustom = {}, this._updateLength(), e.each(t, this.add, this)
            };
            e.extend(i.prototype, {
                add: function(t, e) {
                    var i = t.cid;
                    return this._views[i] = t, t.model && (this._indexByModel[t.model.cid] = i), e && (this._indexByCustom[e] = i), this._updateLength(), this
                },
                findByModel: function(t) {
                    return this.findByModelCid(t.cid)
                },
                findByModelCid: function(t) {
                    var e = this._indexByModel[t];
                    return this.findByCid(e)
                },
                findByCustom: function(t) {
                    var e = this._indexByCustom[t];
                    return this.findByCid(e)
                },
                findByIndex: function(t) {
                    return e.values(this._views)[t]
                },
                findByCid: function(t) {
                    return this._views[t]
                },
                remove: function(t) {
                    var i = t.cid;
                    return t.model && delete this._indexByModel[t.model.cid], e.any(this._indexByCustom, function(t, e) {
                        return t === i ? (delete this._indexByCustom[e], !0) : void 0
                    }, this), delete this._views[i], this._updateLength(), this
                },
                call: function(t) {
                    this.apply(t, e.tail(arguments))
                },
                apply: function(t, i) {
                    e.each(this._views, function(n) {
                        e.isFunction(n[t]) && n[t].apply(n, i || [])
                    })
                },
                _updateLength: function() {
                    this.length = e.size(this._views)
                }
            });
            var n = ["forEach", "each", "map", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "toArray", "first", "initial", "rest", "last", "without", "isEmpty", "pluck", "reduce"];
            return e.each(n, function(t) {
                i.prototype[t] = function() {
                    var i = e.values(this._views),
                        n = [i].concat(e.toArray(arguments));
                    return e[t].apply(e, n)
                }
            }), i
        }(t, e), t.ChildViewContainer.VERSION = "0.1.7", t.ChildViewContainer.noConflict = function() {
            return t.ChildViewContainer = i, this
        }, t.ChildViewContainer
    })(e, i),
    function(t, e) {
        var i = t.Wreqr,
            n = t.Wreqr = {};
        return t.Wreqr.VERSION = "1.3.3", t.Wreqr.noConflict = function() {
            return t.Wreqr = i, this
        }, n.Handlers = function(t, e) {
            var i = function(t) {
                this.options = t, this._wreqrHandlers = {}, e.isFunction(this.initialize) && this.initialize(t)
            };
            return i.extend = t.Model.extend, e.extend(i.prototype, t.Events, {
                setHandlers: function(t) {
                    e.each(t, function(t, i) {
                        var n = null;
                        e.isObject(t) && !e.isFunction(t) && (n = t.context, t = t.callback), this.setHandler(i, t, n)
                    }, this)
                },
                setHandler: function(t, e, i) {
                    var n = {
                        callback: e,
                        context: i
                    };
                    this._wreqrHandlers[t] = n, this.trigger("handler:add", t, e, i)
                },
                hasHandler: function(t) {
                    return !!this._wreqrHandlers[t]
                },
                getHandler: function(t) {
                    var e = this._wreqrHandlers[t];
                    if (e) return function() {
                        return e.callback.apply(e.context, arguments)
                    }
                },
                removeHandler: function(t) {
                    delete this._wreqrHandlers[t]
                },
                removeAllHandlers: function() {
                    this._wreqrHandlers = {}
                }
            }), i
        }(t, e), n.CommandStorage = function() {
            var i = function(t) {
                this.options = t, this._commands = {}, e.isFunction(this.initialize) && this.initialize(t)
            };
            return e.extend(i.prototype, t.Events, {
                getCommands: function(t) {
                    var e = this._commands[t];
                    return e || (e = {
                        command: t,
                        instances: []
                    }, this._commands[t] = e), e
                },
                addCommand: function(t, e) {
                    var i = this.getCommands(t);
                    i.instances.push(e)
                },
                clearCommands: function(t) {
                    var e = this.getCommands(t);
                    e.instances = []
                }
            }), i
        }(), n.Commands = function(t, e) {
            return t.Handlers.extend({
                storageType: t.CommandStorage,
                constructor: function(e) {
                    this.options = e || {}, this._initializeStorage(this.options), this.on("handler:add", this._executeCommands, this), t.Handlers.prototype.constructor.apply(this, arguments)
                },
                execute: function(t) {
                    t = arguments[0];
                    var i = e.rest(arguments);
                    this.hasHandler(t) ? this.getHandler(t).apply(this, i) : this.storage.addCommand(t, i)
                },
                _executeCommands: function(t, i, n) {
                    var r = this.storage.getCommands(t);
                    e.each(r.instances, function(t) {
                        i.apply(n, t)
                    }), this.storage.clearCommands(t)
                },
                _initializeStorage: function(t) {
                    var i, n = t.storageType || this.storageType;
                    i = e.isFunction(n) ? new n : n, this.storage = i
                }
            })
        }(n, e), n.RequestResponse = function(t, e) {
            return t.Handlers.extend({
                request: function(t) {
                    return this.hasHandler(t) ? this.getHandler(t).apply(this, e.rest(arguments)) : void 0
                }
            })
        }(n, e), n.EventAggregator = function(t, e) {
            var i = function() {};
            return i.extend = t.Model.extend, e.extend(i.prototype, t.Events), i
        }(t, e), n.Channel = function() {
            var i = function(e) {
                this.vent = new t.Wreqr.EventAggregator, this.reqres = new t.Wreqr.RequestResponse, this.commands = new t.Wreqr.Commands, this.channelName = e
            };
            return e.extend(i.prototype, {
                reset: function() {
                    return this.vent.off(), this.vent.stopListening(), this.reqres.removeAllHandlers(), this.commands.removeAllHandlers(), this
                },
                connectEvents: function(t, e) {
                    return this._connect("vent", t, e), this
                },
                connectCommands: function(t, e) {
                    return this._connect("commands", t, e), this
                },
                connectRequests: function(t, e) {
                    return this._connect("reqres", t, e), this
                },
                _connect: function(t, i, n) {
                    if (i) {
                        n = n || this;
                        var r = "vent" === t ? "on" : "setHandler";
                        e.each(i, function(i, s) {
                            this[t][r](s, e.bind(i, n))
                        }, this)
                    }
                }
            }), i
        }(n), n.radio = function(t, e) {
            var i = function() {
                this._channels = {}, this.vent = {}, this.commands = {}, this.reqres = {}, this._proxyMethods()
            };
            e.extend(i.prototype, {
                channel: function(t) {
                    if (!t) throw Error("Channel must receive a name");
                    return this._getChannel(t)
                },
                _getChannel: function(e) {
                    var i = this._channels[e];
                    return i || (i = new t.Channel(e), this._channels[e] = i), i
                },
                _proxyMethods: function() {
                    e.each(["vent", "commands", "reqres"], function(t) {
                        e.each(n[t], function(e) {
                            this[t][e] = r(this, t, e)
                        }, this)
                    }, this)
                }
            });
            var n = {
                    vent: ["on", "off", "trigger", "once", "stopListening", "listenTo", "listenToOnce"],
                    commands: ["execute", "setHandler", "setHandlers", "removeHandler", "removeAllHandlers"],
                    reqres: ["request", "setHandler", "setHandlers", "removeHandler", "removeAllHandlers"]
                },
                r = function(t, i, n) {
                    return function(r) {
                        var s = t._getChannel(r)[i];
                        return s[n].apply(s, e.rest(arguments))
                    }
                };
            return new i
        }(n, e), t.Wreqr
    }(e, i);
    var n = t.Marionette,
        r = t.Mn,
        s = e.Marionette = {};
    s.VERSION = "2.4.2", s.noConflict = function() {
        return t.Marionette = n, t.Mn = r, this
    }, e.Marionette = s, s.Deferred = e.$.Deferred, s.extend = e.Model.extend, s.isNodeAttached = function(t) {
        return e.$.contains(document.documentElement, t)
    }, s.mergeOptions = function(t, e) {
        t && i.extend(this, i.pick(t, e))
    }, s.getOption = function(t, e) {
        return t && e ? t.options && void 0 !== t.options[e] ? t.options[e] : t[e] : void 0
    }, s.proxyGetOption = function(t) {
        return s.getOption(this, t)
    }, s._getValue = function(t, e, n) {
        return i.isFunction(t) && (t = n ? t.apply(e, n) : t.call(e)), t
    }, s.normalizeMethods = function(t) {
        return i.reduce(t, function(t, e, n) {
            return i.isFunction(e) || (e = this[e]), e && (t[n] = e), t
        }, {}, this)
    }, s.normalizeUIString = function(t, e) {
        return t.replace(/@ui\.[a-zA-Z_$0-9]*/g, function(t) {
            return e[t.slice(4)]
        })
    }, s.normalizeUIKeys = function(t, e) {
        return i.reduce(t, function(t, i, n) {
            var r = s.normalizeUIString(n, e);
            return t[r] = i, t
        }, {})
    }, s.normalizeUIValues = function(t, e, n) {
        return i.each(t, function(r, o) {
            i.isString(r) ? t[o] = s.normalizeUIString(r, e) : i.isObject(r) && i.isArray(n) && (i.extend(r, s.normalizeUIValues(i.pick(r, n), e)), i.each(n, function(t) {
                var n = r[t];
                i.isString(n) && (r[t] = s.normalizeUIString(n, e))
            }))
        }), t
    }, s.actAsCollection = function(t, e) {
        var n = ["forEach", "each", "map", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "toArray", "first", "initial", "rest", "last", "without", "isEmpty", "pluck"];
        i.each(n, function(n) {
            t[n] = function() {
                var t = i.values(i.result(this, e)),
                    r = [t].concat(i.toArray(arguments));
                return i[n].apply(i, r)
            }
        })
    };
    var o = s.deprecate = function(t, e) {
        i.isObject(t) && (t = t.prev + " is going to be removed in the future. " + "Please use " + t.next + " instead." + (t.url ? " See: " + t.url : "")), void 0 !== e && e || o._cache[t] || (o._warn("Deprecation warning: " + t), o._cache[t] = !0)
    };
    o._warn = "undefined" != typeof console && (console.warn || console.log) || function() {}, o._cache = {}, s._triggerMethod = function() {
            function t(t, e, i) {
                return i.toUpperCase()
            }
            var e = /(^|:)(\w)/gi;
            return function(n, r, s) {
                var o = 3 > arguments.length;
                o && (s = r, r = s[0]);
                var h, a = "on" + r.replace(e, t),
                    d = n[a];
                return i.isFunction(d) && (h = d.apply(n, o ? i.rest(s) : s)), i.isFunction(n.trigger) && (o + s.length > 1 ? n.trigger.apply(n, o ? s : [r].concat(i.drop(s, 0))) : n.trigger(r)), h
            }
        }(), s.triggerMethod = function() {
            return s._triggerMethod(this, arguments)
        }, s.triggerMethodOn = function(t) {
            var e = i.isFunction(t.triggerMethod) ? t.triggerMethod : s.triggerMethod;
            return e.apply(t, i.rest(arguments))
        }, s.MonitorDOMRefresh = function(t) {
            function e() {
                t._isShown = !0, r()
            }

            function n() {
                t._isRendered = !0, r()
            }

            function r() {
                t._isShown && t._isRendered && s.isNodeAttached(t.el) && i.isFunction(t.triggerMethod) && t.triggerMethod("dom:refresh")
            }
            t.on({
                show: e,
                render: n
            })
        },
        function(t) {
            function e(e, n, r, s) {
                var o = s.split(/\s+/);
                i.each(o, function(i) {
                    var s = e[i];
                    if (!s) throw new t.Error('Method "' + i + '" was configured as an event handler, but does not exist.');
                    e.listenTo(n, r, s)
                })
            }

            function n(t, e, i, n) {
                t.listenTo(e, i, n)
            }

            function r(t, e, n, r) {
                var s = r.split(/\s+/);
                i.each(s, function(i) {
                    var r = t[i];
                    t.stopListening(e, n, r)
                })
            }

            function s(t, e, i, n) {
                t.stopListening(e, i, n)
            }

            function o(e, n, r, s, o) {
                if (n && r) {
                    if (!i.isObject(r)) throw new t.Error({
                        message: "Bindings must be an object or function.",
                        url: "marionette.functions.html#marionettebindentityevents"
                    });
                    r = t._getValue(r, e), i.each(r, function(t, r) {
                        i.isFunction(t) ? s(e, n, r, t) : o(e, n, r, t)
                    })
                }
            }
            t.bindEntityEvents = function(t, i, r) {
                o(t, i, r, n, e)
            }, t.unbindEntityEvents = function(t, e, i) {
                o(t, e, i, s, r)
            }, t.proxyBindEntityEvents = function(e, i) {
                return t.bindEntityEvents(this, e, i)
            }, t.proxyUnbindEntityEvents = function(e, i) {
                return t.unbindEntityEvents(this, e, i)
            }
        }(s);
    var h = ["description", "fileName", "lineNumber", "name", "message", "number"];
    return s.Error = s.extend.call(Error, {
        urlRoot: "http://marionettejs.com/docs/v" + s.VERSION + "/",
        constructor: function(t, e) {
            i.isObject(t) ? (e = t, t = e.message) : e || (e = {});
            var n = Error.call(this, t);
            i.extend(this, i.pick(n, h), i.pick(e, h)), this.captureStackTrace(), e.url && (this.url = this.urlRoot + e.url)
        },
        captureStackTrace: function() {
            Error.captureStackTrace && Error.captureStackTrace(this, s.Error)
        },
        toString: function() {
            return this.name + ": " + this.message + (this.url ? " See: " + this.url : "")
        }
    }), s.Error.extend = s.extend, s.Callbacks = function() {
        this._deferred = s.Deferred(), this._callbacks = []
    }, i.extend(s.Callbacks.prototype, {
        add: function(t, e) {
            var n = i.result(this._deferred, "promise");
            this._callbacks.push({
                cb: t,
                ctx: e
            }), n.then(function(i) {
                e && (i.context = e), t.call(i.context, i.options)
            })
        },
        run: function(t, e) {
            this._deferred.resolve({
                options: t,
                context: e
            })
        },
        reset: function() {
            var t = this._callbacks;
            this._deferred = s.Deferred(), this._callbacks = [], i.each(t, function(t) {
                this.add(t.cb, t.ctx)
            }, this)
        }
    }), s.Controller = function(t) {
        this.options = t || {}, i.isFunction(this.initialize) && this.initialize(this.options)
    }, s.Controller.extend = s.extend, i.extend(s.Controller.prototype, e.Events, {
        destroy: function() {
            return s._triggerMethod(this, "before:destroy", arguments), s._triggerMethod(this, "destroy", arguments), this.stopListening(), this.off(), this
        },
        triggerMethod: s.triggerMethod,
        mergeOptions: s.mergeOptions,
        getOption: s.proxyGetOption
    }), s.Object = function(t) {
        this.options = i.extend({}, i.result(this, "options"), t), this.initialize.apply(this, arguments)
    }, s.Object.extend = s.extend, i.extend(s.Object.prototype, e.Events, {
        initialize: function() {},
        destroy: function() {
            return this.triggerMethod("before:destroy"), this.triggerMethod("destroy"), this.stopListening(), this
        },
        triggerMethod: s.triggerMethod,
        mergeOptions: s.mergeOptions,
        getOption: s.proxyGetOption,
        bindEntityEvents: s.proxyBindEntityEvents,
        unbindEntityEvents: s.proxyUnbindEntityEvents
    }), s.Region = s.Object.extend({
        constructor: function(t) {
            if (this.options = t || {}, this.el = this.getOption("el"), this.el = this.el instanceof e.$ ? this.el[0] : this.el, !this.el) throw new s.Error({
                name: "NoElError",
                message: 'An "el" must be specified for a region.'
            });
            this.$el = this.getEl(this.el), s.Object.call(this, t)
        },
        show: function(t, e) {
            if (this._ensureElement()) {
                this._ensureViewIsIntact(t);
                var n = e || {},
                    r = t !== this.currentView,
                    o = !!n.preventDestroy,
                    h = !!n.forceShow,
                    a = !!this.currentView,
                    d = r && !o,
                    l = r || h;
                if (a && this.triggerMethod("before:swapOut", this.currentView, this, e), this.currentView && delete this.currentView._parent, d ? this.empty() : a && l && this.currentView.off("destroy", this.empty, this), l) {
                    t.once("destroy", this.empty, this), t.render(), t._parent = this, a && this.triggerMethod("before:swap", t, this, e), this.triggerMethod("before:show", t, this, e), s.triggerMethodOn(t, "before:show", t, this, e), a && this.triggerMethod("swapOut", this.currentView, this, e);
                    var c = s.isNodeAttached(this.el),
                        u = [],
                        g = i.extend({
                            triggerBeforeAttach: this.triggerBeforeAttach,
                            triggerAttach: this.triggerAttach
                        }, n);
                    return c && g.triggerBeforeAttach && (u = this._displayedViews(t), this._triggerAttach(u, "before:")), this.attachHtml(t), this.currentView = t, c && g.triggerAttach && (u = this._displayedViews(t), this._triggerAttach(u)), a && this.triggerMethod("swap", t, this, e), this.triggerMethod("show", t, this, e), s.triggerMethodOn(t, "show", t, this, e), this
                }
                return this
            }
        },
        triggerBeforeAttach: !0,
        triggerAttach: !0,
        _triggerAttach: function(t, e) {
            var n = (e || "") + "attach";
            i.each(t, function(t) {
                s.triggerMethodOn(t, n, t, this)
            }, this)
        },
        _displayedViews: function(t) {
            return i.union([t], i.result(t, "_getNestedViews") || [])
        },
        _ensureElement: function() {
            if (i.isObject(this.el) || (this.$el = this.getEl(this.el), this.el = this.$el[0]), !this.$el || 0 === this.$el.length) {
                if (this.getOption("allowMissingEl")) return !1;
                throw new s.Error('An "el" ' + this.$el.selector + " must exist in DOM")
            }
            return !0
        },
        _ensureViewIsIntact: function(t) {
            if (!t) throw new s.Error({
                name: "ViewNotValid",
                message: "The view passed is undefined and therefore invalid. You must pass a view instance to show."
            });
            if (t.isDestroyed) throw new s.Error({
                name: "ViewDestroyedError",
                message: 'View (cid: "' + t.cid + '") has already been destroyed and cannot be used.'
            })
        },
        getEl: function(t) {
            return e.$(t, s._getValue(this.options.parentEl, this))
        },
        attachHtml: function(t) {
            this.$el.contents().detach(), this.el.appendChild(t.el)
        },
        empty: function(t) {
            var e = this.currentView,
                i = s._getValue(t, "preventDestroy", this);
            return e ? (e.off("destroy", this.empty, this), this.triggerMethod("before:empty", e), i || this._destroyView(), this.triggerMethod("empty", e), delete this.currentView, i && this.$el.contents().detach(), this) : void 0
        },
        _destroyView: function() {
            var t = this.currentView;
            t.destroy && !t.isDestroyed ? t.destroy() : t.remove && (t.remove(), t.isDestroyed = !0)
        },
        attachView: function(t) {
            return this.currentView = t, this
        },
        hasView: function() {
            return !!this.currentView
        },
        reset: function() {
            return this.empty(), this.$el && (this.el = this.$el.selector), delete this.$el, this
        }
    }, {
        buildRegion: function(t, e) {
            if (i.isString(t)) return this._buildRegionFromSelector(t, e);
            if (t.selector || t.el || t.regionClass) return this._buildRegionFromObject(t, e);
            if (i.isFunction(t)) return this._buildRegionFromRegionClass(t);
            throw new s.Error({
                message: "Improper region configuration type.",
                url: "marionette.region.html#region-configuration-types"
            })
        },
        _buildRegionFromSelector: function(t, e) {
            return new e({
                el: t
            })
        },
        _buildRegionFromObject: function(t, e) {
            var n = t.regionClass || e,
                r = i.omit(t, "selector", "regionClass");
            return t.selector && !r.el && (r.el = t.selector), new n(r)
        },
        _buildRegionFromRegionClass: function(t) {
            return new t
        }
    }), s.RegionManager = s.Controller.extend({
        constructor: function(t) {
            this._regions = {}, this.length = 0, s.Controller.call(this, t), this.addRegions(this.getOption("regions"))
        },
        addRegions: function(t, e) {
            return t = s._getValue(t, this, arguments), i.reduce(t, function(t, n, r) {
                return i.isString(n) && (n = {
                    selector: n
                }), n.selector && (n = i.defaults({}, n, e)), t[r] = this.addRegion(r, n), t
            }, {}, this)
        },
        addRegion: function(t, e) {
            var i;
            return i = e instanceof s.Region ? e : s.Region.buildRegion(e, s.Region), this.triggerMethod("before:add:region", t, i), i._parent = this, this._store(t, i), this.triggerMethod("add:region", t, i), i
        },
        get: function(t) {
            return this._regions[t]
        },
        getRegions: function() {
            return i.clone(this._regions)
        },
        removeRegion: function(t) {
            var e = this._regions[t];
            return this._remove(t, e), e
        },
        removeRegions: function() {
            var t = this.getRegions();
            return i.each(this._regions, function(t, e) {
                this._remove(e, t)
            }, this), t
        },
        emptyRegions: function() {
            var t = this.getRegions();
            return i.invoke(t, "empty"), t
        },
        destroy: function() {
            return this.removeRegions(), s.Controller.prototype.destroy.apply(this, arguments)
        },
        _store: function(t, e) {
            this._regions[t] || this.length++, this._regions[t] = e
        },
        _remove: function(t, e) {
            this.triggerMethod("before:remove:region", t, e), e.empty(), e.stopListening(), delete e._parent, delete this._regions[t], this.length--, this.triggerMethod("remove:region", t, e)
        }
    }), s.actAsCollection(s.RegionManager.prototype, "_regions"), s.TemplateCache = function(t) {
        this.templateId = t
    }, i.extend(s.TemplateCache, {
        templateCaches: {},
        get: function(t, e) {
            var i = this.templateCaches[t];
            return i || (i = new s.TemplateCache(t), this.templateCaches[t] = i), i.load(e)
        },
        clear: function() {
            var t, e = i.toArray(arguments),
                n = e.length;
            if (n > 0)
                for (t = 0; n > t; t++) delete this.templateCaches[e[t]];
            else this.templateCaches = {}
        }
    }), i.extend(s.TemplateCache.prototype, {
        load: function(t) {
            if (this.compiledTemplate) return this.compiledTemplate;
            var e = this.loadTemplate(this.templateId, t);
            return this.compiledTemplate = this.compileTemplate(e, t), this.compiledTemplate
        },
        loadTemplate: function(t) {
            var i = e.$(t).html();
            if (!i || 0 === i.length) throw new s.Error({
                name: "NoTemplateError",
                message: 'Could not find template: "' + t + '"'
            });
            return i
        },
        compileTemplate: function(t, e) {
            return i.template(t, e)
        }
    }), s.Renderer = {
        render: function(t, e) {
            if (!t) throw new s.Error({
                name: "TemplateNotFoundError",
                message: "Cannot render the template since its false, null or undefined."
            });
            var n = i.isFunction(t) ? t : s.TemplateCache.get(t);
            return n(e)
        }
    }, s.View = e.View.extend({
        isDestroyed: !1,
        constructor: function(t) {
            i.bindAll(this, "render"), t = s._getValue(t, this), this.options = i.extend({}, i.result(this, "options"), t), this._behaviors = s.Behaviors(this), e.View.call(this, this.options), s.MonitorDOMRefresh(this)
        },
        getTemplate: function() {
            return this.getOption("template")
        },
        serializeModel: function(t) {
            return t.toJSON.apply(t, i.rest(arguments))
        },
        mixinTemplateHelpers: function(t) {
            t = t || {};
            var e = this.getOption("templateHelpers");
            return e = s._getValue(e, this), i.extend(t, e)
        },
        normalizeUIKeys: function(t) {
            var e = i.result(this, "_uiBindings");
            return s.normalizeUIKeys(t, e || i.result(this, "ui"))
        },
        normalizeUIValues: function(t, e) {
            var n = i.result(this, "ui"),
                r = i.result(this, "_uiBindings");
            return s.normalizeUIValues(t, r || n, e)
        },
        configureTriggers: function() {
            if (this.triggers) {
                var t = this.normalizeUIKeys(i.result(this, "triggers"));
                return i.reduce(t, function(t, e, i) {
                    return t[i] = this._buildViewTrigger(e), t
                }, {}, this)
            }
        },
        delegateEvents: function(t) {
            return this._delegateDOMEvents(t), this.bindEntityEvents(this.model, this.getOption("modelEvents")), this.bindEntityEvents(this.collection, this.getOption("collectionEvents")), i.each(this._behaviors, function(t) {
                t.bindEntityEvents(this.model, t.getOption("modelEvents")), t.bindEntityEvents(this.collection, t.getOption("collectionEvents"))
            }, this), this
        },
        _delegateDOMEvents: function(t) {
            var n = s._getValue(t || this.events, this);
            n = this.normalizeUIKeys(n), i.isUndefined(t) && (this.events = n);
            var r = {},
                o = i.result(this, "behaviorEvents") || {},
                h = this.configureTriggers(),
                a = i.result(this, "behaviorTriggers") || {};
            i.extend(r, o, n, h, a), e.View.prototype.delegateEvents.call(this, r)
        },
        undelegateEvents: function() {
            return e.View.prototype.undelegateEvents.apply(this, arguments), this.unbindEntityEvents(this.model, this.getOption("modelEvents")), this.unbindEntityEvents(this.collection, this.getOption("collectionEvents")), i.each(this._behaviors, function(t) {
                t.unbindEntityEvents(this.model, t.getOption("modelEvents")), t.unbindEntityEvents(this.collection, t.getOption("collectionEvents"))
            }, this), this
        },
        _ensureViewIsIntact: function() {
            if (this.isDestroyed) throw new s.Error({
                name: "ViewDestroyedError",
                message: 'View (cid: "' + this.cid + '") has already been destroyed and cannot be used.'
            })
        },
        destroy: function() {
            if (this.isDestroyed) return this;
            var t = i.toArray(arguments);
            return this.triggerMethod.apply(this, ["before:destroy"].concat(t)), this.isDestroyed = !0, this.triggerMethod.apply(this, ["destroy"].concat(t)), this.unbindUIElements(), this.isRendered = !1, this.remove(), i.invoke(this._behaviors, "destroy", t), this
        },
        bindUIElements: function() {
            this._bindUIElements(), i.invoke(this._behaviors, this._bindUIElements)
        },
        _bindUIElements: function() {
            if (this.ui) {
                this._uiBindings || (this._uiBindings = this.ui);
                var t = i.result(this, "_uiBindings");
                this.ui = {}, i.each(t, function(t, e) {
                    this.ui[e] = this.$(t)
                }, this)
            }
        },
        unbindUIElements: function() {
            this._unbindUIElements(), i.invoke(this._behaviors, this._unbindUIElements)
        },
        _unbindUIElements: function() {
            this.ui && this._uiBindings && (i.each(this.ui, function(t, e) {
                delete this.ui[e]
            }, this), this.ui = this._uiBindings, delete this._uiBindings)
        },
        _buildViewTrigger: function(t) {
            var e = i.isObject(t),
                n = i.defaults({}, e ? t : {}, {
                    preventDefault: !0,
                    stopPropagation: !0
                }),
                r = e ? n.event : t;
            return function(t) {
                t && (t.preventDefault && n.preventDefault && t.preventDefault(), t.stopPropagation && n.stopPropagation && t.stopPropagation());
                var e = {
                    view: this,
                    model: this.model,
                    collection: this.collection
                };
                this.triggerMethod(r, e)
            }
        },
        setElement: function() {
            var t = e.View.prototype.setElement.apply(this, arguments);
            return i.invoke(this._behaviors, "proxyViewProperties", this), t
        },
        triggerMethod: function() {
            var t = s._triggerMethod(this, arguments);
            return this._triggerEventOnBehaviors(arguments), this._triggerEventOnParentLayout(arguments[0], i.rest(arguments)), t
        },
        _triggerEventOnBehaviors: function(t) {
            for (var e = s._triggerMethod, i = this._behaviors, n = 0, r = i && i.length; r > n; n++) e(i[n], t)
        },
        _triggerEventOnParentLayout: function(t, e) {
            var n = this._parentLayoutView();
            if (n) {
                var r = s.getOption(n, "childViewEventPrefix"),
                    o = r + ":" + t;
                s._triggerMethod(n, [o, this].concat(e));
                var h = s.getOption(n, "childEvents"),
                    a = n.normalizeMethods(h);
                a && i.isFunction(a[t]) && a[t].apply(n, [this].concat(e))
            }
        },
        _getImmediateChildren: function() {
            return []
        },
        _getNestedViews: function() {
            var t = this._getImmediateChildren();
            return t.length ? i.reduce(t, function(t, e) {
                return e._getNestedViews ? t.concat(e._getNestedViews()) : t
            }, t) : t
        },
        _getAncestors: function() {
            for (var t = [], e = this._parent; e;) t.push(e), e = e._parent;
            return t
        },
        _parentLayoutView: function() {
            var t = this._getAncestors();
            return i.find(t, function(t) {
                return t instanceof s.LayoutView
            })
        },
        normalizeMethods: s.normalizeMethods,
        mergeOptions: s.mergeOptions,
        getOption: s.proxyGetOption,
        bindEntityEvents: s.proxyBindEntityEvents,
        unbindEntityEvents: s.proxyUnbindEntityEvents
    }), s.ItemView = s.View.extend({
        constructor: function() {
            s.View.apply(this, arguments)
        },
        serializeData: function() {
            if (!this.model && !this.collection) return {};
            var t = [this.model || this.collection];
            return arguments.length && t.push.apply(t, arguments), this.model ? this.serializeModel.apply(this, t) : {
                items: this.serializeCollection.apply(this, t)
            }
        },
        serializeCollection: function(t) {
            return t.toJSON.apply(t, i.rest(arguments))
        },
        render: function() {
            return this._ensureViewIsIntact(), this.triggerMethod("before:render", this), this._renderTemplate(), this.isRendered = !0, this.bindUIElements(), this.triggerMethod("render", this), this
        },
        _renderTemplate: function() {
            var t = this.getTemplate();
            if (t !== !1) {
                if (!t) throw new s.Error({
                    name: "UndefinedTemplateError",
                    message: "Cannot render the template since it is null or undefined."
                });
                var e = this.mixinTemplateHelpers(this.serializeData()),
                    i = s.Renderer.render(t, e, this);
                return this.attachElContent(i), this
            }
        },
        attachElContent: function(t) {
            return this.$el.html(t), this
        }
    }), s.CollectionView = s.View.extend({
        childViewEventPrefix: "childview",
        sort: !0,
        constructor: function() {
            this.once("render", this._initialEvents), this._initChildViewStorage(), s.View.apply(this, arguments), this.on({
                "before:show": this._onBeforeShowCalled,
                show: this._onShowCalled,
                "before:attach": this._onBeforeAttachCalled,
                attach: this._onAttachCalled
            }), this.initRenderBuffer()
        },
        initRenderBuffer: function() {
            this._bufferedChildren = []
        },
        startBuffering: function() {
            this.initRenderBuffer(), this.isBuffering = !0
        },
        endBuffering: function() {
            var t, e = this._isShown && s.isNodeAttached(this.el);
            this.isBuffering = !1, this._isShown && this._triggerMethodMany(this._bufferedChildren, this, "before:show"), e && this._triggerBeforeAttach && (t = this._getNestedViews(), this._triggerMethodMany(t, this, "before:attach")), this.attachBuffer(this, this._createBuffer()), e && this._triggerAttach && (t = this._getNestedViews(), this._triggerMethodMany(t, this, "attach")), this._isShown && this._triggerMethodMany(this._bufferedChildren, this, "show"), this.initRenderBuffer()
        },
        _triggerMethodMany: function(t, e, n) {
            var r = i.drop(arguments, 3);
            i.each(t, function(t) {
                s.triggerMethodOn.apply(t, [t, n, t, e].concat(r))
            })
        },
        _initialEvents: function() {
            this.collection && (this.listenTo(this.collection, "add", this._onCollectionAdd), this.listenTo(this.collection, "remove", this._onCollectionRemove), this.listenTo(this.collection, "reset", this.render), this.getOption("sort") && this.listenTo(this.collection, "sort", this._sortViews))
        },
        _onCollectionAdd: function(t, e, n) {
            var r;
            if (r = void 0 !== n.at ? n.at : i.indexOf(this._filteredSortedModels(), t), this._shouldAddChild(t, r)) {
                this.destroyEmptyView();
                var s = this.getChildView(t);
                this.addChild(t, s, r)
            }
        },
        _onCollectionRemove: function(t) {
            var e = this.children.findByModel(t);
            this.removeChildView(e), this.checkEmpty()
        },
        _onBeforeShowCalled: function() {
            this._triggerBeforeAttach = this._triggerAttach = !1, this.children.each(function(t) {
                s.triggerMethodOn(t, "before:show", t)
            })
        },
        _onShowCalled: function() {
            this.children.each(function(t) {
                s.triggerMethodOn(t, "show", t)
            })
        },
        _onBeforeAttachCalled: function() {
            this._triggerBeforeAttach = !0
        },
        _onAttachCalled: function() {
            this._triggerAttach = !0
        },
        render: function() {
            return this._ensureViewIsIntact(), this.triggerMethod("before:render", this), this._renderChildren(), this.isRendered = !0, this.triggerMethod("render", this), this
        },
        reorder: function() {
            var t = this.children,
                e = this._filteredSortedModels(),
                n = i.find(e, function(e) {
                    return !t.findByModel(e)
                });
            if (n) this.render();
            else {
                var r = i.map(e, function(e, i) {
                    var n = t.findByModel(e);
                    return n._index = i, n.el
                });
                this.triggerMethod("before:reorder"), this._appendReorderedChildren(r), this.triggerMethod("reorder")
            }
        },
        resortView: function() {
            s.getOption(this, "reorderOnSort") ? this.reorder() : this.render()
        },
        _sortViews: function() {
            var t = this._filteredSortedModels(),
                e = i.find(t, function(t, e) {
                    var i = this.children.findByModel(t);
                    return !i || i._index !== e
                }, this);
            e && this.resortView()
        },
        _emptyViewIndex: -1,
        _appendReorderedChildren: function(t) {
            this.$el.append(t)
        },
        _renderChildren: function() {
            this.destroyEmptyView(), this.destroyChildren({
                checkEmpty: !1
            }), this.isEmpty(this.collection) ? this.showEmptyView() : (this.triggerMethod("before:render:collection", this), this.startBuffering(), this.showCollection(), this.endBuffering(), this.triggerMethod("render:collection", this), this.children.isEmpty() && this.showEmptyView())
        },
        showCollection: function() {
            var t, e = this._filteredSortedModels();
            i.each(e, function(e, i) {
                t = this.getChildView(e), this.addChild(e, t, i)
            }, this)
        },
        _filteredSortedModels: function() {
            var t, e = this.getViewComparator();
            return t = e ? i.isString(e) || 1 === e.length ? this.collection.sortBy(e, this) : i.clone(this.collection.models).sort(i.bind(e, this)) : this.collection.models, this.getOption("filter") && (t = i.filter(t, function(t, e) {
                return this._shouldAddChild(t, e)
            }, this)), t
        },
        showEmptyView: function() {
            var t = this.getEmptyView();
            if (t && !this._showingEmptyView) {
                this.triggerMethod("before:render:empty"), this._showingEmptyView = !0;
                var i = new e.Model;
                this.addEmptyView(i, t), this.triggerMethod("render:empty")
            }
        },
        destroyEmptyView: function() {
            this._showingEmptyView && (this.triggerMethod("before:remove:empty"), this.destroyChildren(), delete this._showingEmptyView, this.triggerMethod("remove:empty"))
        },
        getEmptyView: function() {
            return this.getOption("emptyView")
        },
        addEmptyView: function(t, e) {
            var n, r = this._isShown && !this.isBuffering && s.isNodeAttached(this.el),
                o = this.getOption("emptyViewOptions") || this.getOption("childViewOptions");
            i.isFunction(o) && (o = o.call(this, t, this._emptyViewIndex));
            var h = this.buildChildView(t, e, o);
            h._parent = this, this.proxyChildEvents(h), this._isShown && s.triggerMethodOn(h, "before:show", h), this.children.add(h), r && this._triggerBeforeAttach && (n = [h].concat(h._getNestedViews()), h.once("render", function() {
                this._triggerMethodMany(n, this, "before:attach")
            }, this)), this.renderChildView(h, this._emptyViewIndex), r && this._triggerAttach && (n = [h].concat(h._getNestedViews()), this._triggerMethodMany(n, this, "attach")), this._isShown && s.triggerMethodOn(h, "show", h)
        },
        getChildView: function() {
            var t = this.getOption("childView");
            if (!t) throw new s.Error({
                name: "NoChildViewError",
                message: 'A "childView" must be specified'
            });
            return t
        },
        addChild: function(t, e, i) {
            var n = this.getOption("childViewOptions");
            n = s._getValue(n, this, [t, i]);
            var r = this.buildChildView(t, e, n);
            return this._updateIndices(r, !0, i), this.triggerMethod("before:add:child", r), this._addChildView(r, i), this.triggerMethod("add:child", r), r._parent = this, r
        },
        _updateIndices: function(t, e, i) {
            this.getOption("sort") && (e && (t._index = i), this.children.each(function(i) {
                i._index >= t._index && (i._index += e ? 1 : -1)
            }))
        },
        _addChildView: function(t, e) {
            var i, n = this._isShown && !this.isBuffering && s.isNodeAttached(this.el);
            this.proxyChildEvents(t), this._isShown && !this.isBuffering && s.triggerMethodOn(t, "before:show", t), this.children.add(t), n && this._triggerBeforeAttach && (i = [t].concat(t._getNestedViews()), t.once("render", function() {
                this._triggerMethodMany(i, this, "before:attach")
            }, this)), this.renderChildView(t, e), n && this._triggerAttach && (i = [t].concat(t._getNestedViews()), this._triggerMethodMany(i, this, "attach")), this._isShown && !this.isBuffering && s.triggerMethodOn(t, "show", t)
        },
        renderChildView: function(t, e) {
            return t.render(), this.attachHtml(this, t, e), t
        },
        buildChildView: function(t, e, n) {
            var r = i.extend({
                model: t
            }, n);
            return new e(r)
        },
        removeChildView: function(t) {
            return t && (this.triggerMethod("before:remove:child", t), t.destroy ? t.destroy() : t.remove && t.remove(), delete t._parent, this.stopListening(t), this.children.remove(t), this.triggerMethod("remove:child", t), this._updateIndices(t, !1)), t
        },
        isEmpty: function() {
            return !this.collection || 0 === this.collection.length
        },
        checkEmpty: function() {
            this.isEmpty(this.collection) && this.showEmptyView()
        },
        attachBuffer: function(t, e) {
            t.$el.append(e)
        },
        _createBuffer: function() {
            var t = document.createDocumentFragment();
            return i.each(this._bufferedChildren, function(e) {
                t.appendChild(e.el)
            }), t
        },
        attachHtml: function(t, e, i) {
            t.isBuffering ? t._bufferedChildren.splice(i, 0, e) : t._insertBefore(e, i) || t._insertAfter(e)
        },
        _insertBefore: function(t, e) {
            var i, n = this.getOption("sort") && this.children.length - 1 > e;
            return n && (i = this.children.find(function(t) {
                return t._index === e + 1
            })), i ? (i.$el.before(t.el), !0) : !1
        },
        _insertAfter: function(t) {
            this.$el.append(t.el)
        },
        _initChildViewStorage: function() {
            this.children = new e.ChildViewContainer
        },
        destroy: function() {
            return this.isDestroyed ? this : (this.triggerMethod("before:destroy:collection"), this.destroyChildren({
                checkEmpty: !1
            }), this.triggerMethod("destroy:collection"), s.View.prototype.destroy.apply(this, arguments))
        },
        destroyChildren: function(t) {
            var e = t || {},
                n = !0,
                r = this.children.map(i.identity);
            return i.isUndefined(e.checkEmpty) || (n = e.checkEmpty), this.children.each(this.removeChildView, this), n && this.checkEmpty(), r
        },
        _shouldAddChild: function(t, e) {
            var n = this.getOption("filter");
            return !i.isFunction(n) || n.call(this, t, e, this.collection)
        },
        proxyChildEvents: function(t) {
            var e = this.getOption("childViewEventPrefix");
            this.listenTo(t, "all", function() {
                var n = i.toArray(arguments),
                    r = n[0],
                    s = this.normalizeMethods(i.result(this, "childEvents"));
                n[0] = e + ":" + r, n.splice(1, 0, t), s !== void 0 && i.isFunction(s[r]) && s[r].apply(this, n.slice(1)), this.triggerMethod.apply(this, n)
            })
        },
        _getImmediateChildren: function() {
            return i.values(this.children._views)
        },
        getViewComparator: function() {
            return this.getOption("viewComparator")
        }
    }), s.CompositeView = s.CollectionView.extend({
        constructor: function() {
            s.CollectionView.apply(this, arguments)
        },
        _initialEvents: function() {
            this.collection && (this.listenTo(this.collection, "add", this._onCollectionAdd), this.listenTo(this.collection, "remove", this._onCollectionRemove), this.listenTo(this.collection, "reset", this._renderChildren), this.getOption("sort") && this.listenTo(this.collection, "sort", this._sortViews))
        },
        getChildView: function() {
            var t = this.getOption("childView") || this.constructor;
            return t
        },
        serializeData: function() {
            var t = {};
            return this.model && (t = i.partial(this.serializeModel, this.model).apply(this, arguments)), t
        },
        render: function() {
            return this._ensureViewIsIntact(), this._isRendering = !0, this.resetChildViewContainer(), this.triggerMethod("before:render", this), this._renderTemplate(), this._renderChildren(), this._isRendering = !1, this.isRendered = !0, this.triggerMethod("render", this), this
        },
        _renderChildren: function() {
            (this.isRendered || this._isRendering) && s.CollectionView.prototype._renderChildren.call(this)
        },
        _renderTemplate: function() {
            var t = {};
            t = this.serializeData(), t = this.mixinTemplateHelpers(t), this.triggerMethod("before:render:template");
            var e = this.getTemplate(),
                i = s.Renderer.render(e, t, this);
            this.attachElContent(i), this.bindUIElements(), this.triggerMethod("render:template")
        },
        attachElContent: function(t) {
            return this.$el.html(t), this
        },
        attachBuffer: function(t, e) {
            var i = this.getChildViewContainer(t);
            i.append(e)
        },
        _insertAfter: function(t) {
            var e = this.getChildViewContainer(this, t);
            e.append(t.el)
        },
        _appendReorderedChildren: function(t) {
            var e = this.getChildViewContainer(this);
            e.append(t)
        },
        getChildViewContainer: function(t) {
            if (t.$childViewContainer) return t.$childViewContainer;
            var e, i = s.getOption(t, "childViewContainer");
            if (i) {
                var n = s._getValue(i, t);
                if (e = "@" === n.charAt(0) && t.ui ? t.ui[n.substr(4)] : t.$(n), 0 >= e.length) throw new s.Error({
                    name: "ChildViewContainerMissingError",
                    message: 'The specified "childViewContainer" was not found: ' + t.childViewContainer
                })
            } else e = t.$el;
            return t.$childViewContainer = e, e
        },
        resetChildViewContainer: function() {
            this.$childViewContainer && (this.$childViewContainer = void 0)
        }
    }), s.LayoutView = s.ItemView.extend({
        regionClass: s.Region,
        options: {
            destroyImmediate: !1
        },
        childViewEventPrefix: "childview",
        constructor: function(t) {
            t = t || {}, this._firstRender = !0, this._initializeRegions(t), s.ItemView.call(this, t)
        },
        render: function() {
            return this._ensureViewIsIntact(), this._firstRender ? this._firstRender = !1 : this._reInitializeRegions(), s.ItemView.prototype.render.apply(this, arguments)
        },
        destroy: function() {
            return this.isDestroyed ? this : (this.getOption("destroyImmediate") === !0 && this.$el.remove(), this.regionManager.destroy(), s.ItemView.prototype.destroy.apply(this, arguments))
        },
        showChildView: function(t, e) {
            return this.getRegion(t).show(e)
        },
        getChildView: function(t) {
            return this.getRegion(t).currentView
        },
        addRegion: function(t, e) {
            var i = {};
            return i[t] = e, this._buildRegions(i)[t]
        },
        addRegions: function(t) {
            return this.regions = i.extend({}, this.regions, t), this._buildRegions(t)
        },
        removeRegion: function(t) {
            return delete this.regions[t], this.regionManager.removeRegion(t)
        },
        getRegion: function(t) {
            return this.regionManager.get(t)
        },
        getRegions: function() {
            return this.regionManager.getRegions()
        },
        _buildRegions: function(t) {
            var e = {
                regionClass: this.getOption("regionClass"),
                parentEl: i.partial(i.result, this, "el")
            };
            return this.regionManager.addRegions(t, e)
        },
        _initializeRegions: function(t) {
            var e;
            this._initRegionManager(), e = s._getValue(this.regions, this, [t]) || {};
            var n = this.getOption.call(t, "regions");
            n = s._getValue(n, this, [t]), i.extend(e, n), e = this.normalizeUIValues(e, ["selector", "el"]), this.addRegions(e)
        },
        _reInitializeRegions: function() {
            this.regionManager.invoke("reset")
        },
        getRegionManager: function() {
            return new s.RegionManager
        },
        _initRegionManager: function() {
            this.regionManager = this.getRegionManager(), this.regionManager._parent = this, this.listenTo(this.regionManager, "before:add:region", function(t) {
                this.triggerMethod("before:add:region", t)
            }), this.listenTo(this.regionManager, "add:region", function(t, e) {
                this[t] = e, this.triggerMethod("add:region", t, e)
            }), this.listenTo(this.regionManager, "before:remove:region", function(t) {
                this.triggerMethod("before:remove:region", t)
            }), this.listenTo(this.regionManager, "remove:region", function(t, e) {
                delete this[t], this.triggerMethod("remove:region", t, e)
            })
        },
        _getImmediateChildren: function() {
            return i.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()
        }
    }), s.Behavior = s.Object.extend({
        constructor: function(t, e) {
            this.view = e, this.defaults = i.result(this, "defaults") || {}, this.options = i.extend({}, this.defaults, t), this.ui = i.extend({}, i.result(e, "ui"), i.result(this, "ui")), s.Object.apply(this, arguments)
        },
        $: function() {
            return this.view.$.apply(this.view, arguments)
        },
        destroy: function() {
            return this.stopListening(), this
        },
        proxyViewProperties: function(t) {
            this.$el = t.$el, this.el = t.el
        }
    }), s.Behaviors = function(t, e) {
        function i(t, n) {
            return e.isObject(t.behaviors) ? (n = i.parseBehaviors(t, n || e.result(t, "behaviors")), i.wrap(t, n, e.keys(o)), n) : {}
        }

        function n(t, e) {
            this._view = t, this._behaviors = e, this._triggers = {}
        }

        function r(t) {
            return t._uiBindings || t.ui
        }
        var s = /^(\S+)\s*(.*)$/,
            o = {
                behaviorTriggers: function(t, e) {
                    var i = new n(this, e);
                    return i.buildBehaviorTriggers()
                },
                behaviorEvents: function(i, n) {
                    var o = {};
                    return e.each(n, function(i, n) {
                        var h = {},
                            a = e.clone(e.result(i, "events")) || {};
                        a = t.normalizeUIKeys(a, r(i));
                        var d = 0;
                        e.each(a, function(t, r) {
                            var o = r.match(s),
                                a = o[1] + "." + [this.cid, n, d++, " "].join(""),
                                l = o[2],
                                c = a + l,
                                u = e.isFunction(t) ? t : i[t];
                            h[c] = e.bind(u, i)
                        }, this), o = e.extend(o, h)
                    }, this), o
                }
            };
        return e.extend(i, {
            behaviorsLookup: function() {
                throw new t.Error({
                    message: "You must define where your behaviors are stored.",
                    url: "marionette.behaviors.html#behaviorslookup"
                })
            },
            getBehaviorClass: function(e, n) {
                return e.behaviorClass ? e.behaviorClass : t._getValue(i.behaviorsLookup, this, [e, n])[n]
            },
            parseBehaviors: function(t, n) {
                return e.chain(n).map(function(n, r) {
                    var s = i.getBehaviorClass(n, r),
                        o = new s(n, t),
                        h = i.parseBehaviors(t, e.result(o, "behaviors"));
                    return [o].concat(h)
                }).flatten().value()
            },
            wrap: function(t, i, n) {
                e.each(n, function(n) {
                    t[n] = e.partial(o[n], t[n], i)
                })
            }
        }), e.extend(n.prototype, {
            buildBehaviorTriggers: function() {
                return e.each(this._behaviors, this._buildTriggerHandlersForBehavior, this), this._triggers
            },
            _buildTriggerHandlersForBehavior: function(i, n) {
                var s = e.clone(e.result(i, "triggers")) || {};
                s = t.normalizeUIKeys(s, r(i)), e.each(s, e.bind(this._setHandlerForBehavior, this, i, n))
            },
            _setHandlerForBehavior: function(t, e, i, n) {
                var r = n.replace(/^\S+/, function(t) {
                    return t + "." + "behaviortriggers" + e
                });
                this._triggers[r] = this._view._buildViewTrigger(i)
            }
        }), i
    }(s, i), s.AppRouter = e.Router.extend({
        constructor: function(t) {
            this.options = t || {}, e.Router.apply(this, arguments);
            var i = this.getOption("appRoutes"),
                n = this._getController();
            this.processAppRoutes(n, i), this.on("route", this._processOnRoute, this)
        },
        appRoute: function(t, e) {
            var i = this._getController();
            this._addAppRoute(i, t, e)
        },
        _processOnRoute: function(t, e) {
            if (i.isFunction(this.onRoute)) {
                var n = i.invert(this.getOption("appRoutes"))[t];
                this.onRoute(t, n, e)
            }
        },
        processAppRoutes: function(t, e) {
            if (e) {
                var n = i.keys(e).reverse();
                i.each(n, function(i) {
                    this._addAppRoute(t, i, e[i])
                }, this)
            }
        },
        _getController: function() {
            return this.getOption("controller")
        },
        _addAppRoute: function(t, e, n) {
            var r = t[n];
            if (!r) throw new s.Error('Method "' + n + '" was not found on the controller');
            this.route(e, n, i.bind(r, t))
        },
        mergeOptions: s.mergeOptions,
        getOption: s.proxyGetOption,
        triggerMethod: s.triggerMethod,
        bindEntityEvents: s.proxyBindEntityEvents,
        unbindEntityEvents: s.proxyUnbindEntityEvents
    }), s.Application = s.Object.extend({
        constructor: function(t) {
            this._initializeRegions(t), this._initCallbacks = new s.Callbacks, this.submodules = {}, i.extend(this, t), this._initChannel(), s.Object.call(this, t)
        },
        execute: function() {
            this.commands.execute.apply(this.commands, arguments)
        },
        request: function() {
            return this.reqres.request.apply(this.reqres, arguments)
        },
        addInitializer: function(t) {
            this._initCallbacks.add(t)
        },
        start: function(t) {
            this.triggerMethod("before:start", t), this._initCallbacks.run(t, this), this.triggerMethod("start", t)
        },
        addRegions: function(t) {
            return this._regionManager.addRegions(t)
        },
        emptyRegions: function() {
            return this._regionManager.emptyRegions()
        },
        removeRegion: function(t) {
            return this._regionManager.removeRegion(t)
        },
        getRegion: function(t) {
            return this._regionManager.get(t)
        },
        getRegions: function() {
            return this._regionManager.getRegions()
        },
        module: function(t, e) {
            var n = s.Module.getClass(e),
                r = i.toArray(arguments);
            return r.unshift(this), n.create.apply(n, r)
        },
        getRegionManager: function() {
            return new s.RegionManager
        },
        _initializeRegions: function(t) {
            var e = i.isFunction(this.regions) ? this.regions(t) : this.regions || {};
            this._initRegionManager();
            var n = s.getOption(t, "regions");
            return i.isFunction(n) && (n = n.call(this, t)), i.extend(e, n), this.addRegions(e), this
        },
        _initRegionManager: function() {
            this._regionManager = this.getRegionManager(), this._regionManager._parent = this, this.listenTo(this._regionManager, "before:add:region", function() {
                s._triggerMethod(this, "before:add:region", arguments)
            }), this.listenTo(this._regionManager, "add:region", function(t, e) {
                this[t] = e, s._triggerMethod(this, "add:region", arguments)
            }), this.listenTo(this._regionManager, "before:remove:region", function() {
                s._triggerMethod(this, "before:remove:region", arguments)
            }), this.listenTo(this._regionManager, "remove:region", function(t) {
                delete this[t], s._triggerMethod(this, "remove:region", arguments)
            })
        },
        _initChannel: function() {
            this.channelName = i.result(this, "channelName") || "global", this.channel = i.result(this, "channel") || e.Wreqr.radio.channel(this.channelName), this.vent = i.result(this, "vent") || this.channel.vent, this.commands = i.result(this, "commands") || this.channel.commands, this.reqres = i.result(this, "reqres") || this.channel.reqres
        }
    }), s.Module = function(t, e, n) {
        this.moduleName = t, this.options = i.extend({}, this.options, n), this.initialize = n.initialize || this.initialize, this.submodules = {}, this._setupInitializersAndFinalizers(), this.app = e, i.isFunction(this.initialize) && this.initialize(t, e, this.options)
    }, s.Module.extend = s.extend, i.extend(s.Module.prototype, e.Events, {
        startWithParent: !0,
        initialize: function() {},
        addInitializer: function(t) {
            this._initializerCallbacks.add(t)
        },
        addFinalizer: function(t) {
            this._finalizerCallbacks.add(t)
        },
        start: function(t) {
            this._isInitialized || (i.each(this.submodules, function(e) {
                e.startWithParent && e.start(t)
            }), this.triggerMethod("before:start", t), this._initializerCallbacks.run(t, this), this._isInitialized = !0, this.triggerMethod("start", t))
        },
        stop: function() {
            this._isInitialized && (this._isInitialized = !1, this.triggerMethod("before:stop"), i.invoke(this.submodules, "stop"), this._finalizerCallbacks.run(void 0, this), this._initializerCallbacks.reset(), this._finalizerCallbacks.reset(), this.triggerMethod("stop"))
        },
        addDefinition: function(t, e) {
            this._runModuleDefinition(t, e)
        },
        _runModuleDefinition: function(t, n) {
            if (t) {
                var r = i.flatten([this, this.app, e, s, e.$, i, n]);
                t.apply(this, r)
            }
        },
        _setupInitializersAndFinalizers: function() {
            this._initializerCallbacks = new s.Callbacks, this._finalizerCallbacks = new s.Callbacks
        },
        triggerMethod: s.triggerMethod
    }), i.extend(s.Module, {
        create: function(t, e, n) {
            var r = t,
                s = i.drop(arguments, 3);
            e = e.split(".");
            var o = e.length,
                h = [];
            return h[o - 1] = n, i.each(e, function(e, i) {
                var o = r;
                r = this._getModule(o, e, t, n), this._addModuleDefinition(o, r, h[i], s)
            }, this), r
        },
        _getModule: function(t, e, n, r) {
            var s = i.extend({}, r),
                o = this.getClass(r),
                h = t[e];
            return h || (h = new o(e, n, s), t[e] = h, t.submodules[e] = h), h
        },
        getClass: function(t) {
            var e = s.Module;
            return t ? t.prototype instanceof e ? t : t.moduleClass || e : e
        },
        _addModuleDefinition: function(t, e, i, n) {
            var r = this._getDefine(i),
                s = this._getStartWithParent(i, e);
            r && e.addDefinition(r, n), this._addStartWithParent(t, e, s)
        },
        _getStartWithParent: function(t, e) {
            var n;
            return i.isFunction(t) && t.prototype instanceof s.Module ? (n = e.constructor.prototype.startWithParent, i.isUndefined(n) ? !0 : n) : i.isObject(t) ? (n = t.startWithParent, i.isUndefined(n) ? !0 : n) : !0
        },
        _getDefine: function(t) {
            return !i.isFunction(t) || t.prototype instanceof s.Module ? i.isObject(t) ? t.define : null : t
        },
        _addStartWithParent: function(t, e, i) {
            e.startWithParent = e.startWithParent && i, e.startWithParent && !e.startWithParentIsConfigured && (e.startWithParentIsConfigured = !0, t.addInitializer(function(t) {
                e.startWithParent && e.start(t)
            }))
        }
    }), s
});
! function(e, n) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = n(require("underscore"), require("backbone")) : "function" == typeof define && define.amd ? define(["underscore", "backbone"], n) : e.Backbone.Radio = n(e._, e.Backbone)
}(this, function(e, n) {
    "use strict";

    function t(e, n, t, r) {
        var s = e[n];
        return t && t !== s.callback && t !== s.callback._callback || r && r !== s.context ? void 0 : (delete e[n], !0)
    }

    function r(n, r, s, i) {
        n || (n = {});
        for (var a = r ? [r] : e.keys(n), u = !1, o = 0, c = a.length; c > o; o++) r = a[o], n[r] && t(n, r, s, i) && (u = !0);
        return u
    }

    function s(n) {
        return c[n] || (c[n] = e.partial(u.log, n))
    }

    function i(n) {
        return e.isFunction(n) ? n : function() {
            return n
        }
    }
    var a = n.Radio,
        u = n.Radio = {};
    u.VERSION = "1.0.1", u.noConflict = function() {
        return n.Radio = a, this
    }, u.DEBUG = !1, u._debugText = function(e, n, t) {
        return e + (t ? " on the " + t + " channel" : "") + ': "' + n + '"'
    }, u.debugLog = function(e, n, t) {
        u.DEBUG && console && console.warn && console.warn(u._debugText(e, n, t))
    };
    var o = /\s+/;
    u._eventsApi = function(n, t, r, s) {
        if (!r) return !1;
        var i = {};
        if ("object" == typeof r) {
            for (var a in r) {
                var u = n[t].apply(n, [a, r[a]].concat(s));
                o.test(a) ? e.extend(i, u) : i[a] = u
            }
            return i
        }
        if (o.test(r)) {
            for (var c = r.split(o), l = 0, h = c.length; h > l; l++) i[c[l]] = n[t].apply(n, [c[l]].concat(s));
            return i
        }
        return !1
    }, u._callHandler = function(e, n, t) {
        var r = t[0],
            s = t[1],
            i = t[2];
        switch (t.length) {
            case 0:
                return e.call(n);
            case 1:
                return e.call(n, r);
            case 2:
                return e.call(n, r, s);
            case 3:
                return e.call(n, r, s, i);
            default:
                return e.apply(n, t)
        }
    };
    var c = {};
    e.extend(u, {
        log: function(n, t) {
            var r = e.rest(arguments, 2);
            console.log("[" + n + '] "' + t + '"', r)
        },
        tuneIn: function(e) {
            var n = u.channel(e);
            return n._tunedIn = !0, n.on("all", s(e)), this
        },
        tuneOut: function(e) {
            var n = u.channel(e);
            return n._tunedIn = !1, n.off("all", s(e)), delete c[e], this
        }
    }), u.Requests = {
        request: function(n) {
            var t = e.rest(arguments),
                r = u._eventsApi(this, "request", n, t);
            if (r) return r;
            var s = this.channelName,
                i = this._requests;
            if (s && this._tunedIn && u.log.apply(this, [s, n].concat(t)), i && (i[n] || i["default"])) {
                var a = i[n] || i["default"];
                return t = i[n] ? t : arguments, u._callHandler(a.callback, a.context, t)
            }
            u.debugLog("An unhandled request was fired", n, s)
        },
        reply: function(e, n, t) {
            return u._eventsApi(this, "reply", e, [n, t]) ? this : (this._requests || (this._requests = {}), this._requests[e] && u.debugLog("A request was overwritten", e, this.channelName), this._requests[e] = {
                callback: i(n),
                context: t || this
            }, this)
        },
        replyOnce: function(n, t, r) {
            if (u._eventsApi(this, "replyOnce", n, [t, r])) return this;
            var s = this,
                a = e.once(function() {
                    return s.stopReplying(n), i(t).apply(this, arguments)
                });
            return this.reply(n, a, r)
        },
        stopReplying: function(e, n, t) {
            return u._eventsApi(this, "stopReplying", e) ? this : (e || n || t ? r(this._requests, e, n, t) || u.debugLog("Attempted to remove the unregistered request", e, this.channelName) : delete this._requests, this)
        }
    }, u._channels = {}, u.channel = function(e) {
        if (!e) throw new Error("You must provide a name for the channel.");
        return u._channels[e] ? u._channels[e] : u._channels[e] = new u.Channel(e)
    }, u.Channel = function(e) {
        this.channelName = e
    }, e.extend(u.Channel.prototype, n.Events, u.Requests, {
        reset: function() {
            return this.off(), this.stopListening(), this.stopReplying(), this
        }
    });
    var l, h, f = [n.Events, u.Commands, u.Requests];
    e.each(f, function(n) {
        e.each(n, function(n, t) {
            u[t] = function(n) {
                return h = e.rest(arguments), l = this.channel(n), l[t].apply(l, h)
            }
        })
    }), u.reset = function(n) {
        var t = n ? [this._channels[n]] : this._channels;
        e.invoke(t, "reset")
    };
    var p = u;
    return p
});
! function(a) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = a();
    else if ("function" == typeof define && define.amd) define([], a);
    else {
        var b;
        b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, b.mexp = a()
    }
}(function() {
    return function a(b, c, d) {
        function e(g, h) {
            if (!c[g]) {
                if (!b[g]) {
                    var i = "function" == typeof require && require;
                    if (!h && i) return i(g, !0);
                    if (f) return f(g, !0);
                    var j = new Error("Cannot find module '" + g + "'");
                    throw j.code = "MODULE_NOT_FOUND", j
                }
                var k = c[g] = {
                    exports: {}
                };
                b[g][0].call(k.exports, function(a) {
                    var c = b[g][1][a];
                    return e(c ? c : a)
                }, k, k.exports, a, b, c, d)
            }
            return c[g].exports
        }
        for (var f = "function" == typeof require && require, g = 0; g < d.length; g++) e(d[g]);
        return e
    }({
        1: [function(a, b, c) {
            var d = a("./postfix_evaluator.js");
            d.prototype.formulaEval = function() {
                "use strict";
                for (var a, b, c, d = [], e = this.value, f = 0; f < e.length; f++) 1 === e[f].type || 3 === e[f].type ? d.push({
                    value: 3 === e[f].type ? e[f].show : e[f].value,
                    type: 1
                }) : 13 === e[f].type ? d.push({
                    value: e[f].show,
                    type: 1
                }) : 0 === e[f].type ? d[d.length - 1] = {
                    value: e[f].show + ("-" != e[f].show ? "(" : "") + d[d.length - 1].value + ("-" != e[f].show ? ")" : ""),
                    type: 0
                } : 7 === e[f].type ? d[d.length - 1] = {
                    value: (1 != d[d.length - 1].type ? "(" : "") + d[d.length - 1].value + (1 != d[d.length - 1].type ? ")" : "") + e[f].show,
                    type: 7
                } : 10 === e[f].type ? (a = d.pop(), b = d.pop(), "P" === e[f].show || "C" === e[f].show ? d.push({
                    value: "<sup>" + b.value + "</sup>" + e[f].show + "<sub>" + a.value + "</sub>",
                    type: 10
                }) : d.push({
                    value: (1 != b.type ? "(" : "") + b.value + (1 != b.type ? ")" : "") + "<sup>" + a.value + "</sup>",
                    type: 1
                })) : 2 === e[f].type || 9 === e[f].type ? (a = d.pop(), b = d.pop(), d.push({
                    value: (1 != b.type ? "(" : "") + b.value + (1 != b.type ? ")" : "") + e[f].show + (1 != a.type ? "(" : "") + a.value + (1 != a.type ? ")" : ""),
                    type: e[f].type
                })) : 12 === e[f].type && (a = d.pop(), b = d.pop(), c = d.pop(), d.push({
                    value: e[f].show + "(" + c.value + "," + b.value + "," + a.value + ")",
                    type: 12
                }));
                return d[0].value
            }, b.exports = d
        }, {
            "./postfix_evaluator.js": 5
        }],
        2: [function(a, b, c) {
            function d(a, b) {
                for (var c = 0; c < a.length; c++) a[c] += b;
                return a
            }

            function e(a, b, c, d) {
                for (var e = 0; e < d; e++)
                    if (a[c + e] !== b[e]) return !1;
                return !0
            }
            var f = a("./math_function.js"),
                g = ["sin", "cos", "tan", "pi", "(", ")", "P", "C", "asin", "acos", "atan", "7", "8", "9", "int", "cosh", "acosh", "ln", "^", "root", "4", "5", "6", "/", "!", "tanh", "atanh", "Mod", "1", "2", "3", "*", "sinh", "asinh", "e", "log", "0", ".", "+", "-", ",", "Sigma", "n", "Pi", "pow"],
                h = ["sin", "cos", "tan", "&pi;", "(", ")", "P", "C", "asin", "acos", "atan", "7", "8", "9", "Int", "cosh", "acosh", " ln", "^", "root", "4", "5", "6", "&divide;", "!", "tanh", "atanh", " Mod ", "1", "2", "3", "&times;", "sinh", "asinh", "e", " log", "0", ".", "+", "-", ",", "&Sigma;", "n", "&Pi;", "pow"],
                j = [f.math.sin, f.math.cos, f.math.tan, "PI", "(", ")", f.math.P, f.math.C, f.math.asin, f.math.acos, f.math.atan, "7", "8", "9", Math.floor, f.math.cosh, f.math.acosh, Math.log, Math.pow, Math.sqrt, "4", "5", "6", f.math.div, f.math.fact, f.math.tanh, f.math.atanh, f.math.mod, "1", "2", "3", f.math.mul, f.math.sinh, f.math.asinh, "E", f.math.log, "0", ".", f.math.add, f.math.sub, ",", f.math.sigma, "n", f.math.Pi, Math.pow],
                k = {
                    0: 11,
                    1: 0,
                    2: 3,
                    3: 0,
                    4: 0,
                    5: 0,
                    6: 0,
                    7: 11,
                    8: 11,
                    9: 1,
                    10: 10,
                    11: 0,
                    12: 11,
                    13: 0
                },
                l = [0, 0, 0, 3, 4, 5, 10, 10, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 10, 0, 1, 1, 1, 2, 7, 0, 0, 2, 1, 1, 1, 2, 0, 0, 3, 0, 1, 6, 9, 9, 11, 12, 13, 12, 8],
                m = {
                    0: !0,
                    1: !0,
                    3: !0,
                    4: !0,
                    6: !0,
                    8: !0,
                    9: !0,
                    12: !0,
                    13: !0
                },
                n = {
                    0: !0,
                    1: !0,
                    2: !0,
                    3: !0,
                    4: !0,
                    5: !0,
                    6: !0,
                    7: !0,
                    8: !0,
                    9: !0,
                    10: !0,
                    11: !0,
                    12: !0,
                    13: !0
                },
                o = {
                    0: !0,
                    3: !0,
                    4: !0,
                    8: !0,
                    12: !0,
                    13: !0
                },
                p = {},
                q = {
                    0: !0,
                    1: !0,
                    3: !0,
                    4: !0,
                    6: !0,
                    8: !0,
                    12: !0,
                    13: !0
                },
                r = {
                    1: !0
                },
                s = [
                    [],
                    ["1", "2", "3", "7", "8", "9", "4", "5", "6", "+", "-", "*", "/", "(", ")", "^", "!", "P", "C", "e", "0", ".", ",", "n"],
                    ["pi", "ln", "Pi"],
                    ["sin", "cos", "tan", "Del", "int", "Mod", "log", "pow"],
                    ["asin", "acos", "atan", "cosh", "root", "tanh", "sinh"],
                    ["acosh", "atanh", "asinh", "Sigma"]
                ];
            f.addToken = function(a) {
                for (i = 0; i < a.length; i++) {
                    x = a[i].token.length;
                    var b = -1;
                    if (x < s.length)
                        for (y = 0; y < s[x].length; y++)
                            if (a[i].token === s[x][y]) {
                                b = g.indexOf(s[x][y]);
                                break
                            }
                    b === -1 ? (g.push(a[i].token), l.push(a[i].type), s.length <= a[i].token.length && (s[a[i].token.length] = []), s[a[i].token.length].push(a[i].token), j.push(a[i].value), h.push(a[i].show)) : (g[b] = a[i].token, l[b] = a[i].type, j[b] = a[i].value, h[b] = a[i].show)
                }
            }, f.lex = function(a, b) {
                "use strict";
                var c, i, t, u, v = [{
                        type: 4,
                        value: "(",
                        show: "(",
                        pre: 0
                    }],
                    w = [],
                    x = a,
                    y = 0,
                    z = m,
                    A = 0,
                    B = p,
                    C = "";
                "undefined" != typeof b && f.addToken(b);
                var D = {};
                for (i = 0; i < x.length; i++)
                    if (" " != x[i]) {
                        c = "";
                        a: for (t = x.length - i > s.length - 2 ? s.length - 1 : x.length - i; t > 0; t--)
                            for (u = 0; u < s[t].length; u++)
                                if (e(x, s[t][u], i, t)) {
                                    c = s[t][u];
                                    break a
                                }
                        if (i += c.length - 1, "" === c) throw new f.exception("Can't understand after " + x.slice(i));
                        var E = g.indexOf(c),
                            F = c,
                            G = l[E],
                            H = j[E],
                            I = k[G],
                            J = h[E],
                            K = v[v.length - 1];
                        for (L = w.length; L--;)
                            if (0 === w[L] && [0, 2, 3, 5, 9, 11, 12, 13].indexOf(G) !== -1) {
                                if (z[G] !== !0) throw new f.exception(c + " is not allowed after " + C);
                                v.push({
                                    value: ")",
                                    type: 5,
                                    pre: 0,
                                    show: ")"
                                }), z = n, B = q, d(w, -1).pop()
                            }
                        if (z[G] !== !0) throw new f.exception(c + " is not allowed after " + C);
                        if (B[G] === !0 && (G = 2, H = f.math.mul, J = "&times;", I = 3, i -= c.length), D = {
                                value: H,
                                type: G,
                                pre: I,
                                show: J
                            }, 0 === G) z = m, B = p, d(w, 2).push(2), v.push(D), v.push({
                            value: "(",
                            type: 4,
                            pre: 0,
                            show: "("
                        });
                        else if (1 === G) 1 === K.type ? (K.value += H, d(w, 1)) : v.push(D), z = n, B = o;
                        else if (2 === G) z = m, B = p, d(w, 2), v.push(D);
                        else if (3 === G) v.push(D), z = n, B = q;
                        else if (4 === G) y += w.length, w = [], A++, z = m, B = p, v.push(D);
                        else if (5 === G) {
                            if (!A) throw new f.exception("Closing parenthesis are more than opening one, wait What!!!");
                            for (; y--;) v.push({
                                value: ")",
                                type: 5,
                                pre: 0,
                                show: ")"
                            });
                            y = 0, A--, z = n, B = q, v.push(D)
                        } else if (6 === G) {
                            if (K.hasDec) throw new f.exception("Two decimals are not allowed in one number");
                            1 !== K.type && (K = {
                                value: 0,
                                type: 1,
                                pre: 0
                            }, v.push(K), d(w, -1)), z = r, d(w, 1), B = p, K.value += H, K.hasDec = !0
                        } else 7 === G && (z = n, B = q, d(w, 1), v.push(D));
                        8 === G ? (z = m, B = p, d(w, 4).push(4), v.push(D), v.push({
                            value: "(",
                            type: 4,
                            pre: 0,
                            show: "("
                        })) : 9 === G ? (9 === K.type ? K.value === f.math.add ? (K.value = H, K.show = J, d(w, 1)) : K.value === f.math.sub && "-" === J && (K.value = f.math.add, K.show = "+", d(w, 1)) : 5 !== K.type && 7 !== K.type && 1 !== K.type && 3 !== K.type && 13 !== K.type ? "-" === F && (z = m, B = p, d(w, 2).push(2), v.push({
                            value: f.math.changeSign,
                            type: 0,
                            pre: 21,
                            show: "-"
                        }), v.push({
                            value: "(",
                            type: 4,
                            pre: 0,
                            show: "("
                        })) : (v.push(D), d(w, 2)), z = m, B = p) : 10 === G ? (z = m, B = p, d(w, 2), v.push(D)) : 11 === G ? (z = m, B = p, v.push(D)) : 12 === G ? (z = m, B = p, d(w, 6).push(6), v.push(D), v.push({
                            value: "(",
                            type: 4,
                            pre: 0
                        })) : 13 === G && (z = n, B = q, v.push(D)), d(w, -1), C = c
                    }
                for (var L = w.length; L--;) 0 === w[L] && (v.push({
                    value: ")",
                    show: ")",
                    type: 5,
                    pre: 3
                }), d(w, -1).pop());
                if (z[5] !== !0) throw new f.exception("complete the expression");
                for (; A--;) v.push({
                    value: ")",
                    show: ")",
                    type: 5,
                    pre: 3
                });
                return v.push({
                    type: 5,
                    value: ")",
                    show: ")",
                    pre: 0
                }), new f(v)
            }, b.exports = f
        }, {
            "./math_function.js": 3
        }],
        3: [function(a, b, c) {
            var d = function(a) {
                this.value = a
            };
            d.math = {
                isDegree: !0,
                acos: function(a) {
                    return d.math.isDegree ? 180 / Math.PI * Math.acos(a) : Math.acos(a)
                },
                add: function(a, b) {
                    return a + b
                },
                asin: function(a) {
                    return d.math.isDegree ? 180 / Math.PI * Math.asin(a) : Math.asin(a)
                },
                atan: function(a) {
                    return d.math.isDegree ? 180 / Math.PI * Math.atan(a) : Math.atan(a)
                },
                acosh: function(a) {
                    return Math.log(a + Math.sqrt(a * a - 1))
                },
                asinh: function(a) {
                    return Math.log(a + Math.sqrt(a * a + 1))
                },
                atanh: function(a) {
                    return Math.log((1 + a) / (1 - a))
                },
                C: function(a, b) {
                    var c = 1,
                        e = a - b,
                        f = b;
                    f < e && (f = e, e = b);
                    for (var g = f + 1; g <= a; g++) c *= g;
                    return c / d.math.fact(e)
                },
                changeSign: function(a) {
                    return -a
                },
                cos: function(a) {
                    return d.math.isDegree && (a = d.math.toRadian(a)), Math.cos(a)
                },
                cosh: function(a) {
                    return (Math.pow(Math.E, a) + Math.pow(Math.E, -1 * a)) / 2
                },
                div: function(a, b) {
                    return a / b
                },
                fact: function(a) {
                    if (a % 1 !== 0) return "NAN";
                    for (var b = 1, c = 2; c <= a; c++) b *= c;
                    return b
                },
                inverse: function(a) {
                    return 1 / a
                },
                log: function(a) {
                    return Math.log(a) / Math.log(10)
                },
                mod: function(a, b) {
                    return a % b
                },
                mul: function(a, b) {
                    return a * b
                },
                P: function(a, b) {
                    for (var c = 1, d = Math.floor(a) - Math.floor(b) + 1; d <= Math.floor(a); d++) c *= d;
                    return c
                },
                Pi: function(a, b, c) {
                    for (var d = 1, e = a; e <= b; e++) d *= Number(c.postfixEval({
                        n: e
                    }));
                    return d
                },
                pow10x: function(a) {
                    for (var b = 1; a--;) b *= 10;
                    return b
                },
                sigma: function(a, b, c) {
                    for (var d = 0, e = a; e <= b; e++) d += Number(c.postfixEval({
                        n: e
                    }));
                    return d
                },
                sin: function(a) {
                    return d.math.isDegree && (a = d.math.toRadian(a)), Math.sin(a)
                },
                sinh: function(a) {
                    return (Math.pow(Math.E, a) - Math.pow(Math.E, -1 * a)) / 2
                },
                sub: function(a, b) {
                    return a - b
                },
                tan: function(a) {
                    return d.math.isDegree && (a = d.math.toRadian(a)), Math.tan(a)
                },
                tanh: function(a) {
                    return d.sinha(a) / d.cosha(a)
                },
                toRadian: function(a) {
                    return a * Math.PI / 180
                }
            }, d.exception = function(a) {
                this.message = a
            }, b.exports = d
        }, {}],
        4: [function(a, b, c) {
            var d = a("./lexer.js");
            d.prototype.toPostfix = function() {
                "use strict";
                for (var a, b, c, e, f, g = [], h = [{
                        value: "(",
                        type: 4,
                        pre: 0
                    }], i = this.value, j = 1; j < i.length; j++)
                    if (1 === i[j].type || 3 === i[j].type || 13 === i[j].type) 1 === i[j].type && (i[j].value = Number(i[j].value)), g.push(i[j]);
                    else if (4 === i[j].type) h.push(i[j]);
                else if (5 === i[j].type)
                    for (; 4 !== (b = h.pop()).type;) g.push(b);
                else if (11 === i[j].type) {
                    for (; 4 !== (b = h.pop()).type;) g.push(b);
                    h.push(b)
                } else {
                    a = i[j], e = a.pre, f = h[h.length - 1], c = f.pre;
                    var k = "Math.pow" == f.value && "Math.pow" == a.value;
                    if (e > c) h.push(a);
                    else {
                        for (; c >= e && !k || k && e < c;) b = h.pop(), f = h[h.length - 1], g.push(b), c = f.pre, k = "Math.pow" == a.value && "Math.pow" == f.value;
                        h.push(a)
                    }
                }
                return new d(g)
            }, b.exports = d
        }, {
            "./lexer.js": 2
        }],
        5: [function(a, b, c) {
            var d = a("./postfix.js");
            d.prototype.postfixEval = function(a) {
                "use strict";
                a = a || {}, a.PI = Math.PI, a.E = Math.E;
                for (var b, c, e, f = [], g = this.value, h = "undefined" != typeof a.n, i = 0; i < g.length; i++) 1 === g[i].type ? f.push({
                    value: g[i].value,
                    type: 1
                }) : 3 === g[i].type ? f.push({
                    value: a[g[i].value],
                    type: 1
                }) : 0 === g[i].type ? "undefined" == typeof f[f.length - 1].type ? f[f.length - 1].value.push(g[i]) : f[f.length - 1].value = g[i].value(f[f.length - 1].value) : 7 === g[i].type ? "undefined" == typeof f[f.length - 1].type ? f[f.length - 1].value.push(g[i]) : f[f.length - 1].value = g[i].value(f[f.length - 1].value) : 8 === g[i].type ? (b = f.pop(), c = f.pop(), f.push({
                    type: 1,
                    value: g[i].value(c.value, b.value)
                })) : 10 === g[i].type ? (b = f.pop(), c = f.pop(), "undefined" == typeof c.type ? (c.value = c.concat(b), c.value.push(g[i]), f.push(c)) : "undefined" == typeof b.type ? (b.unshift(c), b.push(g[i]), f.push(b)) : f.push({
                    type: 1,
                    value: g[i].value(c.value, b.value)
                })) : 2 === g[i].type || 9 === g[i].type ? (b = f.pop(), c = f.pop(), "undefined" == typeof c.type ? (console.log(c), c = c.concat(b), c.push(g[i]), f.push(c)) : "undefined" == typeof b.type ? (b.unshift(c), b.push(g[i]), f.push(b)) : f.push({
                    type: 1,
                    value: g[i].value(c.value, b.value)
                })) : 12 === g[i].type ? (b = f.pop(), "undefined" != typeof b.type && (b = [b]), c = f.pop(), e = f.pop(), f.push({
                    type: 1,
                    value: g[i].value(e.value, c.value, new d(b))
                })) : 13 === g[i].type && (h ? f.push({
                    value: a[g[i].value],
                    type: 3
                }) : f.push([g[i]]));
                if (f.length > 1) throw new d.exception("Uncaught Syntax error");
                return f[0].value > 1e15 ? "Infinity" : Number(f[0].value.toFixed(15)).toPrecision()
            }, d.eval = function(a, b, c) {
                return "undefined" == typeof b ? this.lex(a).toPostfix().postfixEval() : "undefined" == typeof c ? "undefined" != typeof b.length ? this.lex(a, b).toPostfix().postfixEval() : this.lex(a).toPostfix().postfixEval(b) : this.lex(a, b).toPostfix().postfixEval(c)
            }, b.exports = d
        }, {
            "./postfix.js": 4
        }]
    }, {}, [1])(1)
});
var nfRadio = Backbone.Radio;
nfRadio.channel('form').on('render:view', function() {
    jQuery('.g-recaptcha').each(function() {
        var callback = jQuery(this).data('callback');
        var fieldID = jQuery(this).data('fieldid');
        if (typeof window[callback] !== 'function') {
            window[callback] = function(response) {
                nfRadio.channel('recaptcha').request('update:response', response, fieldID);
            };
        }
    });
});
var nfRecaptcha = Marionette.Object.extend({
    initialize: function() {
        if (0 != jQuery('.g-recaptcha').length) {
            this.renderCaptcha();
        }
        this.listenTo(nfRadio.channel('form'), 'render:view', this.renderCaptcha);
        this.listenTo(nfRadio.channel('captcha'), 'reset', this.renderCaptcha);
    },
    renderCaptcha: function() {
        jQuery('.g-recaptcha').each(function() {
            var opts = {
                fieldid: jQuery(this).data('fieldid'),
                size: jQuery(this).data('size'),
                theme: jQuery(this).data('theme'),
                sitekey: jQuery(this).data('sitekey'),
                callback: jQuery(this).data('callback')
            };
            var grecaptchaID = grecaptcha.render(jQuery(this)[0], opts);
            if (opts.size === 'invisible') {
                try {
                    grecaptcha.execute(grecaptchaID);
                } catch (e) {
                    console.log('Notice: Error trying to execute grecaptcha.');
                }
            }
        });
    }
});
var nfRenderRecaptcha = function() {
    new nfRecaptcha();
};
! function() {
    var e, t, i;
    ! function(n) {
        function r(e, t) {
            return R.call(e, t)
        }

        function o(e, t) {
            var i, n, r, o, a, l, s, d, c, f, u, h = t && t.split("/"),
                g = b.map,
                m = g && g["*"] || {};
            if (e && "." === e.charAt(0))
                if (t) {
                    for (e = e.split("/"), a = e.length - 1, b.nodeIdCompat && _.test(e[a]) && (e[a] = e[a].replace(_, "")), e = h.slice(0, h.length - 1).concat(e), c = 0; c < e.length; c += 1)
                        if ("." === (u = e[c])) e.splice(c, 1), c -= 1;
                        else if (".." === u) {
                        if (1 === c && (".." === e[2] || ".." === e[0])) break;
                        c > 0 && (e.splice(c - 1, 2), c -= 2)
                    }
                    e = e.join("/")
                } else 0 === e.indexOf("./") && (e = e.substring(2));
            if ((h || m) && g) {
                for (i = e.split("/"), c = i.length; c > 0; c -= 1) {
                    if (n = i.slice(0, c).join("/"), h)
                        for (f = h.length; f > 0; f -= 1)
                            if ((r = g[h.slice(0, f).join("/")]) && (r = r[n])) {
                                o = r, l = c;
                                break
                            }
                    if (o) break;
                    !s && m && m[n] && (s = m[n], d = c)
                }!o && s && (o = s, l = d), o && (i.splice(0, l, o), e = i.join("/"))
            }
            return e
        }

        function a(e, t) {
            return function() {
                var i = w.call(arguments, 0);
                return "string" != typeof i[0] && 1 === i.length && i.push(null), h.apply(n, i.concat([e, t]))
            }
        }

        function l(e) {
            return function(t) {
                return o(t, e)
            }
        }

        function s(e) {
            return function(t) {
                p[e] = t
            }
        }

        function d(e) {
            if (r(v, e)) {
                var t = v[e];
                delete v[e], y[e] = !0, u.apply(n, t)
            }
            if (!r(p, e) && !r(y, e)) throw new Error("No " + e);
            return p[e]
        }

        function c(e) {
            var t, i = e ? e.indexOf("!") : -1;
            return i > -1 && (t = e.substring(0, i), e = e.substring(i + 1, e.length)), [t, e]
        }

        function f(e) {
            return function() {
                return b && b.config && b.config[e] || {}
            }
        }
        var u, h, g, m, p = {},
            v = {},
            b = {},
            y = {},
            R = Object.prototype.hasOwnProperty,
            w = [].slice,
            _ = /\.js$/;
        g = function(e, t) {
            var i, n = c(e),
                r = n[0];
            return e = n[1], r && (r = o(r, t), i = d(r)), r ? e = i && i.normalize ? i.normalize(e, l(t)) : o(e, t) : (e = o(e, t), n = c(e), r = n[0], e = n[1], r && (i = d(r))), {
                f: r ? r + "!" + e : e,
                n: e,
                pr: r,
                p: i
            }
        }, m = {
            require: function(e) {
                return a(e)
            },
            exports: function(e) {
                var t = p[e];
                return void 0 !== t ? t : p[e] = {}
            },
            module: function(e) {
                return {
                    id: e,
                    uri: "",
                    exports: p[e],
                    config: f(e)
                }
            }
        }, u = function(e, t, i, o) {
            var l, c, f, u, h, b, R = [],
                w = typeof i;
            if (o = o || e, "undefined" === w || "function" === w) {
                for (t = !t.length && i.length ? ["require", "exports", "module"] : t, h = 0; h < t.length; h += 1)
                    if (u = g(t[h], o), "require" === (c = u.f)) R[h] = m.require(e);
                    else if ("exports" === c) R[h] = m.exports(e), b = !0;
                else if ("module" === c) l = R[h] = m.module(e);
                else if (r(p, c) || r(v, c) || r(y, c)) R[h] = d(c);
                else {
                    if (!u.p) throw new Error(e + " missing " + c);
                    u.p.load(u.n, a(o, !0), s(c), {}), R[h] = p[c]
                }
                f = i ? i.apply(p[e], R) : void 0, e && (l && l.exports !== n && l.exports !== p[e] ? p[e] = l.exports : f === n && b || (p[e] = f))
            } else e && (p[e] = i)
        }, e = t = h = function(e, t, i, r, o) {
            if ("string" == typeof e) return m[e] ? m[e](t) : d(g(e, t).f);
            if (!e.splice) {
                if (b = e, b.deps && h(b.deps, b.callback), !t) return;
                t.splice ? (e = t, t = i, i = null) : e = n
            }
            return t = t || function() {}, "function" == typeof i && (i = r, r = o), r ? u(n, e, t, i) : setTimeout(function() {
                u(n, e, t, i)
            }, 4), h
        }, h.config = function(e) {
            return h(e)
        }, e._defined = p, i = function(e, t, i) {
            if ("string" != typeof e) throw new Error("See almond README: incorrect module build, no module name");
            t.splice || (i = t, t = []), r(p, e) || r(v, e) || (v[e] = [e, t, i])
        }, i.amd = {
            jQuery: !0
        }
    }(), i("../lib/almond", function() {}), i("models/fieldErrorModel", [], function() {
        return Backbone.Model.extend({})
    }), i("models/fieldErrorCollection", ["models/fieldErrorModel"], function(e) {
        return Backbone.Collection.extend({
            model: e
        })
    }), i("models/fieldModel", ["models/fieldErrorCollection"], function(e) {
        return Backbone.Model.extend({
            defaults: {
                placeholder: "",
                value: "",
                label_pos: "",
                classes: "",
                reRender: !1,
                mirror_field: !1,
                confirm_field: !1,
                clean: !0,
                disabled: "",
                visible: !0,
                invalid: !1
            },
            initialize: function() {
                this.set("formID", this.collection.options.formModel.get("id")), this.listenTo(nfRadio.channel("form-" + this.get("formID")), "reset", this.resetModel), this.bind("change", this.changeModel, this), this.bind("change:value", this.changeValue, this), this.set("errors", new e), nfRadio.channel("fields").trigger("init:model", this), nfRadio.channel(this.get("type")).trigger("init:model", this), nfRadio.channel("fields-" + this.get("type")).trigger("init:model", this), "undefined" != this.get("parentType") && nfRadio.channel(this.get("parentType")).trigger("init:model", this), this.listenTo(nfRadio.channel("form-" + this.get("formID")), "loaded", this.formLoaded), this.listenTo(nfRadio.channel("form-" + this.get("formID")), "before:submit", this.beforeSubmit)
            },
            changeModel: function() {
                nfRadio.channel("field-" + this.get("id")).trigger("change:model", this), nfRadio.channel(this.get("type")).trigger("change:model", this), nfRadio.channel("fields").trigger("change:model", this)
            },
            changeValue: function() {
                nfRadio.channel("field-" + this.get("id")).trigger("change:modelValue", this), nfRadio.channel(this.get("type")).trigger("change:modelValue", this), nfRadio.channel("fields").trigger("change:modelValue", this)
            },
            addWrapperClass: function(e) {
                this.set("addWrapperClass", e)
            },
            removeWrapperClass: function(e) {
                this.set("removeWrapperClass", e)
            },
            setInvalid: function(e) {
                this.set("invalid", e)
            },
            formLoaded: function() {
                nfRadio.channel("fields").trigger("formLoaded", this), nfRadio.channel("fields-" + this.get("type")).trigger("formLoaded", this)
            },
            beforeSubmit: function(e) {
                nfRadio.channel(this.get("type")).trigger("before:submit", this), nfRadio.channel("fields").trigger("before:submit", this)
            }
        })
    }), i("models/fieldCollection", ["models/fieldModel"], function(e) {
        return Backbone.Collection.extend({
            model: e,
            comparator: "order",
            initialize: function(e, t) {
                this.options = t, this.on("reset", function(e) {
                    nfRadio.channel("fields").trigger("reset:collection", e)
                }, this)
            },
            validateFields: function() {
                _.each(this.models, function(e) {
                    e.set("clean", !1), nfRadio.channel("submit").trigger("validate:field", e)
                }, this)
            },
            showFields: function() {
                this.invoke("set", {
                    visible: !0
                }), this.invoke(function() {
                    this.trigger("change:value", this)
                })
            },
            hideFields: function() {
                this.invoke("set", {
                    visible: !1
                }), this.invoke(function() {
                    this.trigger("change:value", this)
                })
            }
        })
    }), i("models/formErrorModel", [], function() {
        return Backbone.Model.extend({})
    }), i("models/formErrorCollection", ["models/formErrorModel"], function(e) {
        return Backbone.Collection.extend({
            model: e
        })
    }), i("models/formModel", ["models/fieldCollection", "models/formErrorCollection"], function(e, t) {
        return Backbone.Model.extend({
            defaults: {
                beforeForm: "",
                afterForm: "",
                beforeFields: "",
                afterFields: "",
                wrapper_class: "",
                element_class: "",
                hp: "",
                fieldErrors: {},
                extra: {}
            },
            initialize: function() {
                _.each(this.get("settings"), function(e, t) {
                    this.set(t, e)
                }, this), this.set("loadedFields", this.get("fields")), this.set("fields", new e(this.get("fields"), {
                    formModel: this
                })), this.set("errors", new t), nfRadio.channel("form").trigger("before:filterData", this);
                var i = this.get("formContentData");
                i || (i = this.get("fieldContentsData"));
                var n = nfRadio.channel("formContent").request("get:loadFilters"),
                    r = _.without(n, void 0);
                i = _.first(r)(i, this, this), this.set("formContentData", i), nfRadio.channel("forms").trigger("init:model", this), nfRadio.channel("form-" + this.get("id")).trigger("init:model", this), nfRadio.channel("form-" + this.get("id")).reply("get:fieldByKey", this.getFieldByKey, this), nfRadio.channel("form-" + this.get("id")).reply("add:error", this.addError, this), nfRadio.channel("form-" + this.get("id")).reply("remove:error", this.removeError, this), nfRadio.channel("form-" + this.get("id")).reply("get:extra", this.getExtra, this), nfRadio.channel("form-" + this.get("id")).reply("add:extra", this.addExtra, this), nfRadio.channel("form-" + this.get("id")).reply("remove:extra", this.removeExtra, this), nfRadio.channel("form-" + this.get("id")).reply("get:form", this.getForm, this), nfRadio.channel("form").trigger("loaded", this), nfRadio.channel("form").trigger("after:loaded", this), nfRadio.channel("form-" + this.get("id")).trigger("loaded", this)
            },
            getFieldByKey: function(e) {
                return this.get("fields").findWhere({
                    key: e
                })
            },
            addError: function(e, t) {
                this.get("errors").add({
                    id: e,
                    msg: t
                }), nfRadio.channel("form-" + this.get("id")).trigger("add:error", this, e, t)
            },
            removeError: function(e) {
                var t = this.get("errors"),
                    i = t.get(e);
                t.remove(i), nfRadio.channel("form-" + this.get("id")).trigger("remove:error", this, e)
            },
            getExtra: function(e) {
                var t = this.get("extra");
                return void 0 === e ? t : t[e]
            },
            addExtra: function(e, t) {
                this.get("extra")[e] = t, nfRadio.channel("form-" + this.get("id")).trigger("add:extra", this, e, t)
            },
            removeExtra: function(e) {
                delete this.get("extra")[e], nfRadio.channel("form-" + this.get("id")).trigger("remove:extra", this, e)
            },
            getForm: function() {
                return this
            }
        })
    }), i("models/formCollection", ["models/formModel"], function(e) {
        return Backbone.Collection.extend({
            model: e
        })
    }), i("controllers/formData", ["models/formModel", "models/formCollection", "models/fieldCollection", "models/formErrorCollection"], function(e, t, i, n) {
        return Marionette.Object.extend({
            initialize: function() {
                this.collection = new t(nfForms), nfRadio.channel("forms").trigger("loaded", this.collection), nfRadio.channel("app").trigger("forms:loaded", this.collection), nfRadio.channel("app").reply("get:form", this.getForm, this), nfRadio.channel("app").reply("get:forms", this.getForms, this), nfRadio.channel("fields").reply("get:field", this.getField, this)
            },
            getForm: function(e) {
                return this.collection.get(e)
            },
            getForms: function() {
                return this.collection
            },
            getField: function(e) {
                var t = !1;
                return _.each(this.collection.models, function(i) {
                    t || (t = i.get("fields").get(e))
                }), t
            }
        })
    }), i("controllers/fieldError", ["models/fieldErrorModel"], function(e) {
        return Marionette.Object.extend({
            initialize: function() {
                nfRadio.channel("fields").reply("add:error", this.addError), nfRadio.channel("fields").reply("remove:error", this.removeError), nfRadio.channel("fields").reply("get:error", this.getError)
            },
            addError: function(e, t, i) {
                var n = nfRadio.channel("fields").request("get:field", e);
                if (void 0 !== n) {
                    var r = n.get("errors");
                    r.add({
                        id: t,
                        msg: i
                    }), n.set("errors", r), n.trigger("change:errors", n), n.set("clean", !1), nfRadio.channel("fields").trigger("add:error", n, t, i)
                }
            },
            removeError: function(e, t) {
                var i = nfRadio.channel("fields").request("get:field", e);
                if (void 0 !== i) {
                    var n = i.get("errors"),
                        r = n.get(t);
                    void 0 !== r && (n.remove(r), i.set("errors", n), i.trigger("change:errors", i), nfRadio.channel("fields").trigger("remove:error", i, t))
                }
            },
            getError: function(e, t) {
                var i = nfRadio.channel("fields").request("get:field", e),
                    n = i.get("errors"),
                    r = n.get(t);
                return "undefined" != r && r
            }
        })
    }), i("controllers/changeField", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                nfRadio.channel("nfAdmin").reply("change:field", this.changeField), this.listenTo(nfRadio.channel("fields"), "blur:field", this.blurField)
            },
            changeField: function(e, t) {
                var i = nfRadio.channel(t.get("type")).request("before:updateField", e, t);
                i = void 0 !== i ? i : nfRadio.channel(t.get("parentType")).request("before:updateField", e, t), i = void 0 !== i ? i : jQuery(e).val(), t.set("isUpdated", !1), t.set("clean", !1), nfRadio.channel("field-" + t.get("id")).trigger("change:field", e, t), nfRadio.channel(t.get("type")).trigger("change:field", e, t), nfRadio.channel("fields").trigger("change:field", e, t), nfRadio.channel("nfAdmin").request("update:field", t, i)
            },
            blurField: function(e, t) {
                t.set("clean", !1)
            }
        })
    }), i("controllers/changeEmail", [], function() {
        var e = nfRadio.channel("email"),
            t = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
            i = "invalid-email";
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(e, "change:modelValue", this.onChangeModelValue), this.listenTo(e, "keyup:field", this.emailKeyup), this.listenTo(e, "blur:field", this.onBlurField)
            },
            onChangeModelValue: function(e) {
                var t = e.get("value"),
                    i = e.get("id");
                this.emailChange(t, i)
            },
            onBlurField: function(e, t) {
                var i = jQuery(e).val(),
                    n = t.get("id");
                this.emailChange(i, n)
            },
            emailChange: function(e, n) {
                if (0 < e.length)
                    if (t.test(e)) nfRadio.channel("fields").request("remove:error", n, i);
                    else {
                        var r = nfRadio.channel("fields").request("get:field", n),
                            o = nfRadio.channel("app").request("get:form", r.get("formID"));
                        nfRadio.channel("fields").request("add:error", n, i, o.get("settings").changeEmailErrorMsg)
                    } else nfRadio.channel("fields").request("remove:error", n, i)
            },
            emailKeyup: function(e, n, r) {
                if (9 == r) return !1;
                var o = jQuery(e).val(),
                    a = n.get("id");
                if (0 == o.length) nfRadio.channel("fields").request("remove:error", a, i);
                else if (t.test(o) || n.get("clean")) t.test(o) && (nfRadio.channel("fields").request("remove:error", a, i), n.addWrapperClass("nf-pass"), n.set("clean", !1));
                else {
                    var l = nfRadio.channel("fields").request("get:field", a),
                        s = nfRadio.channel("app").request("get:form", l.get("formID"));
                    nfRadio.channel("fields").request("add:error", a, i, s.get("settings").changeEmailErrorMsg), n.removeWrapperClass("nf-pass")
                }
            }
        })
    }), i("controllers/changeDate", [], function() {
        var e = nfRadio.channel("date"),
            t = "invalid-date";
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(e, "change:modelValue", this.onChangeModelValue), this.listenTo(e, "keyup:field", this.dateKeyup), this.listenTo(e, "blur:field", this.onBlurField)
            },
            onChangeModelValue: function(e) {
                this.dateChange(e)
            },
            onBlurField: function(e, t) {
                this.dateChange(t)
            },
            dateChange: function(e) {
                var i = e.get("id"),
                    n = e.get("value"),
                    r = e.get("date_format");
                if ("default" === r && (r = nfi18n.dateFormat), 0 < n.length)
                    if (moment(n, r).isValid()) nfRadio.channel("fields").request("remove:error", i, t);
                    else {
                        var o = nfRadio.channel("fields").request("get:field", i),
                            a = nfRadio.channel("app").request("get:form", o.get("formID"));
                        nfRadio.channel("fields").request("add:error", i, t, a.get("settings").changeDateErrorMsg)
                    } else nfRadio.channel("fields").request("remove:error", i, t)
            },
            dateKeyup: function(e, i, n) {
                if (9 == n) return !1;
                var r = jQuery(e).val(),
                    o = i.get("id"),
                    a = i.get("date_format");
                if ("default" === a && (a = nfi18n.dateFormat), 0 == r.length) nfRadio.channel("fields").request("remove:error", o, t);
                else if (moment(r, a).isValid() || i.get("clean")) moment(r, a).isValid() && (nfRadio.channel("fields").request("remove:error", o, t), i.addWrapperClass("nf-pass"), i.set("clean", !1));
                else {
                    var l = nfRadio.channel("fields").request("get:field", o),
                        s = nfRadio.channel("app").request("get:form", l.get("formID"));
                    nfRadio.channel("fields").request("add:error", o, t, s.get("settings").changeDateErrorMsg), i.removeWrapperClass("nf-pass")
                }
            }
        })
    }), i("controllers/fieldCheckbox", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("checkbox"), "init:model", this.registerRenderClasses), nfRadio.channel("checkbox").reply("validate:required", this.validateRequired), nfRadio.channel("checkbox").reply("validate:modelData", this.validateModelData), nfRadio.channel("checkbox").reply("before:updateField", this.beforeUpdateField, this), nfRadio.channel("checkbox").reply("get:calcValue", this.getCalcValue, this)
            },
            beforeUpdateField: function(e, t) {
                if (jQuery(e).prop("checked")) {
                    var i = 1;
                    jQuery(e).addClass("nf-checked"), jQuery(e).closest(".field-wrap").find('label[for="' + jQuery(e).prop("id") + '"]').addClass("nf-checked-label")
                } else {
                    var i = 0;
                    jQuery(e).removeClass("nf-checked"), jQuery(e).closest(".field-wrap").find('label[for="' + jQuery(e).prop("id") + '"]').removeClass("nf-checked-label")
                }
                return i
            },
            validateRequired: function(e, t) {
                return e[0].checked
            },
            validateModelData: function(e) {
                return 0 != e.get("value")
            },
            getCalcValue: function(e) {
                return 1 == e.get("value") ? calcValue = e.get("checked_calc_value") : calcValue = e.get("unchecked_calc_value"), calcValue
            },
            registerRenderClasses: function(e) {
                "checked" == e.get("default_value") ? e.set("value", 1) : e.set("value", 0), e.set("customClasses", this.customClasses), e.set("customLabelClasses", this.customLabelClasses), e.set("maybeChecked", this.maybeChecked)
            },
            customClasses: function(e) {
                return 1 == this.value || this.clean && void 0 !== this.default_value && "checked" == this.default_value ? e += " nf-checked" : e.replace("nf-checked", ""), e
            },
            customLabelClasses: function(e) {
                return 1 == this.value || this.clean && void 0 !== this.default_value && "checked" == this.default_value ? e += " nf-checked-label" : e.replace("nf-checked-label", ""), e
            },
            maybeChecked: function() {
                return 1 == this.value || this.clean && void 0 !== this.default_value && "checked" == this.default_value ? " checked" : ""
            }
        })
    }), i("controllers/fieldCheckboxList", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("listcheckbox"), "init:model", this.register), this.listenTo(nfRadio.channel("terms"), "init:model", this.register), nfRadio.channel("listcheckbox").reply("before:updateField", this.beforeUpdateField, this), nfRadio.channel("terms").reply("before:updateField", this.beforeUpdateField, this), nfRadio.channel("listcheckbox").reply("get:calcValue", this.getCalcValue, this), nfRadio.channel("terms").reply("get:calcValue", this.getCalcValue, this)
            },
            register: function(e) {
                if (e.set("renderOptions", this.renderOptions), e.set("renderOtherText", this.renderOtherText), e.set("selected", []), 0 != e.get("options").length) {
                    var t = _.filter(e.get("options"), function(e) {
                        return 1 == e.selected
                    });
                    t = _.map(t, function(e) {
                        return e.value
                    })
                }
                var i = e.get("value");
                void 0 !== i && Array.isArray(i) ? e.set("value", i) : void 0 !== t && e.set("value", t)
            },
            renderOptions: function() {
                var e = "";
                if ("" == this.value || Array.isArray(this.value) && 0 < this.value.length || 0 < this.value.length) var t = !0;
                else var t = !1;
                if (_.each(this.options, function(i, n) {
                        Array.isArray(this.value) && (Array.isArray(this.value[0]) && -1 !== _.indexOf(this.value[0], i.value) ? t = !0 : _.indexOf(this.value, i.value) && (t = !0)), i.value == this.value && (t = !0), void 0 === i.visible && (i.visible = !0), i.fieldID = this.id, i.classes = this.classes, i.index = n;
                        var r = !1;
                        Array.isArray(this.value) && 0 < this.value.length ? -1 === _.indexOf(this.value[0].split(","), i.value) && -1 === _.indexOf(this.value, i.value) || (r = !0) : _.isArray(this.value) || i.value != this.value ? 1 == i.selected && this.clean && void 0 === this.value && (r = !0) : r = !0, i.selected = r, i.isSelected = r, i.required = this.required;
                        var o = nfRadio.channel("app").request("get:template", "#tmpl-nf-field-listcheckbox-option");
                        e += o(i)
                    }, this), 1 == this.show_other) {
                    "nf-other" == this.value && (t = !1);
                    var i = {
                            fieldID: this.id,
                            classes: this.classes,
                            currentValue: this.value,
                            renderOtherText: this.renderOtherText,
                            valueFound: t
                        },
                        n = nfRadio.channel("app").request("get:template", "#tmpl-nf-field-listcheckbox-other");
                    e += n(i)
                }
                return e
            },
            renderOtherText: function() {
                if ("nf-other" == this.currentValue || !this.valueFound) {
                    "nf-other" == this.currentValue && (this.currentValue = "");
                    var e = {
                        fieldID: this.fieldID,
                        classes: this.classes,
                        currentValue: this.currentValue
                    };
                    return nfRadio.channel("app").request("get:template", "#tmpl-nf-field-listcheckbox-other-text")(e)
                }
            },
            getCalcValue: function(e) {
                var t = 0,
                    i = e.get("options");
                return 0 != i.length && _.each(e.get("value"), function(e) {
                    var n = _.find(i, function(t) {
                        return t.value == e
                    });
                    t = Number(t) + Number(n.calc)
                }), t
            },
            beforeUpdateField: function(e, t) {
                var i = t.get("value") || [];
                "string" == typeof i && (i = [i]);
                var n = jQuery(e).val();
                if (jQuery(e).prop("checked")) i.push(n), jQuery(e).addClass("nf-checked"), jQuery(e).parent().find('label[for="' + jQuery(e).prop("id") + '"]').addClass("nf-checked-label");
                else {
                    jQuery(e).removeClass("nf-checked"), jQuery(e).parent().find('label[for="' + jQuery(e).prop("id") + '"]').removeClass("nf-checked-label");
                    var r = i.indexOf(n);
                    if (-1 != r) i.splice(r, 1);
                    else if (Array.isArray(i)) {
                        var o = i[0].split(","),
                            a = o.indexOf(n); - 1 !== a && o.splice(a, 1), i = o.join(",")
                    }
                }
                return _.clone(i)
            }
        })
    }), i("controllers/fieldRadio", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("listradio"), "change:modelValue", this.changeModelValue), this.listenTo(nfRadio.channel("listradio"), "init:model", this.register), nfRadio.channel("listradio").reply("get:calcValue", this.getCalcValue, this), this.listenTo(nfRadio.channel("listradio"), "change:field", this.updateCheckedClass, this)
            },
            register: function(e) {
                if (e.set("renderOptions", this.renderOptions), e.set("renderOtherText", this.renderOtherText), 0 != e.get("options").length) {
                    var t = _.find(e.get("options"), function(e) {
                        return 1 == e.selected
                    });
                    void 0 !== t && e.set("value", t.value)
                }
            },
            changeModelValue: function(e) {
                1 == e.get("show_other") && e.trigger("reRender")
            },
            renderOptions: function() {
                var e = "";
                if ("" == this.value) var t = !0;
                else var t = !1;
                if (_.each(this.options, function(i, n) {
                        i.value == this.value && (t = !0), void 0 === i.visible && (i.visible = !0), i.selected = !1, i.fieldID = this.id, i.classes = this.classes, i.currentValue = this.value, i.index = n, i.required = this.required, this.clean && 1 == this.selected ? i.selected = !0 : this.value == i.value ? i.selected = !0 : i.selected = !1;
                        var r = nfRadio.channel("app").request("get:template", "#tmpl-nf-field-listradio-option");
                        e += r(i)
                    }, this), 1 == this.show_other) {
                    "nf-other" == this.value && (t = !1);
                    var i = {
                            fieldID: this.id,
                            classes: this.classes,
                            currentValue: this.value,
                            renderOtherText: this.renderOtherText,
                            valueFound: t
                        },
                        n = nfRadio.channel("app").request("get:template", "#tmpl-nf-field-listradio-other");
                    e += n(i)
                }
                return e
            },
            renderOtherText: function() {
                if ("nf-other" == this.currentValue || !this.valueFound) {
                    "nf-other" == this.currentValue && (this.currentValue = "");
                    var e = {
                        fieldID: this.fieldID,
                        classes: this.classes,
                        currentValue: this.currentValue
                    };
                    return nfRadio.channel("app").request("get:template", "#tmpl-nf-field-listradio-other-text")(e)
                }
            },
            getCalcValue: function(e) {
                var t = 0;
                if (0 != e.get("options").length) {
                    var i = _.find(e.get("options"), function(t) {
                        return e.get("value") == t.value
                    });
                    void 0 !== i && (t = i.calc)
                }
                return t
            },
            updateCheckedClass: function(e, t) {
                jQuery('[name="' + jQuery(e).attr("name") + '"]').removeClass("nf-checked"), jQuery(e).closest("ul").find("label").removeClass("nf-checked-label"), jQuery(e).addClass("nf-checked"), jQuery(e).closest("li").find('label[for="' + jQuery(e).prop("id") + '"]').addClass("nf-checked-label")
            }
        })
    }), i("controllers/fieldNumber", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("number"), "init:model", this.maybeMinDefault), this.listenTo(nfRadio.channel("number"), "keyup:field", this.validateMinMax)
            },
            maybeMinDefault: function(e) {
                if ("" == e.get("value") && "" == e.get("placeholder")) {
                    var t = e.get("num_min");
                    e.set("placeholder", t)
                }
            },
            validateMinMax: function(e, t) {
                var i = jQuery(e),
                    n = parseFloat(i.val()),
                    r = i.attr("min"),
                    o = i.attr("max"),
                    a = parseFloat(i.attr("step"));
                if (r && n < r) {
                    var l = nfRadio.channel("fields").request("get:field", t.get("id")),
                        s = nfRadio.channel("app").request("get:form", l.get("formID"));
                    nfRadio.channel("fields").request("add:error", t.get("id"), "number-min", s.get("settings").fieldNumberNumMinError)
                } else nfRadio.channel("fields").request("remove:error", t.get("id"), "number-min");
                if (o && n > o) {
                    var l = nfRadio.channel("fields").request("get:field", t.get("id")),
                        s = nfRadio.channel("app").request("get:form", l.get("formID"));
                    nfRadio.channel("fields").request("add:error", t.get("id"), "number-max", s.get("settings").fieldNumberNumMaxError)
                } else nfRadio.channel("fields").request("remove:error", t.get("id"), "number-max");
                var d = Math.round(1e9 * parseFloat(n)),
                    c = Math.round(1e9 * parseFloat(a));
                if (n && 0 != d % c) {
                    var l = nfRadio.channel("fields").request("get:field", t.get("id")),
                        s = nfRadio.channel("app").request("get:form", l.get("formID"));
                    nfRadio.channel("fields").request("add:error", t.get("id"), "number-step", s.get("settings").fieldNumberIncrementBy + a)
                } else nfRadio.channel("fields").request("remove:error", t.get("id"), "number-step")
            }
        })
    }), i("controllers/mirrorField", [], function() {
        var e = nfRadio.channel("fields");
        return Marionette.Object.extend({
            listeningModel: "",
            initialize: function() {
                this.listenTo(e, "init:model", this.registerMirror)
            },
            registerMirror: function(e) {
                if (e.get("mirror_field")) {
                    this.listeningModel = e;
                    var t = e.get("mirror_field");
                    this.listenTo(nfRadio.channel("field-" + t), "change:modelValue", this.changeValue)
                }
            },
            changeValue: function(e) {
                this.listeningModel.set("value", e.get("value")), this.listeningModel.trigger("reRender")
            }
        })
    }), i("controllers/confirmField", [], function() {
        var e = nfRadio.channel("fields"),
            t = "confirm-mismatch";
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(e, "init:model", this.registerConfirm), this.listenTo(e, "keyup:field", this.confirmKeyup)
            },
            registerConfirm: function(e) {
                e.get("confirm_field") && this.listenTo(nfRadio.channel("form"), "loaded", function(t) {
                    this.registerConfirmListeners(e)
                })
            },
            registerConfirmListeners: function(e) {
                var t = nfRadio.channel("form-" + e.get("formID")).request("get:fieldByKey", e.get("confirm_field"));
                void 0 !== t && (t.set("confirm_with", e.get("id")), this.listenTo(nfRadio.channel("field-" + t.get("id")), "change:modelValue", this.changeValue), this.listenTo(nfRadio.channel("field-" + e.get("id")), "change:modelValue", this.changeValue))
            },
            changeValue: function(i) {
                if (void 0 === i.get("confirm_with")) var n = i,
                    r = nfRadio.channel("form-" + i.get("formID")).request("get:fieldByKey", n.get("confirm_field"));
                else var r = i,
                    n = e.request("get:field", r.get("confirm_with"));
                var o = (r.get("id"), n.get("id"));
                if ("" == n.get("value") || n.get("value") == r.get("value")) nfRadio.channel("fields").request("remove:error", o, t);
                else {
                    var a = nfRadio.channel("fields").request("get:field", o),
                        l = nfRadio.channel("app").request("get:form", a.get("formID"));
                    nfRadio.channel("fields").request("add:error", o, t, l.get("settings").confirmFieldErrorMsg)
                }
            },
            confirmKeyup: function(e, i, n) {
                var r = jQuery(e).val();
                if (i.get("confirm_field")) var o = i,
                    a = i.get("id"),
                    l = nfRadio.channel("form-" + i.get("formID")).request("get:fieldByKey", o.get("confirm_field")),
                    s = l.get("value"),
                    d = r;
                else if (i.get("confirm_with")) var o = nfRadio.channel("fields").request("get:field", i.get("confirm_with")),
                    a = o.get("id"),
                    d = o.get("value"),
                    s = d;
                if (void 0 !== o)
                    if ("" == d) nfRadio.channel("fields").request("remove:error", a, t);
                    else if (r == s) nfRadio.channel("fields").request("remove:error", a, t);
                else {
                    var c = nfRadio.channel("fields").request("get:field", a),
                        f = nfRadio.channel("app").request("get:form", c.get("formID"));
                    nfRadio.channel("fields").request("add:error", a, t, f.get("settings").confirmFieldErrorMsg)
                }
            }
        })
    }), i("controllers/updateFieldModel", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                nfRadio.channel("nfAdmin").reply("update:field", this.updateField)
            },
            updateField: function(e, t) {
                e.get("isUpdated") || (e.set("value", t), e.set("isUpdated", !0), _.isArray(t) && e.trigger("change:value", e))
            }
        })
    }), i("controllers/submitButton", ["controllers/submitButton"], function(e) {
        return Marionette.Object.extend({
            bound: {},
            initialize: function() {
                this.listenTo(nfRadio.channel("submit"), "init:model", this.registerHandlers)
            },
            registerHandlers: function(e) {
                if (void 0 !== this.bound[e.get("id")]) return !1;
                this.listenTo(nfRadio.channel("field-" + e.get("id")), "click:field", this.click, this), e.listenTo(nfRadio.channel("form-" + e.get("formID")), "before:submit", this.beforeSubmit, e), e.listenTo(nfRadio.channel("form-" + e.get("formID")), "submit:failed", this.resetLabel, e), e.listenTo(nfRadio.channel("form-" + e.get("formID")), "submit:response", this.resetLabel, e), e.listenTo(nfRadio.channel("form-" + e.get("formID")), "enable:submit", this.maybeEnable, e), e.listenTo(nfRadio.channel("form-" + e.get("formID")), "disable:submit", this.maybeDisable, e), e.listenTo(nfRadio.channel("form-" + e.get("formID")), "processingLabel", this.processingLabel, e), e.listenTo(nfRadio.channel("fields"), "add:error", this.maybeDisable, e), e.listenTo(nfRadio.channel("fields"), "remove:error", this.maybeEnable, e), this.bound[e.get("id")] = !0
            },
            click: function(e, t) {
                var i = nfRadio.channel("app").request("get:form", t.get("formID"));
                nfRadio.channel("form-" + t.get("formID")).request("submit", i)
            },
            beforeSubmit: function() {
                this.set("disabled", !0), nfRadio.channel("form-" + this.get("formID")).trigger("processingLabel", this)
            },
            maybeDisable: function(e) {
                void 0 !== e && e.get("formID") != this.get("formID") || (this.set("disabled", !0), this.trigger("reRender"))
            },
            maybeEnable: function(e) {
                if (void 0 !== e && e.get("formID") != this.get("formID")) return !1;
                var t = nfRadio.channel("app").request("get:form", this.get("formID"));
                0 == _.size(t.get("fieldErrors")) && (this.set("disabled", !1), this.trigger("reRender"))
            },
            processingLabel: function() {
                if (this.get("label") == this.get("processing_label")) return !1;
                this.set("oldLabel", this.get("label")), this.set("label", this.get("processing_label")), this.trigger("reRender")
            },
            resetLabel: function(e) {
                void 0 !== e.errors && void 0 !== e.errors.nonce && _.size(e.errors.nonce) > 0 && void 0 !== e.errors.nonce.new_nonce && void 0 !== e.errors.nonce.nonce_ts || (void 0 !== this.get("oldLabel") && this.set("label", this.get("oldLabel")), this.set("disabled", !1), this.trigger("reRender"))
            }
        })
    }), i("controllers/submitDebug", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("forms"), "submit:response", this.submitDebug)
            },
            submitDebug: function(e, t, i, n) {
                if (void 0 !== e.debug) {
                    if (void 0 !== e.debug.form) {
                        var r = document.createElement("span");
                        _.each(e.debug.form, function(e, t) {
                            var i = document.createTextNode(e);
                            r.appendChild(i), r.appendChild(document.createElement("br"))
                        }), jQuery(".nf-debug-msg").html(r)
                    }
                   
                }
            }
        })
    }), i("controllers/getFormErrors", [], function() {
        nfRadio.channel("fields");
        return Marionette.Object.extend({
            initialize: function(e) {
                nfRadio.channel("form").reply("get:errors", this.getFormErrors)
            },
            getFormErrors: function(e) {
                var t = nfRadio.channel("app").request("get:form", e),
                    i = !1;
                return t && (0 !== t.get("errors").length && _.each(t.get("errors").models, function(e) {
                    i = i || {}, i[e.get("id")] = e.get("msg")
                }), _.each(t.get("fields").models, function(e) {
                    "submit" != e.get("type") && e.get("errors").length > 0 && (i = i || {}, i[e.get("id")] = e.get("errors"))
                })), i
            }
        })
    }), i("controllers/validateRequired", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("fields"), "blur:field", this.validateRequired), this.listenTo(nfRadio.channel("fields"), "change:field", this.validateRequired), this.listenTo(nfRadio.channel("fields"), "keyup:field", this.validateKeyup), this.listenTo(nfRadio.channel("fields"), "change:modelValue", this.validateModelData), this.listenTo(nfRadio.channel("submit"), "validate:field", this.validateModelData)
            },
            validateKeyup: function(e, t, i) {
                if (1 != t.get("required")) return !1;
                t.get("clean") || this.validateRequired(e, t)
            },
            validateRequired: function(e, t) {
                if (1 != t.get("required") || !t.get("visible")) return !1;
                var i = jQuery(e).val(),
                    n = nfRadio.channel(t.get("type")).request("validate:required", e, t),
                    r = !0,
                    o = t.get("mask");
                if (o && (o = o.replace(/9/g, "_"), o = o.replace(/a/g, "_"), o = o.replace(/\*/g, "_")), o && i === o && 0 < t.get("errors").length && (r = !1), jQuery.trim(i) || (r = !1), void 0 !== n) var a = n;
                else var a = r;
                this.maybeError(a, t)
            },
            validateModelData: function(e) {
                if (1 != e.get("required") || !e.get("visible") || e.get("clean")) return !1;
                if (e.get("errors").get("required-error")) return !1;
                currentValue = e.get("value");
                var t = !0;
                jQuery.trim(currentValue) || (t = !1);
                var i = nfRadio.channel(e.get("type")).request("validate:modelData", e);
                if (void 0 !== i) var n = i;
                else var n = t;
                this.maybeError(n, e)
            },
            maybeError: function(e, t) {
                if (e) nfRadio.channel("fields").request("remove:error", t.get("id"), "required-error");
                else {
                    var i = nfRadio.channel("form-" + t.get("formID")).request("get:form");
                    void 0 !== i && nfRadio.channel("fields").request("add:error", t.get("id"), "required-error", i.get("settings").validateRequiredField)
                }
            }
        })
    }), i("controllers/submitError", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("forms"), "submit:response", this.submitErrors)
            },
            submitErrors: function(e, t, i, n) {
                if (_.size(e.errors.nonce) > 0 && void 0 !== e.errors.nonce.new_nonce && void 0 !== e.errors.nonce.nonce_ts) {
                    nfFrontEnd.ajaxNonce = e.errors.nonce.new_nonce, nfFrontEnd.nonce_ts = e.errors.nonce.nonce_ts;
                    var r = nfRadio.channel("app").request("get:form", n);
                    nfRadio.channel("form-" + n).request("submit", r)
                }
                if (_.size(e.errors.fields) > 0 && _.each(e.errors.fields, function(e, t) {
                        "object" == typeof e ? nfRadio.channel("fields").request("add:error", t, e.slug, e.message) : nfRadio.channel("fields").request("add:error", t, "required-error", e)
                    }), _.size(e.errors.form) > 0 && _.each(e.errors.form, function(e, t) {
                        nfRadio.channel("form-" + n).request("remove:error", t), nfRadio.channel("form-" + n).request("add:error", t, e)
                    }), void 0 !== e.errors.last && void 0 !== e.errors.last.message) {
                    var o = "background: rgba( 255, 207, 115, .5 ); color: #FFA700; display: block;";
                 
                }
                jQuery("#nf-form-" + n + "-cont .nf-field-container").show()
            }
        })
    }), i("controllers/actionRedirect", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("forms"), "submit:response", this.actionRedirect)
            },
            actionRedirect: function(e) {
                void 0 !== e.data.halt && void 0 !== e.data.halt.redirect && "" != e.data.halt.redirect && (window.location = e.data.halt.redirect), 0 == _.size(e.errors) && void 0 !== e.data.actions && void 0 !== e.data.actions.redirect && "" != e.data.actions.redirect && (window.location = e.data.actions.redirect)
            }
        })
    }), i("controllers/actionSuccess", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("forms"), "submit:response", this.actionSubmit)
            },
            actionSubmit: function(e) {
                if (0 == _.size(e.errors) && void 0 !== e.data.actions && void 0 !== e.data.actions.success_message && "" != e.data.actions.success_message) {
                    var t = e.data.form_id,
                        i = jQuery("#nf-form-" + t + "-cont .nf-response-msg");
                    i.html(e.data.actions.success_message).show();
                    var n = i.offset().top,
                        r = i.offset().top + i.outerHeight(),
                        o = jQuery(window).scrollTop() + jQuery(window).height(),
                        a = jQuery(window).scrollTop();
                    o > r && a < n || jQuery("html, body").animate({
                        scrollTop: i.offset().top - 50
                    }, 300)
                }
            }
        })
    }), i("controllers/fieldSelect", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("fields"), "init:model", function(e) {
                    "list" == e.get("parentType") && this.register(e)
                }, this), nfRadio.channel("listselect").reply("get:calcValue", this.getCalcValue, this), nfRadio.channel("listmultiselect").reply("get:calcValue", this.getCalcValue, this)
            },
            register: function(e) {
                if (e.set("renderOptions", this.renderOptions), e.set("renderOtherAttributes", this.renderOtherAttributes), 0 != e.get("options").length) {
                    var t = e.get("value");
                    if ("listmultiselect" == e.get("type")) {
                        var i = _.filter(e.get("options"), function(e) {
                            return 1 == e.selected
                        });
                        i = _.map(i, function(e) {
                            return e.value
                        });
                        var n = i
                    } else if ("listradio" !== e.get("type")) {
                        var i = _.find(e.get("options"), function(e) {
                            return 1 == e.selected
                        });
                        if (void 0 === i && (i = _.first(e.get("options"))), void 0 !== i && void 0 !== i.value) var n = i.value;
                        else if (void 0 !== i) var n = i.label
                    }
                    void 0 !== t && "" !== t && Array.isArray(t) ? e.set("value", t) : void 0 !== i && e.set("value", n)
                }
            },
            renderOptions: function() {
                var e = "";
                return _.each(this.options, function(t) {
                    if (_.isArray(this.value)) {
                        if ("listmultiselect" === this.type && 0 < this.value.length && -1 != _.indexOf(this.value[0].split(","), t.value)) var i = !0;
                        else if (-1 != _.indexOf(this.value, t.value)) var i = !0
                    } else if (_.isArray(this.value) || t.value != this.value)
                        if (1 == t.selected && this.clean && void 0 === this.value) var i = !0;
                        else var i = !1;
                    else var i = !0;
                    void 0 === t.visible && (t.visible = !0), t.selected = i, t.fieldID = this.id, t.classes = this.classes, t.currentValue = this.value;
                    var n = nfRadio.channel("app").request("get:template", "#tmpl-nf-field-listselect-option");
                    e += n(t)
                }, this), e
            },
            renderOtherAttributes: function() {
                var e = "";
                if ("listmultiselect" == this.type) {
                    e += " multiple";
                    e = e + ' size="' + (this.multi_size || 5) + '"'
                }
                return e
            },
            getCalcValue: function(e) {
                var t = 0,
                    i = e.get("options");
                if (0 != i.length)
                    if ("listmultiselect" == e.get("type")) _.each(e.get("value"), function(e) {
                        var n = _.find(i, function(t) {
                            return t.value == e
                        });
                        t += Number(n.calc)
                    });
                    else {
                        var n = _.find(i, function(t) {
                            return e.get("value") == t.value
                        });
                        void 0 === n && (n = e.get("options")[0]), t = n.calc
                    }
                return t
            }
        })
    }), i("controllers/coreSubmitResponse", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("forms"), "submit:response", this.actionSubmit)
            },
            actionSubmit: function(e) {
                var t = nfRadio.channel("app").request("get:form", e.data.form_id);
                if (0 != _.size(e.errors)) return !1;
                1 == e.data.settings.clear_complete && (t.get("fields").reset(t.get("loadedFields")), 1 != e.data.settings.hide_complete && nfRadio.channel("captcha").trigger("reset")), 1 == e.data.settings.hide_complete && t.trigger("hide")
            }
        })
    }), i("controllers/fieldProduct", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("product"), "init:model", this.register), nfRadio.channel("product").reply("get:calcValue", this.getCalcValue, this)
            },
            register: function(e) {
                e.set("renderProductQuantity", this.renderProductQuantity), e.set("renderProduct", this.renderProduct), e.set("renderOptions", this.renderOptions)
            },
            renderProduct: function() {
                switch (this.product_type) {
                    case "user":
                        var e = nfRadio.channel("app").request("get:template", "#tmpl-nf-field-textbox");
                        return e(this);
                    case "hidden":
                        var e = nfRadio.channel("app").request("get:template", "#tmpl-nf-field-hidden");
                        return e(this);
                    case "dropdown":
                        var e = nfRadio.channel("app").request("get:template", "#tmpl-nf-product-dropdown");
                        return e(this);
                    default:
                        var e = nfRadio.channel("app").request("get:template", "#tmpl-nf-product-single");
                        return e(this)
                }
            },
            renderProductQuantity: function() {
                if (1 == this.product_use_quantity) {
                    return nfRadio.channel("app").request("get:template", "#tmpl-nf-product-quantity")(this)
                }
            },
            renderOptions: function() {
                var e = this,
                    t = "";
                return _.each(this.options, function(i) {
                    if (1 == i.selected) var n = !0;
                    else var n = !1;
                    i.selected = n, i.fieldID = e.id, i.classes = e.classes, i.currentValue = e.value;
                    var r = nfRadio.channel("app").request("get:template", "#tmpl-nf-product-" + e.product_type + "-option");
                    t += r(i)
                }), t
            },
            getCalcValue: function(e) {
                return e.get("product_price") * e.get("value")
            }
        })
    }), i("controllers/fieldTotal", [], function() {
        return Marionette.Object.extend({
            totalModel: {},
            productTotals: {},
            initialize: function() {
                this.listenTo(nfRadio.channel("total"), "init:model", this.register), this.listenTo(nfRadio.channel("shipping"), "init:model", this.registerShipping)
            },
            register: function(e) {
                this.totalModel = e;
                var t = e.get("formID");
                this.listenTo(nfRadio.channel("form-" + t), "loaded", this.onFormLoaded), this.listenTo(nfRadio.channel("product"), "change:modelValue", this.onChangeProduct), this.listenTo(nfRadio.channel("quantity"), "change:modelValue", this.onChangeQuantity)
            },
            registerShipping: function(e) {
                this.shippingCost = e.get("shipping_cost")
            },
            onFormLoaded: function(e) {
                var t = e.get("fields").models,
                    i = {},
                    n = {};
                for (var r in t) {
                    var o = t[r],
                        a = o.get("id");
                    if ("product" == o.get("type")) i[a] = o;
                    else if ("quantity" == o.get("type")) {
                        var l = o.get("product_assignment");
                        n[l] = o
                    }
                }
                for (var l in i) {
                    var s = i[l],
                        d = Number(s.get("product_price"));
                    n[l] ? d *= n[l].get("value") : 1 == s.get("product_use_quantity") && (d *= s.get("value")), this.productTotals[l] = d
                }
                this.updateTotal()
            },
            onChangeProduct: function(e) {
                var t = e.get("id"),
                    i = Number(e.get("product_price")),
                    n = Number(e.get("value")),
                    r = n * i;
                this.productTotals[t] = r, this.updateTotal()
            },
            onChangeQuantity: function(e) {
                var t = e.get("product_assignment"),
                    i = nfRadio.channel("fields").request("get:field", t),
                    n = Number(i.get("product_price")),
                    r = Number(e.get("value")),
                    o = r * n;
                this.productTotals[t] = o, this.updateTotal()
            },
            updateTotal: function() {
                var e = 0;
                for (var t in this.productTotals) e += Number(this.productTotals[t]);
                e && this.shippingCost && (e += Number(this.shippingCost)), this.totalModel.set("value", e.toFixed(2)), this.totalModel.trigger("reRender")
            }
        })
    }), i("controllers/fieldQuantity", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("quantity"), "init:model", this.registerQuantity)
            },
            registerQuantity: function(e) {
                var t = e.get("product_assignment"),
                    i = nfRadio.channel("fields").request("get:field", t);
                i && i.set("product_use_quantity", 0)
            }
        })
    }), i("models/calcModel", [], function() {
        return Backbone.Model.extend({
            initialize: function() {
                this.set("formID", this.collection.options.formModel.get("id")), this.set("fields", {}), nfRadio.channel("calc").trigger("init:model", this), this.on("change:value", this.changeValue, this)
            },
            changeField: function(e) {
                nfRadio.channel("calc").trigger("change:field", this, e)
            },
            changeCalc: function(e) {
                nfRadio.channel("calc").trigger("change:calc", this, e)
            },
            changeValue: function() {
                nfRadio.channel("calc").trigger("change:value", this)
            }
        })
    }), i("models/calcCollection", ["models/calcModel"], function(e) {
        return Backbone.Collection.extend({
            model: e,
            comparator: "order",
            initialize: function(e, t) {
                this.options = t, _.each(e, function(e) {
                    void 0 !== e.dec && ("" === e.dec.toString().trim() && (e.dec = 2), e.dec = parseInt(e.dec))
                }), nfRadio.channel("form-" + t.formModel.get("id")).reply("get:calc", this.getCalc, this)
            },
            getCalc: function(e) {
                return this.findWhere({
                    name: e
                })
            }
        })
    }), i("controllers/calculations", ["models/calcCollection"], function(e) {
        return Marionette.Object.extend({
            initialize: function() {
                this.calcs = {}, this.displayFields = {}, this.listenTo(nfRadio.channel("form"), "loaded", this.registerCalcs), this.listenTo(nfRadio.channel("fields"), "reset:collection", this.resetCalcs), this.listenTo(nfRadio.channel("calc"), "change:field", this.changeField), this.listenTo(nfRadio.channel("calc"), "change:calc", this.changeCalc);
                var e = this;
                _.each(nfFrontEnd.use_merge_tags.calculations, function(t) {
                    e.listenTo(nfRadio.channel("fields-" + t), "init:model", e.initDisplayField)
                }), this.listenTo(nfRadio.channel("calc"), "change:value", this.updateDisplayFields), this.init = {}
            },
            resetCalcs: function(e) {
                void 0 !== e.options.formModel && this.registerCalcs(e.options.formModel)
            },
            registerCalcs: function(t) {
                var i = new e(t.get("settings").calculations, {
                    formModel: t
                });
                this.calcs[t.get("id")] = i;
                var n = this;
                _.each(i.models, function(e) {
                    n.init[e.get("name")] = !0, n.setupCalc(e)
                })
            },
            setupCalc: function(e) {
                var t = this,
                    i = e.get("eq"),
                    n = i,
                    r = (e.get("name"), i.match(new RegExp(/{field:(.*?)}/g)));
                r && (r = r.map(function(i) {
                    var r = i.replace(":calc}", "").replace("}", "").replace("{field:", "");
                    if (fieldModel = nfRadio.channel("form-" + e.get("formID")).request("get:fieldByKey", r), "undefined" != typeof fieldModel) {
                        fieldModel.set("clean", !1), fieldModel.on("change:value", e.changeField, e);
                        var o = t.getCalcValue(fieldModel);
                        t.updateCalcFields(e, r, o), n = t.replaceKey("field", r, o, n)
                    }
                }));
                var o = i.match(new RegExp(/{calc:(.*?)}/g));
                o && (o = o.map(function(i) {
                    var r = i.replace("}", "").replace("{calc:", ""),
                        o = e.collection.findWhere({
                            name: r
                        });
                    if (void 0 !== o) {
                        o.on("change:value", e.changeCalc, e);
                        var a = o.get("value");
                        n = t.replaceKey("calc", r, a, n)
                    }
                })), n = n.replace(/{([a-zA-Z0-9]|:|_|-)*}/g, 0), n = n.replace(/\r?\n|\r/g, "");
                try {
                    this.debug("Calculation Decoder " + n + " -> " + this.localeDecodeEquation(n) + " (Setup)"), e.set("value", Number(mexp.eval(this.localeDecodeEquation(n))).toFixed(e.get("dec")))
                } catch (e) {
                    console.log(e)
                }
                "NaN" === e.get("value") && e.set("value", "0")
            },
            updateCalcFields: function(e, t, i) {
                var n = e.get("fields");
                n[t] = i, e.set("fields", n)
            },
            getCalcValue: function(e) {
                var t = nfRadio.channel(e.get("type")).request("get:calcValue", e),
                    i = new n(nfi18n.siteLocale, nfi18n.thousands_sep, nfi18n.decimal_point),
                    r = t || e.get("value"),
                    o = i.numberDecoder(r),
                    a = i.numberEncoder(r);
                return t = void 0 !== o && jQuery.isNumeric(o) ? a : 0, e.get("visible") || (t = 0), t
            },
            replaceKey: function(e, t, i, n) {
                n = n || calcModel.get("eq"), tag = "{" + e + ":" + t + "}";
                var r = new RegExp(tag, "g");
                calcTag = "{" + e + ":" + t + ":calc}";
                var o = new RegExp(calcTag, "g");
                return n = n.replace(r, i), n = n.replace(o, i)
            },
            replaceAllKeys: function(e) {
                var t = e.get("eq"),
                    i = this;
                _.each(e.get("fields"), function(e, n) {
                    t = i.replaceKey("field", n, e, t)
                });
                var n = t.match(new RegExp(/{calc:(.*?)}/g));
                return n && _.each(n, function(i) {
                    var n = i.replace("}", "").replace("{calc:", ""),
                        r = e.collection.findWhere({
                            name: n
                        });
                    if (void 0 !== r) {
                        var o = new RegExp(i, "g");
                        t = t.replace(o, r.get("value"))
                    }
                }), t
            },
            changeField: function(e, t) {
                var i = t.get("key"),
                    n = this.getCalcValue(t);
                this.updateCalcFields(e, i, n);
                var r = this.replaceAllKeys(e);
                r = r.replace(/{([a-zA-Z0-9]|:|_|-)*}/g, "0"), r = r.replace(/\r?\n|\r/g, "");
                try {
                    this.debug("Calculation Decoder " + r + " -> " + this.localeDecodeEquation(r) + " (Change Field)"), e.set("value", Number(mexp.eval(this.localeDecodeEquation(r))).toFixed(e.get("dec")))
                } catch (e) {
                    this.debug() && console.log(e)
                }
                "NaN" === e.get("value") && e.set("value", "0")
            },
            initDisplayField: function(e) {
                if (e.get("default") && "string" == typeof e.get("default")) {
                    var t = e.get("default").match(new RegExp(/{calc:(.*?)}/g));
                    t && _.each(t, function(t) {
                        t = t.replace("{calc:", "").replace("}", "").replace(":2", ""), this.displayFields[t] = this.displayFields[t] || [], this.displayFields[t].push(e)
                    }, this)
                }
            },
            updateDisplayFields: function(e) {
                var t = this;
                void 0 !== this.displayFields[e.get("name")] && _.each(this.displayFields[e.get("name")], function(i) {
                    var n = "";
                    n = "html" === i.get("type") ? i.get("value") : i.get("default");
                    var r = n.match(new RegExp(/<span data-key="calc:(.*?)<\/span>/g));
                    _.each(r, function(e) {
                        var t = "{" + e.replace('<span data-key="', "").replace(/">(.*?)<\/span>/, "") + "}";
                        n = n.replace(e, t)
                    });
                    var o = n.match(new RegExp(/{calc:(.*?)}/g));
                    _.each(o, function(e) {
                        var r = e.replace("}", "").replace("{calc:", "").replace(":2", ""),
                            o = t.calcs[i.get("formID")].findWhere({
                                name: r
                            }),
                            a = new RegExp(e, "g"),
                            l = o.get("value");
                        void 0 !== l && (l = t.applyLocaleFormatting(l, o)), n = "html" === i.get("type") ? n.replace(a, '<span data-key="calc:' + r + '">' + l + "</span>") : l
                    }), i.set("value", n), t.init[e.get("name")] || i.trigger("reRender"), t.init[e.get("name")] = !1
                })
            },
            getCalc: function(e, t) {
                return this.calcs[t].findWhere({
                    name: e
                })
            },
            changeCalc: function(e, t) {
                var i = this.replaceAllKeys(e);
                i = i.replace("[", "").replace("]", ""), i = i.replace(/\r?\n|\r/g, "");
                try {
                    this.debug("Calculation Decoder " + i + " -> " + this.localeDecodeEquation(i) + " (Change Calc)"), e.set("value", Number(mexp.eval(this.localeDecodeEquation(i))).toFixed(e.get("dec")))
                } catch (e) {
                    console.log(e)
                }
                "NaN" === e.get("value") && e.set("value", "0")
            },
            applyLocaleFormatting: function(e, t) {
                return new n(nfi18n.siteLocale, nfi18n.thousands_sep, nfi18n.decimal_point).numberEncoder(e, t.get("dec"))
            },
            localeDecodeEquation: function(e) {
                var t = "",
                    i = "",
                    r = /[0-9.,]/,
                    o = new n(nfi18n.siteLocale, nfi18n.thousands_sep, nfi18n.decimal_point);
                return e = e.replace(/\s/g, ""), e = e.replace(/&nbsp;/g, ""), e.split("").forEach(function(e) {
                    r.test(e) ? i += e : (0 < i.length && (t += o.numberDecoder(i), i = ""), t += e)
                }), 0 < i.length && (t += o.numberDecoder(i)), t
            },
            debug: function(e) {
                window.nfCalculationsDebug && console.log(e)
            }
        })
    }), i("controllers/fieldDate", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("date"), "render:view", this.initDatepicker)
            },
            initDatepicker: function(e) {
                var t = e.model.get("date_format");
                "" != t && "default" != t || (t = this.convertDateFormat(nfi18n.dateFormat));
                var i = jQuery(e.el).find(".nf-element")[0],
                    n = pikadayResponsive(i, {
                        format: t,
                        outputFormat: t,
                        classes: jQuery(i).attr("class"),
                        placeholder: e.model.get("placeholder"),
                        pikadayOptions: {
                            yearRange: this.getYearRange(e.model),
                            minDate: this.getMinDate(e.model),
                            maxDate: this.getMaxDate(e.model),
                            firstDay: parseInt(nfi18n.startOfWeek)
                        }
                    });
                1 == e.model.get("date_default") && n.setDate(moment()), nfRadio.channel("pikaday").trigger("init", n, e.model)
            },
            getYearRange: function(e) {
                var t = e.get("year_range_start"),
                    i = e.get("year_range_end");
                return t && i ? [t, i] : t ? (i = t + 10, [t, i]) : i ? (t = i - 10, [t, i]) : 10
            },
            getMinDate: function(e) {
                var t = e.get("year_range_start");
                return t ? new Date(t, 0, 1) : null
            },
            getMaxDate: function(e) {
                var t = e.get("year_range_end");
                return t ? new Date(t, 11, 31) : null
            },
            convertDateFormat: function(e) {
                return e = e.replace("D", "ddd"), e = e.replace("d", "DD"), e = e.replace("l", "dddd"), e = e.replace("j", "D"), e = e.replace("N", ""), e = e.replace("S", ""), e = e.replace("w", "d"), e = e.replace("z", ""), e = e.replace("W", "W"), e = e.replace("M", "MMM"), e = e.replace("F", "MMMM"), e = e.replace("m", "MM"), e = e.replace("n", "M"), e = e.replace("t", ""), e = e.replace("L", ""), e = e.replace("o", "YYYY"), e = e.replace("Y", "YYYY"), e = e.replace("y", "YY"), e = e.replace("a", ""), e = e.replace("A", ""), e = e.replace("B", ""), e = e.replace("g", ""), e = e.replace("G", ""), e = e.replace("h", ""), e = e.replace("H", ""), e = e.replace("i", ""), e = e.replace("s", ""), e = e.replace("u", ""), e = e.replace("v", ""), e = e.replace("e", ""), e = e.replace("I", ""), e = e.replace("O", ""), e = e.replace("P", ""), e = e.replace("T", ""), e = e.replace("Z", ""), e = e.replace("c", ""), e = e.replace("r", ""), e = e.replace("u", "")
            }
        })
    }), i("controllers/fieldRecaptcha", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("recaptcha"), "init:model", this.initRecaptcha), this.listenTo(nfRadio.channel("forms"), "submit:response", this.resetRecaptcha)
            },
            initRecaptcha: function(e) {
                nfRadio.channel("recaptcha").reply("update:response", this.updateResponse, this, e.id)
            },
            updateResponse: function(e, t) {
                var i = nfRadio.channel("fields").request("get:field", t);
                i.set("value", e), nfRadio.channel("fields").request("remove:error", i.get("id"), "required-error")
            },
            resetRecaptcha: function() {
                var e = 0;
                jQuery(".g-recaptcha").each(function() {
                    try {
                        grecaptcha.reset(e)
                    } catch (e) {
                        console.log("Notice: Error trying to reset grecaptcha.")
                    }
                    e++
                })
            }
        })
    }), i("controllers/fieldHTML", [], function() {
        return Marionette.Object.extend({
            htmlFields: [],
            trackedMergeTags: [],
            initialize: function() {
                this.listenTo(Backbone.Radio.channel("fields-html"), "init:model", this.setupFieldMergeTagTracking)
            },
            setupFieldMergeTagTracking: function(e) {
                this.htmlFields.push(e);
                var t = e.get("formID");
                this.listenTo(nfRadio.channel("form-" + t), "init:model", function(t) {
                    var i = e.get("default").match(new RegExp(/{field:(.*?)}/g));
                    i && (_.each(i, function(e) {
                        var i = e.replace("{field:", "").replace("}", ""),
                            n = t.get("fields").findWhere({
                                key: i
                            });
                        void 0 !== n && (this.trackedMergeTags.push(n), this.listenTo(nfRadio.channel("field-" + n.get("id")), "change:modelValue", this.updateFieldMergeTags))
                    }, this), this.updateFieldMergeTags())
                }, this)
            },
            updateFieldMergeTags: function(e) {
                _.each(this.htmlFields, function(e) {
                    var t = e.get("value");
                    _.each(this.trackedMergeTags, function(e) {
                        var i = t.match(new RegExp(/<span data-key="field:(.*?)<\/span>/g));
                        _.each(i, function(i) {
                            -1 < i.indexOf('data-key="field:' + e.get("key")) && (t = t.replace(i, "{field:" + e.get("key") + "}"))
                        });
                        var n = "{field:" + e.get("key") + "}";
                        t = t.replace(n, '<span data-key="field:' + e.get("key") + '">' + e.get("value") + "</span>")
                    }, this), e.set("value", t), e.trigger("reRender")
                }, this)
            }
        })
    }), i("controllers/helpText", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("form"), "render:view", this.initHelpText), nfRadio.channel("form").reply("init:help", this.initHelpText)
            },
            initHelpText: function(e) {
                jQuery(e.el).find(".nf-help").each(function() {
                    jQuery(this).jBox("Tooltip", {
                        theme: "TooltipBorder",
                        content: jQuery(this).data("text")
                    })
                })
            }
        })
    }), i("controllers/fieldTextbox", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                nfRadio.channel("textbox").reply("get:calcValue", this.getCalcValue, this)
            },
            getCalcValue: function(e) {
                if ("currency" == e.get("mask")) {
                    var t = nfRadio.channel("app").request("get:form", e.get("formID")),
                        i = void 0 !== t ? t.get("currencySymbol") : "",
                        n = jQuery("<textarea />").html(i).text();
                    return e.get("value").replace(n, "")
                }
                return e.get("value")
            }
        })
    }), i("controllers/fieldTextareaRTE", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("textarea"), "render:view", this.initTextareaRTEs), this.listenTo(nfRadio.channel("textarea"), "click:extra", this.clickExtra), this.meta_image_frame, this.currentContext = {}, void 0 !== jQuery.summernote && (jQuery.summernote.options.icons = {
                    align: "dashicons dashicons-editor-alignleft",
                    alignCenter: "dashicons dashicons-editor-aligncenter",
                    alignJustify: "dashicons dashicons-editor-justify",
                    alignLeft: "dashicons dashicons-editor-alignleft",
                    alignRight: "dashicons dashicons-editor-alignright",
                    indent: "dashicons dashicons-editor-indent",
                    outdent: "dashicons dashicons-editor-outdent",
                    bold: "dashicons dashicons-editor-bold",
                    caret: "dashicons dashicons-arrow-down",
                    close: "dashicons dashicons-dismiss",
                    code: "dashicons dashicons-editor-code",
                    eraser: "dashicons dashicons-editor-removeformatting",
                    italic: "dashicons dashicons-editor-italic",
                    link: "dashicons dashicons-admin-links",
                    unlink: "dashicons dashicons-editor-unlink",
                    magic: "dashicons dashicons-editor-paragraph",
                    minus: "dashicons dashicons-minus",
                    orderedlist: "dashicons dashicons-editor-ol",
                    redo: "dashicons dashicons-redo",
                    square: "dashicons fa-square",
                    table: "dashicons dashicons-editor-table",
                    underline: "dashicons dashicons-editor-underline",
                    undo: "dashicons dashicons-undo",
                    unorderedlist: "dashicons dashicons-editor-ul"
                })
            },
            initTextareaRTEs: function(e) {
                if (1 != e.model.get("textarea_rte")) return !1;
                var t = this,
                    i = function(e) {
                        return t.linkButton(e)
                    },
                    n = function(e) {
                        return t.mediaButton(e)
                    },
                    r = [
                        ["paragraphStyle", ["style"]],
                        ["fontStyle", ["bold", "italic", "underline", "clear"]],
                        ["lists", ["ul", "ol"]],
                        ["paragraph", ["paragraph"]],
                        ["customGroup", ["linkButton", "unlink"]],
                        ["table", ["table"]],
                        ["actions", ["undo", "redo"]]
                    ];
                1 == e.model.get("textarea_media") && 0 != userSettings.uid && r.push(["tools", ["mediaButton"]]), jQuery(e.el).find(".nf-element").summernote({
                    toolbar: r,
                    buttons: {
                        linkButton: i,
                        mediaButton: n
                    },
                    height: 150,
                    codemirror: {
                        theme: "monokai",
                        lineNumbers: !0
                    },
                    prettifyHtml: !0,
                    callbacks: {
                        onChange: function(t) {
                            e.model.set("value", jQuery(this).summernote("code"))
                        }
                    }
                });
                var o = jQuery(e.el).find(".link-button").next(".dropdown-menu").find("button");
                o.replaceWith(function() {
                    return jQuery("<div/>", {
                        class: jQuery(o).attr("class"),
                        html: this.innerHTML
                    })
                })
            },
            linkButton: function(e) {
                var t = this,
                    i = jQuery.summernote.ui,
                    n = nfRadio.channel("app").request("get:template", "#tmpl-nf-rte-link-button"),
                    r = nfRadio.channel("app").request("get:template", "#tmpl-nf-rte-link-dropdown");
                return i.buttonGroup([i.button({
                    className: "dropdown-toggle link-button",
                    contents: n({}),
                    tooltip: nfi18n.fieldTextareaRTEInsertLink,
                    click: function(i) {
                        t.clickLinkButton(i, e)
                    },
                    data: {
                        toggle: "dropdown"
                    }
                }), i.dropdown([i.buttonGroup({
                    children: [i.button({
                        contents: r({}),
                        tooltip: ""
                    })]
                })])]).render()
            },
            mediaButton: function(e) {
                var t = this,
                    i = jQuery.summernote.ui,
                    n = nfRadio.channel("app").request("get:template", "#tmpl-nf-rte-media-button");
                return i.button({
                    className: "dropdown-toggle",
                    contents: n({}),
                    tooltip: nfi18n.fieldTextareaRTEInsertMedia,
                    click: function(i) {
                        t.openMediaManager(i, e)
                    }
                }).render()
            },
            openMediaManager: function(e, t) {
                if (t.invoke("editor.saveRange"), this.meta_image_frame) return void this.meta_image_frame.open();
                this.meta_image_frame = wp.media.frames.meta_image_frame = wp.media({
                    title: nfi18n.fieldTextareaRTESelectAFile,
                    button: {
                        text: "insert"
                    }
                });
                var i = this;
                this.meta_image_frame.on("select", function() {
                    var e = i.meta_image_frame.state().get("selection").first().toJSON();
                    i.insertMedia(e, t)
                }), this.meta_image_frame.open()
            },
            clickLinkButton: function(e, t) {
                var i = t.invoke("editor.createRange");
                t.invoke("editor.saveRange");
                var n = i.toString();
                this.currentContext = t, jQuery(e.target).closest(".note-customGroup > .note-btn-group").on("hide.bs.dropdown", function(e) {
                    return !1
                }), jQuery(e.target).closest(".note-customGroup > .note-btn-group").on("shown.bs.dropdown", function(e) {
                    jQuery(e.target).parent().parent().find(".link-text").val(n), jQuery(e.target).parent().parent().find(".link-url").focus()
                })
            },
            clickExtra: function(e) {
                var t = jQuery(e.target).parent().find(".link-text"),
                    i = jQuery(e.target).parent().find(".link-url"),
                    n = jQuery(e.target).parent().find(".link-new-window");
                if (this.currentContext.invoke("editor.restoreRange"), jQuery(e.target).hasClass("insert-link")) {
                    var r = t.val(),
                        o = i.val(),
                        a = !!n.prop("checked");
                    0 != r.length && 0 != o.length && this.currentContext.invoke("editor.createLink", {
                        text: r,
                        url: o,
                        isNewWindow: a
                    })
                }
                t.val(""), i.val(""), n.prop("checked", !1), jQuery(e.target).closest("div.note-btn-group.open").removeClass("open")
            },
            insertMedia: function(e, t) {
                t.invoke("editor.restoreRange"), "image" == e.type ? t.invoke("editor.insertImage", e.url) : t.invoke("editor.createLink", {
                    text: e.filename,
                    url: e.url
                })
            }
        })
    }), i("controllers/fieldStarRating", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("starrating"), "init:model", this.register), this.listenTo(nfRadio.channel("starrating"), "render:view", this.initRating)
            },
            register: function(e) {
                e.set("renderRatings", this.renderRatings)
            },
            initRating: function(e) {
                jQuery(e.el).find(".starrating").rating()
            },
            renderRatings: function() {
                for (var e = document.createElement("span"), t = 0; t <= this.number_of_stars - 1; t++) {
                    var i = nfRadio.channel("app").request("get:template", "#tmpl-nf-field-starrating-star"),
                        n = t + 1,
                        r = "";
                    this.value == n && (r = "checked");
                    var o = i({
                        id: this.id,
                        classes: this.classes,
                        num: n,
                        checked: r,
                        required: this.required
                    });
                    e.appendChild(document.createRange().createContextualFragment(o))
                }
                return e.innerHTML
            }
        })
    }), i("controllers/fieldTerms", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("terms"), "init:model", this.register)
            },
            register: function(e) {
                this.listenTo(nfRadio.channel("field-" + e.get("id")), "click:extra", this.clickExtra), this.listenTo(nfRadio.channel("field-" + e.get("id")), "keyup:field", this.keyUpExtra)
            },
            clickExtra: function(e, t) {
                var i = jQuery(e.currentTarget),
                    n = i.parent().find(".extra-value").val();
                this.addOption(t, n)
            },
            keyUpExtra: function(e, t, i) {
                13 == i && this.addOption(t, e.val())
            },
            addOption: function(e, t) {
                if (t) {
                    var i = e.get("options"),
                        n = {
                            label: t,
                            value: t,
                            selected: 0
                        };
                    i.push(n);
                    e.get("value").push(t), e.trigger("reRender")
                }
            }
        })
    }), i("controllers/formContentFilters", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.viewFilters = [], this.loadFilters = [], nfRadio.channel("formContent").reply("add:viewFilter", this.addViewFilter, this), nfRadio.channel("formContent").reply("add:loadFilter", this.addLoadFilter, this), nfRadio.channel("formContent").reply("get:viewFilters", this.getViewFilters, this), nfRadio.channel("formContent").reply("get:loadFilters", this.getLoadFilters, this), nfRadio.channel("fieldContents").reply("add:viewFilter", this.addViewFilter, this), nfRadio.channel("fieldContents").reply("add:loadFilter", this.addLoadFilter, this), nfRadio.channel("fieldContents").reply("get:viewFilters", this.getViewFilters, this), nfRadio.channel("fieldContents").reply("get:loadFilters", this.getLoadFilters, this)
            },
            addViewFilter: function(e, t) {
                this.viewFilters[t] = e
            },
            getViewFilters: function() {
                return this.viewFilters
            },
            addLoadFilter: function(e, t) {
                this.loadFilters[t] = e
            },
            getLoadFilters: function() {
                return this.loadFilters
            }
        })
    }), i("views/fieldItem", [], function() {
        return Marionette.ItemView.extend({
            tagName: "div",
            initialize: function() {
                this.listenTo(this.model, "reRender", this.render, this), this.listenTo(this.model, "change:addWrapperClass", this.addWrapperClass, this), this.listenTo(this.model, "change:removeWrapperClass", this.removeWrapperClass, this), this.listenTo(this.model, "change:invalid", this.toggleAriaInvalid, this), this.template = "#tmpl-nf-field-" + this.model.get("wrap_template")
            },
            test: function(e) {
                console.log("firing from trigger 1")
            },
            addWrapperClass: function() {
                var e = this.model.get("addWrapperClass");
                "" != e && (jQuery(this.el).addClass(e), this.model.set("addWrapperClass", ""))
            },
            removeWrapperClass: function() {
                var e = this.model.get("removeWrapperClass");
                "" != e && (jQuery(this.el).removeClass(e), this.model.set("removeWrapperClass", ""))
            },
            toggleAriaInvalid: function() {
                var e = this.model.get("invalid");
                jQuery("[aria-invalid]", this.el).attr("aria-invalid", JSON.stringify(e))
            },
            onRender: function() {
                if (this.$el = this.$el.children(), this.$el.unwrap(), this.setElement(this.$el), void 0 !== this.model.get("mask") && "" != jQuery.trim(this.model.get("mask"))) {
                    if ("custom" == this.model.get("mask")) var e = this.model.get("custom_mask");
                    else var e = this.model.get("mask");
                    if (Number.isInteger = Number.isInteger || function(e) {
                            return "number" == typeof e && isFinite(e) && Math.floor(e) === e
                        }, Number.isInteger(e) && (e = e.toString()), "currency" == e) {
                        var t = nfRadio.channel("app").request("get:form", this.model.get("formID")),
                            i = t.get("thousands_sep");
                        "&nbsp;" == i && (i = " ");
                        var n = jQuery("<div/>").html(t.get("currencySymbol")).text();
                        i = jQuery("<div/>").html(i).text();
                        var r = jQuery("<div/>").html(t.get("decimal_point")).text(),
                            o = {
                                digitGroupSeparator: i,
                                decimalCharacter: r,
                                currencySymbol: n
                            },
                            a = jQuery(jQuery(this.el).find(".nf-element")[0]);
                        new AutoNumeric(jQuery(this.el).find(".nf-element")[0], o);
                        var l = this;
                        a.on("change", function(e) {
                            l.model.set("value", e.target.value)
                        })
                    } else jQuery(this.el).find(".nf-element").mask(e)
                }
                nfRadio.channel(this.model.get("type")).trigger("render:view", this), nfRadio.channel("fields").trigger("render:view", this)
            },
            templateHelpers: function() {
                var e = this;
                return {
                    renderElement: function() {
                        var e = _.find(this.element_templates, function(e) {
                            if (0 < jQuery("#tmpl-nf-field-" + e).length) return !0
                        });
                        return nfRadio.channel("app").request("get:template", "#tmpl-nf-field-" + e)(this)
                    },
                    renderLabel: function() {
                        return nfRadio.channel("app").request("get:template", "#tmpl-nf-field-label")(this)
                    },
                    renderLabelClasses: function() {
                        var e = "";
                        return void 0 !== this.customLabelClasses && (e = this.customLabelClasses(e)), e
                    },
                    renderPlaceholder: function() {
                        var e = this.placeholder;
                        return void 0 !== this.customPlaceholder && (e = this.customPlaceholder(e)), "" != jQuery.trim(e) ? 'placeholder="' + e + '"' : ""
                    },
                    renderWrapClass: function() {
                        var e = "field-wrap " + this.type + "-wrap";
                        return this.type !== this.parentType && (e = e + " " + this.parentType + "-wrap"), void 0 !== this.old_classname && 0 < jQuery.trim(this.old_classname).length && (e += " " + this.old_classname + "-wrap"), "undefined" != typeof customWrapClass && (e = customWrapClass(e)), e
                    },
                    renderClasses: function() {
                        var e = this.classes;
                        return this.error ? e += " nf-error" : e = e.replace("nf-error", ""), void 0 !== this.element_class && 0 < jQuery.trim(this.element_class).length && (e += " " + this.element_class), void 0 !== this.customClasses && (e = this.customClasses(e)), e
                    },
                    maybeDisabled: function() {
                        return 1 == this.disable_input ? "disabled" : ""
                    },
                    maybeRequired: function() {
                        return 1 == this.required ? "required" : ""
                    },
                    maybeDisableAutocomplete: function() {
                        return 1 == this.disable_browser_autocomplete ? 'autocomplete="off"' : ""
                    },
                    maybeInputLimit: function() {
                        return "characters" == this.input_limit_type && "" != jQuery.trim(this.input_limit) ? 'maxlength="' + this.input_limit + '"' : ""
                    },
                    getHelpText: function() {
                        return void 0 !== this.help_text ? this.help_text : ""
                    },
                    maybeRenderHelp: function() {
                        var e = document.createElement("p");
                        e.innerHTML = this.help_text;
                        var t = !1;
                        if ((0 != jQuery.trim(jQuery(e).text()).length || 0 < jQuery(e).find("img").length) && (t = !0), void 0 !== this.help_text && t) {
                            var i = document.createElement("span");
                            return i.classList.add("fa", "fa-info-circle", "nf-help"), i.setAttribute("data-text", this.getHelpText()), i.outerHTML
                        }
                        return ""
                    },
                    renderDescText: function() {
                        if (void 0 === this.desc_text) return "";
                        var e = document.createElement("p");
                        if (e.innerHTML = this.desc_text, 0 == jQuery.trim(e.innerText).length) return "";
                        var t, i;
                        if (i = document.createTextNode(this.desc_text), t = document.createElement("p"), t.appendChild(i), 0 != jQuery.trim(jQuery(t).text()).length) {
                            var n, r;
                            return n = document.createRange().createContextualFragment(this.desc_text), r = document.createElement("div"), r.classList.add("nf-field-description"), r.appendChild(n), r.outerHTML
                        }
                        return ""
                    },
                    renderNumberDefault: function() {
                        return this.clean ? this.default ? this.default : this.placeholder ? "" : this.value : this.value
                    },
                    renderCurrencyFormatting: function(t) {
                        var i = t.toString().replace(".", "||"),
                            n = i.replace(/\B(?=(\d{3})+(?!\d))/g, nfi18n.thousands_sep),
                            r = n.replace("||", nfi18n.decimal_point);
                        return nfRadio.channel("app").request("get:form", e.model.get("formID")).get("settings").currency_symbol + r
                    }
                }
            },
            events: {
                "change .nf-element": "fieldChange",
                "keyup .nf-element": "fieldKeyup",
                "click .nf-element": "fieldClick",
                "click .extra": "extraClick",
                "blur .nf-element": "fieldBlur"
            },
            fieldChange: function(e) {
                var t = jQuery(e.currentTarget);
                nfRadio.channel("nfAdmin").request("change:field", t, this.model)
            },
            fieldKeyup: function(e) {
                var t = jQuery(e.currentTarget),
                    i = e.keyCode;
                nfRadio.channel("field-" + this.model.get("id")).trigger("keyup:field", t, this.model, i), nfRadio.channel(this.model.get("type")).trigger("keyup:field", t, this.model, i), nfRadio.channel("fields").trigger("keyup:field", t, this.model, i)
            },
            fieldClick: function(e) {
                var t = jQuery(e.currentTarget);
                nfRadio.channel("field-" + this.model.get("id")).trigger("click:field", t, this.model), nfRadio.channel(this.model.get("type")).trigger("click:field", t, this.model), nfRadio.channel("fields").trigger("click:field", t, this.model)
            },
            extraClick: function(e) {
                nfRadio.channel("field-" + this.model.get("id")).trigger("click:extra", e, this.model), nfRadio.channel(this.model.get("type")).trigger("click:extra", e, this.model), nfRadio.channel("fields").trigger("click:extra", e, this.model)
            },
            fieldBlur: function(e) {
                var t = jQuery(e.currentTarget);
                nfRadio.channel("field-" + this.model.get("id")).trigger("blur:field", t, this.model), nfRadio.channel(this.model.get("type")).trigger("blur:field", t, this.model), nfRadio.channel("fields").trigger("blur:field", t, this.model)
            },
            onAttach: function() {
                nfRadio.channel(this.model.get("type")).trigger("attach:view", this)
            }
        })
    }), i("views/beforeField", [], function() {
        return Marionette.ItemView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-field-before"
        })
    }), i("views/fieldErrorItem", [], function() {
        return Marionette.ItemView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-field-error",
            onRender: function() {
                this.$el = this.$el.children(), this.$el.unwrap(), this.setElement(this.$el)
            }
        })
    }), i("views/fieldErrorCollection", ["views/fieldErrorItem"], function(e) {
        return Marionette.CollectionView.extend({
            tagName: "nf-errors",
            childView: e,
            initialize: function(e) {
                this.fieldModel = e.fieldModel
            },
            onRender: function() {
                0 == this.fieldModel.get("errors").models.length ? (this.fieldModel.removeWrapperClass("nf-error"), this.fieldModel.removeWrapperClass("nf-fail"), this.fieldModel.addWrapperClass("nf-pass"), this.fieldModel.setInvalid(!1)) : (this.fieldModel.removeWrapperClass("nf-pass"), this.fieldModel.addWrapperClass("nf-fail"), this.fieldModel.addWrapperClass("nf-error"), this.fieldModel.setInvalid(!0))
            }
        })
    }), i("views/inputLimit", [], function() {
        return Marionette.ItemView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-field-input-limit",
            initialize: function() {
                this.listenTo(nfRadio.channel("field-" + this.model.get("id")), "keyup:field", this.updateCount), this.count = this.model.get("input_limit"), this.render()
            },
            updateCount: function(e, t) {
                var i = jQuery(e).val(),
                    n = /\s+/gi,
                    r = i.trim().replace(n, " ").split(" "),
                    o = r.length,
                    a = i.length;
                if ("characters" == this.model.get("input_limit_type") || "char" == this.model.get("input_limit_type")) jQuery(e).attr("maxlength", this.model.get("input_limit")), this.count = this.model.get("input_limit") - a;
                else {
                    this.count = this.model.get("input_limit") - o;
                    var l = this.model.get("input_limit");
                    o > l && jQuery(e).val(r.slice(0, l).join(" "))
                }
                this.render()
            },
            templateHelpers: function() {
                var e = this;
                return {
                    currentCount: function() {
                        return e.count
                    }
                }
            }
        })
    }), i("views/afterField", ["views/fieldErrorCollection", "views/inputLimit"], function(e, t) {
        return Marionette.ItemView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-field-after",
            initialize: function() {
                this.model.on("change:errors", this.changeError, this)
            },
            onRender: function() {
                var i = jQuery(this.el).children(".nf-error-wrap");
                if (this.errorCollectionView = new e({
                        el: i,
                        collection: this.model.get("errors"),
                        fieldModel: this.model
                    }), 0 < this.model.get("errors").length && this.errorCollectionView.render(), void 0 !== this.model.get("input_limit") && "" != jQuery.trim(this.model.get("input_limit"))) {
                    var n = jQuery(this.el).children(".nf-input-limit");
                    this.inputLimitView = new t({
                        el: n,
                        model: this.model
                    })
                }
            },
            changeError: function() {
                this.errorCollectionView.render()
            }
        })
    }), i("views/fieldLayout", ["views/fieldItem", "views/beforeField", "views/afterField"], function(e, t, i) {
        return Marionette.LayoutView.extend({
            tagName: "nf-field",
            regions: {
                beforeField: ".nf-before-field",
                field: ".nf-field",
                afterField: ".nf-after-field"
            },
            initialize: function() {
                this.listenTo(this.model, "change:visible", this.render, this)
            },
            getTemplate: function() {
                return this.model.get("visible") ? "#tmpl-nf-field-layout" : "#tmpl-nf-empty"
            },
            onRender: function() {
                this.model.get("visible") && (this.beforeField.show(new t({
                    model: this.model
                })), this.field.show(new e({
                    model: this.model
                })), this.afterField.show(new i({
                    model: this.model
                })))
            },
            templateHelpers: function() {
                return {
                    renderContainerClass: function() {
                        var e = " label-" + this.label_pos + " ";
                        return void 0 !== this.desc_pos && (e += "desc-" + this.desc_pos + " "), void 0 !== this.container_class && 0 < jQuery.trim(this.container_class).length && (e += this.container_class + " "), this.type !== this.parentType && (e += " " + this.parentType + "-container"), e
                    }
                }
            }
        })
    }), i("controllers/loadViews", ["views/fieldItem", "views/fieldLayout"], function(e, t) {
        return Marionette.Object.extend({
            initialize: function() {
                nfRadio.channel("views").reply("get:fieldItem", this.getFieldItem), nfRadio.channel("views").reply("get:fieldLayout", this.getFieldLayout)
            },
            getFieldItem: function(t) {
                return e
            },
            getFieldLayout: function() {
                return t
            }
        })
    }), i("controllers/formErrors", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("fields"), "add:error", this.addError), this.listenTo(nfRadio.channel("fields"), "remove:error", this.removeError), nfRadio.channel("form").reply("get:errors", this.getFormErrors)
            },
            addError: function(e, t, i) {
                var n = nfRadio.channel("app").request("get:form", e.get("formID"));
                void 0 === n.get("fieldErrors")[e.get("id")] && (n.get("fieldErrors")[e.get("id")] = {}), n.get("fieldErrors")[e.get("id")][t] = i, nfRadio.channel("form-" + e.get("formID")).request("add:error", "field-errors", n.get("settings").formErrorsCorrectErrors)
            },
            removeError: function(e, t) {
                var i = nfRadio.channel("app").request("get:form", e.get("formID"));
                i.get("fieldErrors")[e.get("id")] = _.omit(i.get("fieldErrors")[e.get("id")], t), 0 == _.size(i.get("fieldErrors")[e.get("id")]) && delete i.get("fieldErrors")[e.get("id")], 0 == _.size(i.get("fieldErrors")) && nfRadio.channel("form-" + e.get("formID")).request("remove:error", "field-errors")
            },
            getFormErrors: function(e) {
                var t = nfRadio.channel("app").request("get:form", e),
                    i = !1;
                return t && 0 !== t.get("errors").length && _.each(t.get("errors").models, function(e) {
                    i = i || {}, i[e.get("id")] = e.get("msg")
                }), i
            }
        })
    }), i("controllers/submit", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("forms"), "init:model", this.registerSubmitHandler)
            },
            registerSubmitHandler: function(e) {
                nfRadio.channel("form-" + e.get("id")).reply("submit", this.submit)
            },
            submit: function(e) {
                nfRadio.channel("forms").trigger("before:submit", e), nfRadio.channel("form-" + e.get("id")).trigger("before:submit", e);
                var t = nfRadio.channel("forms").request("maybe:validate", e);
                if (!1 !== t && (_.each(e.get("fields").models, function(e) {
                        e.set("clean", !1)
                    }), e.get("formContentData").validateFields()), 0 == nfRadio.channel("form-" + e.get("id")).request("maybe:submit", e)) return nfRadio.channel("forms").trigger("submit:cancel", e), void nfRadio.channel("form-" + e.get("id")).trigger("submit:cancel", e);
                if (!1 !== t) {
                    var i = _.filter(e.get("errors").models, function(e) {
                        return "invalid_email" != e.get("id") && "email_not_sent" != e.get("id")
                    });
                    if (0 != _.size(i)) return nfRadio.channel("forms").trigger("submit:failed", e), nfRadio.channel("form-" + e.get("id")).trigger("submit:failed", e), !1
                }
                nfRadio.channel("forms").trigger("after:submitValidation", e), nfRadio.channel("form-" + e.get("id")).trigger("after:submitValidation", e);
                var n = e.get("id"),
                    r = {};
                _.each(e.get("fields").models, function(e) {
                    var t = {
                        value: e.get("value"),
                        id: e.get("id")
                    };
                    r[e.get("id")] = nfRadio.channel(e.get("type")).request("get:submitData", t, e) || t
                });
                var o = e.get("extra"),
                    a = e.get("settings");
                delete a.formContentData;
                var l = JSON.stringify({
                        id: n,
                        fields: r,
                        settings: a,
                        extra: o
                    }),
                    s = {
                        action: "nf_ajax_submit",
                        security: nfFrontEnd.ajaxNonce,
                        nonce_ts: nfFrontEnd.nonce_ts,
                        formData: l
                    };
                jQuery.ajax({
                    url: nfFrontEnd.adminAjax,
                    type: "POST",
                    data: s,
                    cache: !1,
                    success: function(t, i, n) {
                        try {
                            var r = t;
                            nfRadio.channel("forms").trigger("submit:response", r, i, n, e.get("id")), nfRadio.channel("form-" + e.get("id")).trigger("submit:response", r, i, n), jQuery(document).trigger("nfFormSubmitResponse", {
                                response: r,
                                id: e.get("id")
                            })
                        } catch (e) {
                            console.log(e), console.log("Parse Error"), console.log(e)
                        }
                    },
                    error: function(t, i, n) {
                        console.log("ERRORS: " + n), console.log(t);
                        try {
                            var r = jQuery.parseJSON(t.responseText);
                            nfRadio.channel("forms").trigger("submit:response", r, i, t, e.get("id")), nfRadio.channel("form-" + e.get("id")).trigger("submit:response", r, i, t)
                        } catch (e) {
                            console.log("Parse Error")
                        }
                        nfRadio.channel("forms").trigger("submit:response", "error", i, t, n)
                    }
                })
            }
        })
    }), i("views/fieldCollection", ["views/fieldLayout"], function(e) {
        return Marionette.CollectionView.extend({
            tagName: "nf-fields-wrap",
            childView: e
        })
    }), i("controllers/defaultFilters", ["views/fieldCollection", "models/fieldCollection"], function(e, t) {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("form"), "before:filterData", this.registerDefaultDataFilter)
            },
            registerDefaultDataFilter: function(e) {
                nfRadio.channel("formContent").request("add:loadFilter", this.defaultFormContentLoad, 10, this), nfRadio.channel("formContent").request("add:viewFilter", this.defaultFormContentView, 10, this)
            },
            defaultFormContentLoad: function(e, i, n) {
                var r = i.get("fields"),
                    o = nfRadio.channel("formContent").request("get:loadFilters");
                if (1 == _.without(o, void 0).length || void 0 === e || 1 == e instanceof Backbone.Collection) return i.get("fields");
                var a = _.map(e, function(e) {
                        return i.get("fields").findWhere({
                            key: e
                        })
                    }, this),
                    l = new t(a);
                return r.on("reset", function(e) {
                    var t = [];
                    l.each(function(i) {
                        "submit" != i.get("type") ? t.push(e.findWhere({
                            key: i.get("key")
                        })) : t.push(i)
                    }), l.options = {
                        formModel: i
                    }, l.reset(t)
                }), l
            },
            defaultFormContentView: function() {
                return e
            }
        })
    }), i("controllers/uniqueFieldError", [], function() {
        return Marionette.Object.extend({
            initialize: function() {
                this.listenTo(nfRadio.channel("fields"), "change:modelValue", this.removeError), this.listenTo(nfRadio.channel("fields"), "keyup:field", this.removeError), this.listenTo(nfRadio.channel("fields"), "blur:field", this.removeError)
            },
            removeError: function(e, t) {
                t = t || e, nfRadio.channel("fields").request("remove:error", t.get("id"), "unique_field")
            }
        })
    }), i("controllers/loadControllers", ["controllers/formData", "controllers/fieldError", "controllers/changeField", "controllers/changeEmail", "controllers/changeDate", "controllers/fieldCheckbox", "controllers/fieldCheckboxList", "controllers/fieldRadio", "controllers/fieldNumber", "controllers/mirrorField", "controllers/confirmField", "controllers/updateFieldModel", "controllers/submitButton", "controllers/submitDebug", "controllers/getFormErrors", "controllers/validateRequired", "controllers/submitError", "controllers/actionRedirect", "controllers/actionSuccess", "controllers/fieldSelect", "controllers/coreSubmitResponse", "controllers/fieldProduct", "controllers/fieldTotal", "controllers/fieldQuantity", "controllers/calculations", "controllers/fieldDate", "controllers/fieldRecaptcha", "controllers/fieldHTML", "controllers/helpText", "controllers/fieldTextbox", "controllers/fieldTextareaRTE", "controllers/fieldStarRating", "controllers/fieldTerms", "controllers/formContentFilters", "controllers/loadViews", "controllers/formErrors", "controllers/submit", "controllers/defaultFilters", "controllers/uniqueFieldError"], function(e, t, i, n, r, o, a, l, s, d, c, f, u, h, g, m, p, v, b, y, R, w, _, x, C, F, M, k, T, E, j, q, D, Q, V, O, I, L, N) {
        return Marionette.Object.extend({
            initialize: function() {
                new V, new O, new I, new o, new a, new l, new s, new y, new w, new _, new x, new M, new k, new T, new E, new j, new q, new D, new Q, new N, new t, new i, new n, new r, new d, new c, new f, new u, new h, new g, new m, new p, new v, new b, new R, new C, new L, new F, new e
            }
        })
    }), i("views/beforeForm", [], function() {
        return Marionette.ItemView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-before-form"
        })
    }), i("views/formErrorItem", [], function() {
        return Marionette.ItemView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-form-error",
            onRender: function() {}
        })
    }), i("views/formErrorCollection", ["views/formErrorItem"], function(e) {
        return Marionette.CollectionView.extend({
            tagName: "nf-errors",
            childView: e
        })
    }), i("views/honeyPot", [], function() {
        return Marionette.ItemView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-form-hp",
            events: {
                "keyup .nf-field-hp": "maybeError",
                "change .nf-field-hp": "maybeError"
            },
            maybeError: function(e) {
                if (0 == jQuery(e.target).val().length) nfRadio.channel("form-" + this.model.get("id")).request("remove:error", "honeyPot");
                else {
                    var t = nfRadio.channel("app").request("get:form", this.model.get("id"));
                    nfRadio.channel("form-" + this.model.get("id")).request("add:error", "honeyPot", t.get("settings").honeypotHoneypotError)
                }
            }
        })
    }), i("views/afterFormContent", ["views/formErrorCollection", "views/honeyPot"], function(e, t) {
        return Marionette.LayoutView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-after-fields",
            regions: {
                errors: ".nf-form-errors",
                hp: ".nf-form-hp"
            },
            onShow: function() {
                this.errors.show(new e({
                    collection: this.model.get("errors")
                })), this.hp.show(new t({
                    model: this.model
                }))
            }
        })
    }), i("views/beforeFormContent", [], function() {
        return Marionette.ItemView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-before-fields",
            templateHelpers: function() {
                return {
                    renderFieldsMarkedRequired: function() {
                        return this.fields.filter({
                            required: 1
                        }).length ? this.fieldsMarkedRequired : ""
                    }
                }
            }
        })
    }), i("views/formLayout", ["views/afterFormContent", "views/beforeFormContent", "models/fieldCollection"], function(e, t, i) {
        return Marionette.LayoutView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-form-layout",
            regions: {
                beforeFormContent: ".nf-before-form-content",
                formContent: ".nf-form-content",
                afterFormContent: ".nf-after-form-content"
            },
            initialize: function() {
                nfRadio.channel("form-" + this.model.get("id")).reply("get:el", this.getEl, this), this.listenTo(this.model, "hide", this.hide)
            },
            onRender: function() {
                this.$el = this.$el.children(), this.$el.unwrap(), this.setElement(this.$el)
            },
            onShow: function() {
                this.beforeFormContent.show(new t({
                    model: this.model
                }));
                var i = this.model.get("formContentData"),
                    n = nfRadio.channel("formContent").request("get:viewFilters"),
                    r = _.without(n, void 0),
                    o = _.first(r);
                formContentView = o();
                var a = {
                    data: i,
                    formModel: this.model
                };
                !1 != i instanceof Backbone.Collection ? a.collection = i : !1 != i instanceof Backbone.Model && (a.model = i), this.formContent.show(new formContentView(a)), this.afterFormContent.show(new e({
                    model: this.model
                }))
            },
            getEl: function() {
                return this.el
            },
            templateHelpers: function() {
                return {
                    renderClasses: function() {
                        return ""
                    }
                }
            },
            hide: function() {
                jQuery(this.el).hide()
            }
        })
    }), i("views/afterForm", [], function() {
        return Marionette.ItemView.extend({
            tagName: "nf-section",
            template: "#tmpl-nf-after-form"
        })
    }), i("views/mainLayout", ["views/beforeForm", "views/formLayout", "views/afterForm"], function(e, t, i) {
        return Marionette.LayoutView.extend({
            template: "#tmpl-nf-layout",
            regions: {
                responseMsg: ".nf-response-msg",
                beforeForm: ".nf-before-form",
                formLayout: ".nf-form-layout",
                afterForm: ".nf-after-form"
            },
            initialize: function() {
                this.$el = jQuery("#nf-form-" + this.model.id + "-cont"), this.el = "#nf-form-" + this.model.id + "-cont", this.render(), this.beforeForm.show(new e({
                    model: this.model
                })), this.formLayout.show(new t({
                    model: this.model,
                    fieldCollection: this.options.fieldCollection
                })), this.afterForm.show(new i({
                    model: this.model
                })), this.listenTo(this.model, "hide", this.hide)
            },
            hide: function() {
                jQuery(this.el).find(".nf-form-title").hide()
            }
        })
    });
    var n = function(e, t, i) {
        void 0 !== e && 0 < e.length ? this.locale = e.replace("_", "-") : this.locale = "en-US", this.thousands_sep = t || ",", this.decimal_sep = i || ".", this.uniqueElememts = function(e, t, i) {
            return i.indexOf(e) === t
        }, this.numberDecoder = function(e) {
            e = e.toString();
            var t = "",
                i = !1;
            "-" === e.charAt(0) && (i = !0, e = e.replace("-", "")), e = e.replace(/\s/g, ""), e = e.replace(/&nbsp;/g, "");
            var n = e.split(""),
                r = n.filter(function(e) {
                    return !e.match(/[0-9]/)
                }),
                o = r.filter(this.uniqueElememts);
            switch (o.length) {
                case 0:
                    t = e;
                    break;
                case 1:
                    var a = "";
                    if (1 == r.length) {
                        separator = r.pop();
                        a = 3 == e.split(separator).pop().length && separator == this.thousands_sep ? "" : "."
                    } else separator = o.pop();
                    t = e.split(separator).join(a);
                    break;
                case 2:
                    var l, s = o[0];
                    l = "." === s ? new RegExp("[.]", "g") : new RegExp(s, "g"), t = e.replace(l, "");
                    var d, c = o[1];
                    d = "." === c ? new RegExp("[.]", "g") : new RegExp(c, "g"), t = t.replace(d, ".");
                    break;
                default:
                    return "NaN"
            }
            return i && (t = "-" + t), this.debug("Number Decoder " + e + " -> " + t), t
        }, this.numberEncoder = function(e, t) {
            return e = this.numberDecoder(e), Intl.NumberFormat(this.locale, {
                minimumFractionDigits: t,
                maximumFractionDigits: t
            }).format(e)
        }, this.debug = function(e) {
            window.nfLocaleConverterDebug && console.log(e)
        }
    };
    i("../nfLocaleConverter", function() {}),
        function(e) {
            var t = e.fn.val;
            e.fn.val = function() {
                var i;
                arguments.length > 0 && (i = t.apply(this, []));
                var n = t.apply(this, arguments);
                return arguments.length > 0 && i != t.apply(this, []) && e(this).hasClass("nf-element") && e(this).change(), n
            }
        }(jQuery), jQuery(document).ready(function(e) {
            t(["models/formCollection", "models/formModel", "models/fieldCollection", "controllers/loadControllers", "views/mainLayout", "../nfLocaleConverter"], function(t, i, r, o, a) {
                if ("undefined" == typeof nfForms) return void jQuery(".nf-form-cont").empty();
                (new(Marionette.Application.extend({
                    forms: {},
                    initialize: function(e) {
                        var t = this;
                        Marionette.Renderer.render = function(e, i) {
                            var e = t.template(e);
                            return e(i)
                        }, this.urlParameters = _.object(_.compact(_.map(location.search.slice(1).split("&"), function(e) {
                            if (e) return e.split("=")
                        }))), void 0 !== this.urlParameters.nf_resume && this.listenTo(nfRadio.channel("form-" + this.urlParameters.nf_resume), "loaded", this.restart), nfRadio.channel("app").reply("locale:decodeNumber", this.decodeNumber), nfRadio.channel("app").reply("locale:encodeNumber", this.encodeNumber);
                        new o;
                        nfRadio.channel("app").trigger("after:loadControllers"), nfRadio.channel("app").reply("get:template", this.template)
                    },
                    onStart: function() {
                        var e = nfRadio.channel("app").request("get:forms");
                        _.each(e.models, function(e, t) {
                            var i = new a({
                                model: e,
                                fieldCollection: e.get("fields")
                            });
                            nfRadio.channel("form").trigger("render:view", i), jQuery(document).trigger("nfFormReady", i)
                        })
                    },
                    restart: function(e) {
                        if (void 0 !== this.urlParameters.nf_resume) {
                            var t = {
                                action: "nf_ajax_submit",
                                security: nfFrontEnd.ajaxNonce,
                                nf_resume: this.urlParameters
                            };
                            nfRadio.channel("form-" + e.get("id")).trigger("disable:submit"), nfRadio.channel("form-" + e.get("id")).trigger("processingLabel"), this.listenTo(nfRadio.channel("form"), "render:view", function() {
                                jQuery("#nf-form-" + e.get("id") + "-cont .nf-field-container:not(.submit-container)").hide()
                            }), jQuery.ajax({
                                url: nfFrontEnd.adminAjax,
                                type: "POST",
                                data: t,
                                cache: !1,
                                success: function(t, i, n) {
                                    try {
                                        var r = t;
                                        nfRadio.channel("forms").trigger("submit:response", r, i, n, e.get("id")), nfRadio.channel("form-" + e.get("id")).trigger("submit:response", r, i, n)
                                    } catch (e) {
                                        console.log("Parse Error")
                                    }
                                },
                                error: function(e, t, i) {
                                    console.log("ERRORS: " + t), nfRadio.channel("forms").trigger("submit:response", "error", t, e, i)
                                }
                            })
                        }
                    },
                    template: function(t) {
                        return _.template(e(t).html(), {
                            evaluate: /<#([\s\S]+?)#>/g,
                            interpolate: /\{\{\{([\s\S]+?)\}\}\}/g,
                            escape: /\{\{([^\}]+?)\}\}(?!\})/g,
                            variable: "data"
                        })
                    },
                    encodeNumber: function(e) {
                        return new n(nfi18n.siteLocale, nfi18n.thousands_sep, nfi18n.decimal_point).numberEncoder(e)
                    },
                    decodeNumber: function(e) {
                        return new n(nfi18n.siteLocale, nfi18n.thousands_sep, nfi18n.decimal_point).numberDecoder(e)
                    }
                }))).start()
            })
        }), i("main", function() {})
}();
var MailChimpOptinsController = Marionette.Object.extend({
    initialize: function() {
        this.listenTo(nfRadio.channel('form'), 'render:view', this.setup)
    },
    setup: function(view) {
        var formID = view.model.get('id');
        nfRadio.channel('form-' + formID).reply('maybe:submit', this.beforeSubmit, this, formID)
    },
    beforeSubmit: function(formModel) {
        if (formModel.get('errors').length > 0) {
            nfRadio.channel('form-' + formModel.get('id')).request('remove:error', 'mailchimp-optins')
        }
        return !0
    }
});
(function($) {
    $(document).ready(function($) {
        new MailChimpOptinsController()
    })
})(jQuery);
! function(a, b) {
    function c() {
        function a() {
            "undefined" != typeof _wpmejsSettings && (c = b.extend(!0, {}, _wpmejsSettings)), c.classPrefix = "mejs-", c.success = c.success || function(a) {
                var b, c;
                a.rendererName && -1 !== a.rendererName.indexOf("flash") && (b = a.attributes.autoplay && "false" !== a.attributes.autoplay, c = a.attributes.loop && "false" !== a.attributes.loop, b && a.addEventListener("canplay", function() {
                    a.play()
                }, !1), c && a.addEventListener("ended", function() {
                    a.play()
                }, !1))
            }, c.customError = function(a, b) {
                if (-1 !== a.rendererName.indexOf("flash") || -1 !== a.rendererName.indexOf("flv")) return '<a href="' + b.src + '">' + mejsL10n.strings["mejs.download-video"] + "</a>"
            }, b(".wp-audio-shortcode, .wp-video-shortcode").not(".mejs-container").filter(function() {
                return !b(this).parent().hasClass("mejs-mediaelement")
            }).mediaelementplayer(c)
        }
        var c = {};
        return {
            initialize: a
        }
    }
    a.wp = a.wp || {}, a.wp.mediaelement = new c, b(a.wp.mediaelement.initialize)
}(window, jQuery);
/*!
 * imagesLoaded PACKAGED v3.2.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function() {
    "use strict";

    function e() {}

    function t(e, t) {
        for (var n = e.length; n--;)
            if (e[n].listener === t) return n;
        return -1
    }

    function n(e) {
        return function() {
            return this[e].apply(this, arguments)
        }
    }
    var i = e.prototype,
        r = this,
        s = r.EventEmitter;
    i.getListeners = function(e) {
        var t, n, i = this._getEvents();
        if ("object" == typeof e) {
            t = {};
            for (n in i) i.hasOwnProperty(n) && e.test(n) && (t[n] = i[n])
        } else t = i[e] || (i[e] = []);
        return t
    }, i.flattenListeners = function(e) {
        var t, n = [];
        for (t = 0; t < e.length; t += 1) n.push(e[t].listener);
        return n
    }, i.getListenersAsObject = function(e) {
        var t, n = this.getListeners(e);
        return n instanceof Array && (t = {}, t[e] = n), t || n
    }, i.addListener = function(e, n) {
        var i, r = this.getListenersAsObject(e),
            s = "object" == typeof n;
        for (i in r) r.hasOwnProperty(i) && -1 === t(r[i], n) && r[i].push(s ? n : {
            listener: n,
            once: !1
        });
        return this
    }, i.on = n("addListener"), i.addOnceListener = function(e, t) {
        return this.addListener(e, {
            listener: t,
            once: !0
        })
    }, i.once = n("addOnceListener"), i.defineEvent = function(e) {
        return this.getListeners(e), this
    }, i.defineEvents = function(e) {
        for (var t = 0; t < e.length; t += 1) this.defineEvent(e[t]);
        return this
    }, i.removeListener = function(e, n) {
        var i, r, s = this.getListenersAsObject(e);
        for (r in s) s.hasOwnProperty(r) && (i = t(s[r], n), -1 !== i && s[r].splice(i, 1));
        return this
    }, i.off = n("removeListener"), i.addListeners = function(e, t) {
        return this.manipulateListeners(!1, e, t)
    }, i.removeListeners = function(e, t) {
        return this.manipulateListeners(!0, e, t)
    }, i.manipulateListeners = function(e, t, n) {
        var i, r, s = e ? this.removeListener : this.addListener,
            o = e ? this.removeListeners : this.addListeners;
        if ("object" != typeof t || t instanceof RegExp)
            for (i = n.length; i--;) s.call(this, t, n[i]);
        else
            for (i in t) t.hasOwnProperty(i) && (r = t[i]) && ("function" == typeof r ? s.call(this, i, r) : o.call(this, i, r));
        return this
    }, i.removeEvent = function(e) {
        var t, n = typeof e,
            i = this._getEvents();
        if ("string" === n) delete i[e];
        else if ("object" === n)
            for (t in i) i.hasOwnProperty(t) && e.test(t) && delete i[t];
        else delete this._events;
        return this
    }, i.removeAllListeners = n("removeEvent"), i.emitEvent = function(e, t) {
        var n, i, r, s, o = this.getListenersAsObject(e);
        for (r in o)
            if (o.hasOwnProperty(r))
                for (i = o[r].length; i--;) n = o[r][i], n.once === !0 && this.removeListener(e, n.listener), s = n.listener.apply(this, t || []), s === this._getOnceReturnValue() && this.removeListener(e, n.listener);
        return this
    }, i.trigger = n("emitEvent"), i.emit = function(e) {
        var t = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(e, t)
    }, i.setOnceReturnValue = function(e) {
        return this._onceReturnValue = e, this
    }, i._getOnceReturnValue = function() {
        return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
    }, i._getEvents = function() {
        return this._events || (this._events = {})
    }, e.noConflict = function() {
        return r.EventEmitter = s, e
    }, "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function() {
        return e
    }) : "object" == typeof module && module.exports ? module.exports = e : this.EventEmitter = e
}).call(this),
    function(e) {
        function t(t) {
            var n = e.event;
            return n.target = n.target || n.srcElement || t, n
        }
        var n = document.documentElement,
            i = function() {};
        n.addEventListener ? i = function(e, t, n) {
            e.addEventListener(t, n, !1)
        } : n.attachEvent && (i = function(e, n, i) {
            e[n + i] = i.handleEvent ? function() {
                var n = t(e);
                i.handleEvent.call(i, n)
            } : function() {
                var n = t(e);
                i.call(e, n)
            }, e.attachEvent("on" + n, e[n + i])
        });
        var r = function() {};
        n.removeEventListener ? r = function(e, t, n) {
            e.removeEventListener(t, n, !1)
        } : n.detachEvent && (r = function(e, t, n) {
            e.detachEvent("on" + t, e[t + n]);
            try {
                delete e[t + n]
            } catch (i) {
                e[t + n] = void 0
            }
        });
        var s = {
            bind: i,
            unbind: r
        };
        "function" == typeof define && define.amd ? define("eventie/eventie", s) : e.eventie = s
    }(this),
    function(e, t) {
        "use strict";
        "function" == typeof define && define.amd ? define(["eventEmitter/EventEmitter", "eventie/eventie"], function(n, i) {
            return t(e, n, i)
        }) : "object" == typeof module && module.exports ? module.exports = t(e, require("wolfy87-eventemitter"), require("eventie")) : e.imagesLoaded = t(e, e.EventEmitter, e.eventie)
    }(window, function(e, t, n) {
        function i(e, t) {
            for (var n in t) e[n] = t[n];
            return e
        }

        function r(e) {
            return "[object Array]" == f.call(e)
        }

        function s(e) {
            var t = [];
            if (r(e)) t = e;
            else if ("number" == typeof e.length)
                for (var n = 0; n < e.length; n++) t.push(e[n]);
            else t.push(e);
            return t
        }

        function o(e, t, n) {
            if (!(this instanceof o)) return new o(e, t, n);
            "string" == typeof e && (e = document.querySelectorAll(e)), this.elements = s(e), this.options = i({}, this.options), "function" == typeof t ? n = t : i(this.options, t), n && this.on("always", n), this.getImages(), u && (this.jqDeferred = new u.Deferred);
            var r = this;
            setTimeout(function() {
                r.check()
            })
        }

        function h(e) {
            this.img = e
        }

        function a(e, t) {
            this.url = e, this.element = t, this.img = new Image
        }
        var u = e.jQuery,
            c = e.console,
            f = Object.prototype.toString;
        o.prototype = new t, o.prototype.options = {}, o.prototype.getImages = function() {
            this.images = [];
            for (var e = 0; e < this.elements.length; e++) {
                var t = this.elements[e];
                this.addElementImages(t)
            }
        }, o.prototype.addElementImages = function(e) {
            "IMG" == e.nodeName && this.addImage(e), this.options.background === !0 && this.addElementBackgroundImages(e);
            var t = e.nodeType;
            if (t && d[t]) {
                for (var n = e.querySelectorAll("img"), i = 0; i < n.length; i++) {
                    var r = n[i];
                    this.addImage(r)
                }
                if ("string" == typeof this.options.background) {
                    var s = e.querySelectorAll(this.options.background);
                    for (i = 0; i < s.length; i++) {
                        var o = s[i];
                        this.addElementBackgroundImages(o)
                    }
                }
            }
        };
        var d = {
            1: !0,
            9: !0,
            11: !0
        };
        o.prototype.addElementBackgroundImages = function(e) {
            for (var t = m(e), n = /url\(['"]*([^'"\)]+)['"]*\)/gi, i = n.exec(t.backgroundImage); null !== i;) {
                var r = i && i[1];
                r && this.addBackground(r, e), i = n.exec(t.backgroundImage)
            }
        };
        var m = e.getComputedStyle || function(e) {
            return e.currentStyle
        };
        return o.prototype.addImage = function(e) {
            var t = new h(e);
            this.images.push(t)
        }, o.prototype.addBackground = function(e, t) {
            var n = new a(e, t);
            this.images.push(n)
        }, o.prototype.check = function() {
            function e(e, n, i) {
                setTimeout(function() {
                    t.progress(e, n, i)
                })
            }
            var t = this;
            if (this.progressedCount = 0, this.hasAnyBroken = !1, !this.images.length) return void this.complete();
            for (var n = 0; n < this.images.length; n++) {
                var i = this.images[n];
                i.once("progress", e), i.check()
            }
        }, o.prototype.progress = function(e, t, n) {
            this.progressedCount++, this.hasAnyBroken = this.hasAnyBroken || !e.isLoaded, this.emit("progress", this, e, t), this.jqDeferred && this.jqDeferred.notify && this.jqDeferred.notify(this, e), this.progressedCount == this.images.length && this.complete(), this.options.debug && c && c.log("progress: " + n, e, t)
        }, o.prototype.complete = function() {
            var e = this.hasAnyBroken ? "fail" : "done";
            if (this.isComplete = !0, this.emit(e, this), this.emit("always", this), this.jqDeferred) {
                var t = this.hasAnyBroken ? "reject" : "resolve";
                this.jqDeferred[t](this)
            }
        }, h.prototype = new t, h.prototype.check = function() {
            var e = this.getIsImageComplete();
            return e ? void this.confirm(0 !== this.img.naturalWidth, "naturalWidth") : (this.proxyImage = new Image, n.bind(this.proxyImage, "load", this), n.bind(this.proxyImage, "error", this), n.bind(this.img, "load", this), n.bind(this.img, "error", this), void(this.proxyImage.src = this.img.src))
        }, h.prototype.getIsImageComplete = function() {
            return this.img.complete && void 0 !== this.img.naturalWidth
        }, h.prototype.confirm = function(e, t) {
            this.isLoaded = e, this.emit("progress", this, this.img, t)
        }, h.prototype.handleEvent = function(e) {
            var t = "on" + e.type;
            this[t] && this[t](e)
        }, h.prototype.onload = function() {
            this.confirm(!0, "onload"), this.unbindEvents()
        }, h.prototype.onerror = function() {
            this.confirm(!1, "onerror"), this.unbindEvents()
        }, h.prototype.unbindEvents = function() {
            n.unbind(this.proxyImage, "load", this), n.unbind(this.proxyImage, "error", this), n.unbind(this.img, "load", this), n.unbind(this.img, "error", this)
        }, a.prototype = new h, a.prototype.check = function() {
            n.bind(this.img, "load", this), n.bind(this.img, "error", this), this.img.src = this.url;
            var e = this.getIsImageComplete();
            e && (this.confirm(0 !== this.img.naturalWidth, "naturalWidth"), this.unbindEvents())
        }, a.prototype.unbindEvents = function() {
            n.unbind(this.img, "load", this), n.unbind(this.img, "error", this)
        }, a.prototype.confirm = function(e, t) {
            this.isLoaded = e, this.emit("progress", this, this.element, t)
        }, o.makeJQueryPlugin = function(t) {
            t = t || e.jQuery, t && (u = t, u.fn.imagesLoaded = function(e, t) {
                var n = new o(this, e, t);
                return n.jqDeferred.promise(u(this))
            })
        }, o.makeJQueryPlugin(), o
    });
/*!
 * Masonry PACKAGED v3.3.2
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
! function(a) {
    function b() {}

    function c(a) {
        function c(b) {
            b.prototype.option || (b.prototype.option = function(b) {
                a.isPlainObject(b) && (this.options = a.extend(!0, this.options, b))
            })
        }

        function e(b, c) {
            a.fn[b] = function(e) {
                if ("string" == typeof e) {
                    for (var g = d.call(arguments, 1), h = 0, i = this.length; i > h; h++) {
                        var j = this[h],
                            k = a.data(j, b);
                        if (k)
                            if (a.isFunction(k[e]) && "_" !== e.charAt(0)) {
                                var l = k[e].apply(k, g);
                                if (void 0 !== l) return l
                            } else f("no such method '" + e + "' for " + b + " instance");
                        else f("cannot call methods on " + b + " prior to initialization; attempted to call '" + e + "'")
                    }
                    return this
                }
                return this.each(function() {
                    var d = a.data(this, b);
                    d ? (d.option(e), d._init()) : (d = new c(this, e), a.data(this, b, d))
                })
            }
        }
        if (a) {
            var f = "undefined" == typeof console ? b : function(a) {
                console.error(a)
            };
            return a.bridget = function(a, b) {
                c(b), e(a, b)
            }, a.bridget
        }
    }
    var d = Array.prototype.slice;
    "function" == typeof define && define.amd ? define("jquery-bridget/jquery.bridget", ["jquery"], c) : c("object" == typeof exports ? require("jquery") : a.jQuery)
}(window),
function(a) {
    function b(b) {
        var c = a.event;
        return c.target = c.target || c.srcElement || b, c
    }
    var c = document.documentElement,
        d = function() {};
    c.addEventListener ? d = function(a, b, c) {
        a.addEventListener(b, c, !1)
    } : c.attachEvent && (d = function(a, c, d) {
        a[c + d] = d.handleEvent ? function() {
            var c = b(a);
            d.handleEvent.call(d, c)
        } : function() {
            var c = b(a);
            d.call(a, c)
        }, a.attachEvent("on" + c, a[c + d])
    });
    var e = function() {};
    c.removeEventListener ? e = function(a, b, c) {
        a.removeEventListener(b, c, !1)
    } : c.detachEvent && (e = function(a, b, c) {
        a.detachEvent("on" + b, a[b + c]);
        try {
            delete a[b + c]
        } catch (d) {
            a[b + c] = void 0
        }
    });
    var f = {
        bind: d,
        unbind: e
    };
    "function" == typeof define && define.amd ? define("eventie/eventie", f) : "object" == typeof exports ? module.exports = f : a.eventie = f
}(window),
function() {
    function a() {}

    function b(a, b) {
        for (var c = a.length; c--;)
            if (a[c].listener === b) return c;
        return -1
    }

    function c(a) {
        return function() {
            return this[a].apply(this, arguments)
        }
    }
    var d = a.prototype,
        e = this,
        f = e.EventEmitter;
    d.getListeners = function(a) {
        var b, c, d = this._getEvents();
        if (a instanceof RegExp) {
            b = {};
            for (c in d) d.hasOwnProperty(c) && a.test(c) && (b[c] = d[c])
        } else b = d[a] || (d[a] = []);
        return b
    }, d.flattenListeners = function(a) {
        var b, c = [];
        for (b = 0; b < a.length; b += 1) c.push(a[b].listener);
        return c
    }, d.getListenersAsObject = function(a) {
        var b, c = this.getListeners(a);
        return c instanceof Array && (b = {}, b[a] = c), b || c
    }, d.addListener = function(a, c) {
        var d, e = this.getListenersAsObject(a),
            f = "object" == typeof c;
        for (d in e) e.hasOwnProperty(d) && -1 === b(e[d], c) && e[d].push(f ? c : {
            listener: c,
            once: !1
        });
        return this
    }, d.on = c("addListener"), d.addOnceListener = function(a, b) {
        return this.addListener(a, {
            listener: b,
            once: !0
        })
    }, d.once = c("addOnceListener"), d.defineEvent = function(a) {
        return this.getListeners(a), this
    }, d.defineEvents = function(a) {
        for (var b = 0; b < a.length; b += 1) this.defineEvent(a[b]);
        return this
    }, d.removeListener = function(a, c) {
        var d, e, f = this.getListenersAsObject(a);
        for (e in f) f.hasOwnProperty(e) && (d = b(f[e], c), -1 !== d && f[e].splice(d, 1));
        return this
    }, d.off = c("removeListener"), d.addListeners = function(a, b) {
        return this.manipulateListeners(!1, a, b)
    }, d.removeListeners = function(a, b) {
        return this.manipulateListeners(!0, a, b)
    }, d.manipulateListeners = function(a, b, c) {
        var d, e, f = a ? this.removeListener : this.addListener,
            g = a ? this.removeListeners : this.addListeners;
        if ("object" != typeof b || b instanceof RegExp)
            for (d = c.length; d--;) f.call(this, b, c[d]);
        else
            for (d in b) b.hasOwnProperty(d) && (e = b[d]) && ("function" == typeof e ? f.call(this, d, e) : g.call(this, d, e));
        return this
    }, d.removeEvent = function(a) {
        var b, c = typeof a,
            d = this._getEvents();
        if ("string" === c) delete d[a];
        else if (a instanceof RegExp)
            for (b in d) d.hasOwnProperty(b) && a.test(b) && delete d[b];
        else delete this._events;
        return this
    }, d.removeAllListeners = c("removeEvent"), d.emitEvent = function(a, b) {
        var c, d, e, f, g = this.getListenersAsObject(a);
        for (e in g)
            if (g.hasOwnProperty(e))
                for (d = g[e].length; d--;) c = g[e][d], c.once === !0 && this.removeListener(a, c.listener), f = c.listener.apply(this, b || []), f === this._getOnceReturnValue() && this.removeListener(a, c.listener);
        return this
    }, d.trigger = c("emitEvent"), d.emit = function(a) {
        var b = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(a, b)
    }, d.setOnceReturnValue = function(a) {
        return this._onceReturnValue = a, this
    }, d._getOnceReturnValue = function() {
        return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
    }, d._getEvents = function() {
        return this._events || (this._events = {})
    }, a.noConflict = function() {
        return e.EventEmitter = f, a
    }, "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function() {
        return a
    }) : "object" == typeof module && module.exports ? module.exports = a : e.EventEmitter = a
}.call(this),
    function(a) {
        function b(a) {
            if (a) {
                if ("string" == typeof d[a]) return a;
                a = a.charAt(0).toUpperCase() + a.slice(1);
                for (var b, e = 0, f = c.length; f > e; e++)
                    if (b = c[e] + a, "string" == typeof d[b]) return b
            }
        }
        var c = "Webkit Moz ms Ms O".split(" "),
            d = document.documentElement.style;
        "function" == typeof define && define.amd ? define("get-style-property/get-style-property", [], function() {
            return b
        }) : "object" == typeof exports ? module.exports = b : a.getStyleProperty = b
    }(window),
    function(a) {
        function b(a) {
            var b = parseFloat(a),
                c = -1 === a.indexOf("%") && !isNaN(b);
            return c && b
        }

        function c() {}

        function d() {
            for (var a = {
                    width: 0,
                    height: 0,
                    innerWidth: 0,
                    innerHeight: 0,
                    outerWidth: 0,
                    outerHeight: 0
                }, b = 0, c = g.length; c > b; b++) {
                var d = g[b];
                a[d] = 0
            }
            return a
        }

        function e(c) {
            function e() {
                if (!m) {
                    m = !0;
                    var d = a.getComputedStyle;
                    if (j = function() {
                            var a = d ? function(a) {
                                return d(a, null)
                            } : function(a) {
                                return a.currentStyle
                            };
                            return function(b) {
                                var c = a(b);
                                return c || f("Style returned " + c + ". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"), c
                            }
                        }(), k = c("boxSizing")) {
                        var e = document.createElement("div");
                        e.style.width = "200px", e.style.padding = "1px 2px 3px 4px", e.style.borderStyle = "solid", e.style.borderWidth = "1px 2px 3px 4px", e.style[k] = "border-box";
                        var g = document.body || document.documentElement;
                        g.appendChild(e);
                        var h = j(e);
                        l = 200 === b(h.width), g.removeChild(e)
                    }
                }
            }

            function h(a) {
                if (e(), "string" == typeof a && (a = document.querySelector(a)), a && "object" == typeof a && a.nodeType) {
                    var c = j(a);
                    if ("none" === c.display) return d();
                    var f = {};
                    f.width = a.offsetWidth, f.height = a.offsetHeight;
                    for (var h = f.isBorderBox = !(!k || !c[k] || "border-box" !== c[k]), m = 0, n = g.length; n > m; m++) {
                        var o = g[m],
                            p = c[o];
                        p = i(a, p);
                        var q = parseFloat(p);
                        f[o] = isNaN(q) ? 0 : q
                    }
                    var r = f.paddingLeft + f.paddingRight,
                        s = f.paddingTop + f.paddingBottom,
                        t = f.marginLeft + f.marginRight,
                        u = f.marginTop + f.marginBottom,
                        v = f.borderLeftWidth + f.borderRightWidth,
                        w = f.borderTopWidth + f.borderBottomWidth,
                        x = h && l,
                        y = b(c.width);
                    y !== !1 && (f.width = y + (x ? 0 : r + v));
                    var z = b(c.height);
                    return z !== !1 && (f.height = z + (x ? 0 : s + w)), f.innerWidth = f.width - (r + v), f.innerHeight = f.height - (s + w), f.outerWidth = f.width + t, f.outerHeight = f.height + u, f
                }
            }

            function i(b, c) {
                if (a.getComputedStyle || -1 === c.indexOf("%")) return c;
                var d = b.style,
                    e = d.left,
                    f = b.runtimeStyle,
                    g = f && f.left;
                return g && (f.left = b.currentStyle.left), d.left = c, c = d.pixelLeft, d.left = e, g && (f.left = g), c
            }
            var j, k, l, m = !1;
            return h
        }
        var f = "undefined" == typeof console ? c : function(a) {
                console.error(a)
            },
            g = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"];
        "function" == typeof define && define.amd ? define("get-size/get-size", ["get-style-property/get-style-property"], e) : "object" == typeof exports ? module.exports = e(require("desandro-get-style-property")) : a.getSize = e(a.getStyleProperty)
    }(window),
    function(a) {
        function b(a) {
            "function" == typeof a && (b.isReady ? a() : g.push(a))
        }

        function c(a) {
            var c = "readystatechange" === a.type && "complete" !== f.readyState;
            b.isReady || c || d()
        }

        function d() {
            b.isReady = !0;
            for (var a = 0, c = g.length; c > a; a++) {
                var d = g[a];
                d()
            }
        }

        function e(e) {
            return "complete" === f.readyState ? d() : (e.bind(f, "DOMContentLoaded", c), e.bind(f, "readystatechange", c), e.bind(a, "load", c)), b
        }
        var f = a.document,
            g = [];
        b.isReady = !1, "function" == typeof define && define.amd ? define("doc-ready/doc-ready", ["eventie/eventie"], e) : "object" == typeof exports ? module.exports = e(require("eventie")) : a.docReady = e(a.eventie)
    }(window),
    function(a) {
        function b(a, b) {
            return a[g](b)
        }

        function c(a) {
            if (!a.parentNode) {
                var b = document.createDocumentFragment();
                b.appendChild(a)
            }
        }

        function d(a, b) {
            c(a);
            for (var d = a.parentNode.querySelectorAll(b), e = 0, f = d.length; f > e; e++)
                if (d[e] === a) return !0;
            return !1
        }

        function e(a, d) {
            return c(a), b(a, d)
        }
        var f, g = function() {
            if (a.matches) return "matches";
            if (a.matchesSelector) return "matchesSelector";
            for (var b = ["webkit", "moz", "ms", "o"], c = 0, d = b.length; d > c; c++) {
                var e = b[c],
                    f = e + "MatchesSelector";
                if (a[f]) return f
            }
        }();
        if (g) {
            var h = document.createElement("div"),
                i = b(h, "div");
            f = i ? b : e
        } else f = d;
        "function" == typeof define && define.amd ? define("matches-selector/matches-selector", [], function() {
            return f
        }) : "object" == typeof exports ? module.exports = f : window.matchesSelector = f
    }(Element.prototype),
    function(a, b) {
        "function" == typeof define && define.amd ? define("fizzy-ui-utils/utils", ["doc-ready/doc-ready", "matches-selector/matches-selector"], function(c, d) {
            return b(a, c, d)
        }) : "object" == typeof exports ? module.exports = b(a, require("doc-ready"), require("desandro-matches-selector")) : a.fizzyUIUtils = b(a, a.docReady, a.matchesSelector)
    }(window, function(a, b, c) {
        var d = {};
        d.extend = function(a, b) {
            for (var c in b) a[c] = b[c];
            return a
        }, d.modulo = function(a, b) {
            return (a % b + b) % b
        };
        var e = Object.prototype.toString;
        d.isArray = function(a) {
            return "[object Array]" == e.call(a)
        }, d.makeArray = function(a) {
            var b = [];
            if (d.isArray(a)) b = a;
            else if (a && "number" == typeof a.length)
                for (var c = 0, e = a.length; e > c; c++) b.push(a[c]);
            else b.push(a);
            return b
        }, d.indexOf = Array.prototype.indexOf ? function(a, b) {
            return a.indexOf(b)
        } : function(a, b) {
            for (var c = 0, d = a.length; d > c; c++)
                if (a[c] === b) return c;
            return -1
        }, d.removeFrom = function(a, b) {
            var c = d.indexOf(a, b); - 1 != c && a.splice(c, 1)
        }, d.isElement = "function" == typeof HTMLElement || "object" == typeof HTMLElement ? function(a) {
            return a instanceof HTMLElement
        } : function(a) {
            return a && "object" == typeof a && 1 == a.nodeType && "string" == typeof a.nodeName
        }, d.setText = function() {
            function a(a, c) {
                b = b || (void 0 !== document.documentElement.textContent ? "textContent" : "innerText"), a[b] = c
            }
            var b;
            return a
        }(), d.getParent = function(a, b) {
            for (; a != document.body;)
                if (a = a.parentNode, c(a, b)) return a
        }, d.getQueryElement = function(a) {
            return "string" == typeof a ? document.querySelector(a) : a
        }, d.handleEvent = function(a) {
            var b = "on" + a.type;
            this[b] && this[b](a)
        }, d.filterFindElements = function(a, b) {
            a = d.makeArray(a);
            for (var e = [], f = 0, g = a.length; g > f; f++) {
                var h = a[f];
                if (d.isElement(h))
                    if (b) {
                        c(h, b) && e.push(h);
                        for (var i = h.querySelectorAll(b), j = 0, k = i.length; k > j; j++) e.push(i[j])
                    } else e.push(h)
            }
            return e
        }, d.debounceMethod = function(a, b, c) {
            var d = a.prototype[b],
                e = b + "Timeout";
            a.prototype[b] = function() {
                var a = this[e];
                a && clearTimeout(a);
                var b = arguments,
                    f = this;
                this[e] = setTimeout(function() {
                    d.apply(f, b), delete f[e]
                }, c || 100)
            }
        }, d.toDashed = function(a) {
            return a.replace(/(.)([A-Z])/g, function(a, b, c) {
                return b + "-" + c
            }).toLowerCase()
        };
        var f = a.console;
        return d.htmlInit = function(c, e) {
            b(function() {
                for (var b = d.toDashed(e), g = document.querySelectorAll(".js-" + b), h = "data-" + b + "-options", i = 0, j = g.length; j > i; i++) {
                    var k, l = g[i],
                        m = l.getAttribute(h);
                    try {
                        k = m && JSON.parse(m)
                    } catch (n) {
                        f && f.error("Error parsing " + h + " on " + l.nodeName.toLowerCase() + (l.id ? "#" + l.id : "") + ": " + n);
                        continue
                    }
                    var o = new c(l, k),
                        p = a.jQuery;
                    p && p.data(l, e, o)
                }
            })
        }, d
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("outlayer/item", ["eventEmitter/EventEmitter", "get-size/get-size", "get-style-property/get-style-property", "fizzy-ui-utils/utils"], function(c, d, e, f) {
            return b(a, c, d, e, f)
        }) : "object" == typeof exports ? module.exports = b(a, require("wolfy87-eventemitter"), require("get-size"), require("desandro-get-style-property"), require("fizzy-ui-utils")) : (a.Outlayer = {}, a.Outlayer.Item = b(a, a.EventEmitter, a.getSize, a.getStyleProperty, a.fizzyUIUtils))
    }(window, function(a, b, c, d, e) {
        function f(a) {
            for (var b in a) return !1;
            return b = null, !0
        }

        function g(a, b) {
            a && (this.element = a, this.layout = b, this.position = {
                x: 0,
                y: 0
            }, this._create())
        }

        function h(a) {
            return a.replace(/([A-Z])/g, function(a) {
                return "-" + a.toLowerCase()
            })
        }
        var i = a.getComputedStyle,
            j = i ? function(a) {
                return i(a, null)
            } : function(a) {
                return a.currentStyle
            },
            k = d("transition"),
            l = d("transform"),
            m = k && l,
            n = !!d("perspective"),
            o = {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "otransitionend",
                transition: "transitionend"
            }[k],
            p = ["transform", "transition", "transitionDuration", "transitionProperty"],
            q = function() {
                for (var a = {}, b = 0, c = p.length; c > b; b++) {
                    var e = p[b],
                        f = d(e);
                    f && f !== e && (a[e] = f)
                }
                return a
            }();
        e.extend(g.prototype, b.prototype), g.prototype._create = function() {
            this._transn = {
                ingProperties: {},
                clean: {},
                onEnd: {}
            }, this.css({
                position: "absolute"
            })
        }, g.prototype.handleEvent = function(a) {
            var b = "on" + a.type;
            this[b] && this[b](a)
        }, g.prototype.getSize = function() {
            this.size = c(this.element)
        }, g.prototype.css = function(a) {
            var b = this.element.style;
            for (var c in a) {
                var d = q[c] || c;
                b[d] = a[c]
            }
        }, g.prototype.getPosition = function() {
            var a = j(this.element),
                b = this.layout.options,
                c = b.isOriginLeft,
                d = b.isOriginTop,
                e = a[c ? "left" : "right"],
                f = a[d ? "top" : "bottom"],
                g = this.layout.size,
                h = -1 != e.indexOf("%") ? parseFloat(e) / 100 * g.width : parseInt(e, 10),
                i = -1 != f.indexOf("%") ? parseFloat(f) / 100 * g.height : parseInt(f, 10);
            h = isNaN(h) ? 0 : h, i = isNaN(i) ? 0 : i, h -= c ? g.paddingLeft : g.paddingRight, i -= d ? g.paddingTop : g.paddingBottom, this.position.x = h, this.position.y = i
        }, g.prototype.layoutPosition = function() {
            var a = this.layout.size,
                b = this.layout.options,
                c = {},
                d = b.isOriginLeft ? "paddingLeft" : "paddingRight",
                e = b.isOriginLeft ? "left" : "right",
                f = b.isOriginLeft ? "right" : "left",
                g = this.position.x + a[d];
            c[e] = this.getXValue(g), c[f] = "";
            var h = b.isOriginTop ? "paddingTop" : "paddingBottom",
                i = b.isOriginTop ? "top" : "bottom",
                j = b.isOriginTop ? "bottom" : "top",
                k = this.position.y + a[h];
            c[i] = this.getYValue(k), c[j] = "", this.css(c), this.emitEvent("layout", [this])
        }, g.prototype.getXValue = function(a) {
            var b = this.layout.options;
            return b.percentPosition && !b.isHorizontal ? a / this.layout.size.width * 100 + "%" : a + "px"
        }, g.prototype.getYValue = function(a) {
            var b = this.layout.options;
            return b.percentPosition && b.isHorizontal ? a / this.layout.size.height * 100 + "%" : a + "px"
        }, g.prototype._transitionTo = function(a, b) {
            this.getPosition();
            var c = this.position.x,
                d = this.position.y,
                e = parseInt(a, 10),
                f = parseInt(b, 10),
                g = e === this.position.x && f === this.position.y;
            if (this.setPosition(a, b), g && !this.isTransitioning) return void this.layoutPosition();
            var h = a - c,
                i = b - d,
                j = {};
            j.transform = this.getTranslate(h, i), this.transition({
                to: j,
                onTransitionEnd: {
                    transform: this.layoutPosition
                },
                isCleaning: !0
            })
        }, g.prototype.getTranslate = function(a, b) {
            var c = this.layout.options;
            return a = c.isOriginLeft ? a : -a, b = c.isOriginTop ? b : -b, n ? "translate3d(" + a + "px, " + b + "px, 0)" : "translate(" + a + "px, " + b + "px)"
        }, g.prototype.goTo = function(a, b) {
            this.setPosition(a, b), this.layoutPosition()
        }, g.prototype.moveTo = m ? g.prototype._transitionTo : g.prototype.goTo, g.prototype.setPosition = function(a, b) {
            this.position.x = parseInt(a, 10), this.position.y = parseInt(b, 10)
        }, g.prototype._nonTransition = function(a) {
            this.css(a.to), a.isCleaning && this._removeStyles(a.to);
            for (var b in a.onTransitionEnd) a.onTransitionEnd[b].call(this)
        }, g.prototype._transition = function(a) {
            if (!parseFloat(this.layout.options.transitionDuration)) return void this._nonTransition(a);
            var b = this._transn;
            for (var c in a.onTransitionEnd) b.onEnd[c] = a.onTransitionEnd[c];
            for (c in a.to) b.ingProperties[c] = !0, a.isCleaning && (b.clean[c] = !0);
            if (a.from) {
                this.css(a.from);
                var d = this.element.offsetHeight;
                d = null
            }
            this.enableTransition(a.to), this.css(a.to), this.isTransitioning = !0
        };
        var r = "opacity," + h(q.transform || "transform");
        g.prototype.enableTransition = function() {
            this.isTransitioning || (this.css({
                transitionProperty: r,
                transitionDuration: this.layout.options.transitionDuration
            }), this.element.addEventListener(o, this, !1))
        }, g.prototype.transition = g.prototype[k ? "_transition" : "_nonTransition"], g.prototype.onwebkitTransitionEnd = function(a) {
            this.ontransitionend(a)
        }, g.prototype.onotransitionend = function(a) {
            this.ontransitionend(a)
        };
        var s = {
            "-webkit-transform": "transform",
            "-moz-transform": "transform",
            "-o-transform": "transform"
        };
        g.prototype.ontransitionend = function(a) {
            if (a.target === this.element) {
                var b = this._transn,
                    c = s[a.propertyName] || a.propertyName;
                if (delete b.ingProperties[c], f(b.ingProperties) && this.disableTransition(), c in b.clean && (this.element.style[a.propertyName] = "", delete b.clean[c]), c in b.onEnd) {
                    var d = b.onEnd[c];
                    d.call(this), delete b.onEnd[c]
                }
                this.emitEvent("transitionEnd", [this])
            }
        }, g.prototype.disableTransition = function() {
            this.removeTransitionStyles(), this.element.removeEventListener(o, this, !1), this.isTransitioning = !1
        }, g.prototype._removeStyles = function(a) {
            var b = {};
            for (var c in a) b[c] = "";
            this.css(b)
        };
        var t = {
            transitionProperty: "",
            transitionDuration: ""
        };
        return g.prototype.removeTransitionStyles = function() {
            this.css(t)
        }, g.prototype.removeElem = function() {
            this.element.parentNode.removeChild(this.element), this.css({
                display: ""
            }), this.emitEvent("remove", [this])
        }, g.prototype.remove = function() {
            if (!k || !parseFloat(this.layout.options.transitionDuration)) return void this.removeElem();
            var a = this;
            this.once("transitionEnd", function() {
                a.removeElem()
            }), this.hide()
        }, g.prototype.reveal = function() {
            delete this.isHidden, this.css({
                display: ""
            });
            var a = this.layout.options,
                b = {},
                c = this.getHideRevealTransitionEndProperty("visibleStyle");
            b[c] = this.onRevealTransitionEnd, this.transition({
                from: a.hiddenStyle,
                to: a.visibleStyle,
                isCleaning: !0,
                onTransitionEnd: b
            })
        }, g.prototype.onRevealTransitionEnd = function() {
            this.isHidden || this.emitEvent("reveal")
        }, g.prototype.getHideRevealTransitionEndProperty = function(a) {
            var b = this.layout.options[a];
            if (b.opacity) return "opacity";
            for (var c in b) return c
        }, g.prototype.hide = function() {
            this.isHidden = !0, this.css({
                display: ""
            });
            var a = this.layout.options,
                b = {},
                c = this.getHideRevealTransitionEndProperty("hiddenStyle");
            b[c] = this.onHideTransitionEnd, this.transition({
                from: a.visibleStyle,
                to: a.hiddenStyle,
                isCleaning: !0,
                onTransitionEnd: b
            })
        }, g.prototype.onHideTransitionEnd = function() {
            this.isHidden && (this.css({
                display: "none"
            }), this.emitEvent("hide"))
        }, g.prototype.destroy = function() {
            this.css({
                position: "",
                left: "",
                right: "",
                top: "",
                bottom: "",
                transition: "",
                transform: ""
            })
        }, g
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define("outlayer/outlayer", ["eventie/eventie", "eventEmitter/EventEmitter", "get-size/get-size", "fizzy-ui-utils/utils", "./item"], function(c, d, e, f, g) {
            return b(a, c, d, e, f, g)
        }) : "object" == typeof exports ? module.exports = b(a, require("eventie"), require("wolfy87-eventemitter"), require("get-size"), require("fizzy-ui-utils"), require("./item")) : a.Outlayer = b(a, a.eventie, a.EventEmitter, a.getSize, a.fizzyUIUtils, a.Outlayer.Item)
    }(window, function(a, b, c, d, e, f) {
        function g(a, b) {
            var c = e.getQueryElement(a);
            if (!c) return void(h && h.error("Bad element for " + this.constructor.namespace + ": " + (c || a)));
            this.element = c, i && (this.$element = i(this.element)), this.options = e.extend({}, this.constructor.defaults), this.option(b);
            var d = ++k;
            this.element.outlayerGUID = d, l[d] = this, this._create(), this.options.isInitLayout && this.layout()
        }
        var h = a.console,
            i = a.jQuery,
            j = function() {},
            k = 0,
            l = {};
        return g.namespace = "outlayer", g.Item = f, g.defaults = {
            containerStyle: {
                position: "relative"
            },
            isInitLayout: !0,
            isOriginLeft: !0,
            isOriginTop: !0,
            isResizeBound: !0,
            isResizingContainer: !0,
            transitionDuration: "0.4s",
            hiddenStyle: {
                opacity: 0,
                transform: "scale(0.001)"
            },
            visibleStyle: {
                opacity: 1,
                transform: "scale(1)"
            }
        }, e.extend(g.prototype, c.prototype), g.prototype.option = function(a) {
            e.extend(this.options, a)
        }, g.prototype._create = function() {
            this.reloadItems(), this.stamps = [], this.stamp(this.options.stamp), e.extend(this.element.style, this.options.containerStyle), this.options.isResizeBound && this.bindResize()
        }, g.prototype.reloadItems = function() {
            this.items = this._itemize(this.element.children)
        }, g.prototype._itemize = function(a) {
            for (var b = this._filterFindItemElements(a), c = this.constructor.Item, d = [], e = 0, f = b.length; f > e; e++) {
                var g = b[e],
                    h = new c(g, this);
                d.push(h)
            }
            return d
        }, g.prototype._filterFindItemElements = function(a) {
            return e.filterFindElements(a, this.options.itemSelector)
        }, g.prototype.getItemElements = function() {
            for (var a = [], b = 0, c = this.items.length; c > b; b++) a.push(this.items[b].element);
            return a
        }, g.prototype.layout = function() {
            this._resetLayout(), this._manageStamps();
            var a = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
            this.layoutItems(this.items, a), this._isLayoutInited = !0
        }, g.prototype._init = g.prototype.layout, g.prototype._resetLayout = function() {
            this.getSize()
        }, g.prototype.getSize = function() {
            this.size = d(this.element)
        }, g.prototype._getMeasurement = function(a, b) {
            var c, f = this.options[a];
            f ? ("string" == typeof f ? c = this.element.querySelector(f) : e.isElement(f) && (c = f), this[a] = c ? d(c)[b] : f) : this[a] = 0
        }, g.prototype.layoutItems = function(a, b) {
            a = this._getItemsForLayout(a), this._layoutItems(a, b), this._postLayout()
        }, g.prototype._getItemsForLayout = function(a) {
            for (var b = [], c = 0, d = a.length; d > c; c++) {
                var e = a[c];
                e.isIgnored || b.push(e)
            }
            return b
        }, g.prototype._layoutItems = function(a, b) {
            if (this._emitCompleteOnItems("layout", a), a && a.length) {
                for (var c = [], d = 0, e = a.length; e > d; d++) {
                    var f = a[d],
                        g = this._getItemLayoutPosition(f);
                    g.item = f, g.isInstant = b || f.isLayoutInstant, c.push(g)
                }
                this._processLayoutQueue(c)
            }
        }, g.prototype._getItemLayoutPosition = function() {
            return {
                x: 0,
                y: 0
            }
        }, g.prototype._processLayoutQueue = function(a) {
            for (var b = 0, c = a.length; c > b; b++) {
                var d = a[b];
                this._positionItem(d.item, d.x, d.y, d.isInstant)
            }
        }, g.prototype._positionItem = function(a, b, c, d) {
            d ? a.goTo(b, c) : a.moveTo(b, c)
        }, g.prototype._postLayout = function() {
            this.resizeContainer()
        }, g.prototype.resizeContainer = function() {
            if (this.options.isResizingContainer) {
                var a = this._getContainerSize();
                a && (this._setContainerMeasure(a.width, !0), this._setContainerMeasure(a.height, !1))
            }
        }, g.prototype._getContainerSize = j, g.prototype._setContainerMeasure = function(a, b) {
            if (void 0 !== a) {
                var c = this.size;
                c.isBorderBox && (a += b ? c.paddingLeft + c.paddingRight + c.borderLeftWidth + c.borderRightWidth : c.paddingBottom + c.paddingTop + c.borderTopWidth + c.borderBottomWidth), a = Math.max(a, 0), this.element.style[b ? "width" : "height"] = a + "px"
            }
        }, g.prototype._emitCompleteOnItems = function(a, b) {
            function c() {
                e.dispatchEvent(a + "Complete", null, [b])
            }

            function d() {
                g++, g === f && c()
            }
            var e = this,
                f = b.length;
            if (!b || !f) return void c();
            for (var g = 0, h = 0, i = b.length; i > h; h++) {
                var j = b[h];
                j.once(a, d)
            }
        }, g.prototype.dispatchEvent = function(a, b, c) {
            var d = b ? [b].concat(c) : c;
            if (this.emitEvent(a, d), i)
                if (this.$element = this.$element || i(this.element), b) {
                    var e = i.Event(b);
                    e.type = a, this.$element.trigger(e, c)
                } else this.$element.trigger(a, c)
        }, g.prototype.ignore = function(a) {
            var b = this.getItem(a);
            b && (b.isIgnored = !0)
        }, g.prototype.unignore = function(a) {
            var b = this.getItem(a);
            b && delete b.isIgnored
        }, g.prototype.stamp = function(a) {
            if (a = this._find(a)) {
                this.stamps = this.stamps.concat(a);
                for (var b = 0, c = a.length; c > b; b++) {
                    var d = a[b];
                    this.ignore(d)
                }
            }
        }, g.prototype.unstamp = function(a) {
            if (a = this._find(a))
                for (var b = 0, c = a.length; c > b; b++) {
                    var d = a[b];
                    e.removeFrom(this.stamps, d), this.unignore(d)
                }
        }, g.prototype._find = function(a) {
            return a ? ("string" == typeof a && (a = this.element.querySelectorAll(a)), a = e.makeArray(a)) : void 0
        }, g.prototype._manageStamps = function() {
            if (this.stamps && this.stamps.length) {
                this._getBoundingRect();
                for (var a = 0, b = this.stamps.length; b > a; a++) {
                    var c = this.stamps[a];
                    this._manageStamp(c)
                }
            }
        }, g.prototype._getBoundingRect = function() {
            var a = this.element.getBoundingClientRect(),
                b = this.size;
            this._boundingRect = {
                left: a.left + b.paddingLeft + b.borderLeftWidth,
                top: a.top + b.paddingTop + b.borderTopWidth,
                right: a.right - (b.paddingRight + b.borderRightWidth),
                bottom: a.bottom - (b.paddingBottom + b.borderBottomWidth)
            }
        }, g.prototype._manageStamp = j, g.prototype._getElementOffset = function(a) {
            var b = a.getBoundingClientRect(),
                c = this._boundingRect,
                e = d(a),
                f = {
                    left: b.left - c.left - e.marginLeft,
                    top: b.top - c.top - e.marginTop,
                    right: c.right - b.right - e.marginRight,
                    bottom: c.bottom - b.bottom - e.marginBottom
                };
            return f
        }, g.prototype.handleEvent = function(a) {
            var b = "on" + a.type;
            this[b] && this[b](a)
        }, g.prototype.bindResize = function() {
            this.isResizeBound || (b.bind(a, "resize", this), this.isResizeBound = !0)
        }, g.prototype.unbindResize = function() {
            this.isResizeBound && b.unbind(a, "resize", this), this.isResizeBound = !1
        }, g.prototype.onresize = function() {
            function a() {
                b.resize(), delete b.resizeTimeout
            }
            this.resizeTimeout && clearTimeout(this.resizeTimeout);
            var b = this;
            this.resizeTimeout = setTimeout(a, 100)
        }, g.prototype.resize = function() {
            this.isResizeBound && this.needsResizeLayout() && this.layout()
        }, g.prototype.needsResizeLayout = function() {
            var a = d(this.element),
                b = this.size && a;
            return b && a.innerWidth !== this.size.innerWidth
        }, g.prototype.addItems = function(a) {
            var b = this._itemize(a);
            return b.length && (this.items = this.items.concat(b)), b
        }, g.prototype.appended = function(a) {
            var b = this.addItems(a);
            b.length && (this.layoutItems(b, !0), this.reveal(b))
        }, g.prototype.prepended = function(a) {
            var b = this._itemize(a);
            if (b.length) {
                var c = this.items.slice(0);
                this.items = b.concat(c), this._resetLayout(), this._manageStamps(), this.layoutItems(b, !0), this.reveal(b), this.layoutItems(c)
            }
        }, g.prototype.reveal = function(a) {
            this._emitCompleteOnItems("reveal", a);
            for (var b = a && a.length, c = 0; b && b > c; c++) {
                var d = a[c];
                d.reveal()
            }
        }, g.prototype.hide = function(a) {
            this._emitCompleteOnItems("hide", a);
            for (var b = a && a.length, c = 0; b && b > c; c++) {
                var d = a[c];
                d.hide()
            }
        }, g.prototype.revealItemElements = function(a) {
            var b = this.getItems(a);
            this.reveal(b)
        }, g.prototype.hideItemElements = function(a) {
            var b = this.getItems(a);
            this.hide(b)
        }, g.prototype.getItem = function(a) {
            for (var b = 0, c = this.items.length; c > b; b++) {
                var d = this.items[b];
                if (d.element === a) return d
            }
        }, g.prototype.getItems = function(a) {
            a = e.makeArray(a);
            for (var b = [], c = 0, d = a.length; d > c; c++) {
                var f = a[c],
                    g = this.getItem(f);
                g && b.push(g)
            }
            return b
        }, g.prototype.remove = function(a) {
            var b = this.getItems(a);
            if (this._emitCompleteOnItems("remove", b), b && b.length)
                for (var c = 0, d = b.length; d > c; c++) {
                    var f = b[c];
                    f.remove(), e.removeFrom(this.items, f)
                }
        }, g.prototype.destroy = function() {
            var a = this.element.style;
            a.height = "", a.position = "", a.width = "";
            for (var b = 0, c = this.items.length; c > b; b++) {
                var d = this.items[b];
                d.destroy()
            }
            this.unbindResize();
            var e = this.element.outlayerGUID;
            delete l[e], delete this.element.outlayerGUID, i && i.removeData(this.element, this.constructor.namespace)
        }, g.data = function(a) {
            a = e.getQueryElement(a);
            var b = a && a.outlayerGUID;
            return b && l[b]
        }, g.create = function(a, b) {
            function c() {
                g.apply(this, arguments)
            }
            return Object.create ? c.prototype = Object.create(g.prototype) : e.extend(c.prototype, g.prototype), c.prototype.constructor = c, c.defaults = e.extend({}, g.defaults), e.extend(c.defaults, b), c.prototype.settings = {}, c.namespace = a, c.data = g.data, c.Item = function() {
                f.apply(this, arguments)
            }, c.Item.prototype = new f, e.htmlInit(c, a), i && i.bridget && i.bridget(a, c), c
        }, g.Item = f, g
    }),
    function(a, b) {
        "function" == typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size", "fizzy-ui-utils/utils"], b) : "object" == typeof exports ? module.exports = b(require("outlayer"), require("get-size"), require("fizzy-ui-utils")) : a.Masonry = b(a.Outlayer, a.getSize, a.fizzyUIUtils)
    }(window, function(a, b, c) {
        var d = a.create("masonry");
        return d.prototype._resetLayout = function() {
            this.getSize(), this._getMeasurement("columnWidth", "outerWidth"), this._getMeasurement("gutter", "outerWidth"), this.measureColumns();
            var a = this.cols;
            for (this.colYs = []; a--;) this.colYs.push(0);
            this.maxY = 0
        }, d.prototype.measureColumns = function() {
            if (this.getContainerWidth(), !this.columnWidth) {
                var a = this.items[0],
                    c = a && a.element;
                this.columnWidth = c && b(c).outerWidth || this.containerWidth
            }
            var d = this.columnWidth += this.gutter,
                e = this.containerWidth + this.gutter,
                f = e / d,
                g = d - e % d,
                h = g && 1 > g ? "round" : "floor";
            f = Math[h](f), this.cols = Math.max(f, 1)
        }, d.prototype.getContainerWidth = function() {
            var a = this.options.isFitWidth ? this.element.parentNode : this.element,
                c = b(a);
            this.containerWidth = c && c.innerWidth
        }, d.prototype._getItemLayoutPosition = function(a) {
            a.getSize();
            var b = a.size.outerWidth % this.columnWidth,
                d = b && 1 > b ? "round" : "ceil",
                e = Math[d](a.size.outerWidth / this.columnWidth);
            e = Math.min(e, this.cols);
            for (var f = this._getColGroup(e), g = Math.min.apply(Math, f), h = c.indexOf(f, g), i = {
                    x: this.columnWidth * h,
                    y: g
                }, j = g + a.size.outerHeight, k = this.cols + 1 - f.length, l = 0; k > l; l++) this.colYs[h + l] = j;
            return i
        }, d.prototype._getColGroup = function(a) {
            if (2 > a) return this.colYs;
            for (var b = [], c = this.cols + 1 - a, d = 0; c > d; d++) {
                var e = this.colYs.slice(d, d + a);
                b[d] = Math.max.apply(Math, e)
            }
            return b
        }, d.prototype._manageStamp = function(a) {
            var c = b(a),
                d = this._getElementOffset(a),
                e = this.options.isOriginLeft ? d.left : d.right,
                f = e + c.outerWidth,
                g = Math.floor(e / this.columnWidth);
            g = Math.max(0, g);
            var h = Math.floor(f / this.columnWidth);
            h -= f % this.columnWidth ? 0 : 1, h = Math.min(this.cols - 1, h);
            for (var i = (this.options.isOriginTop ? d.top : d.bottom) + c.outerHeight, j = g; h >= j; j++) this.colYs[j] = Math.max(i, this.colYs[j])
        }, d.prototype._getContainerSize = function() {
            this.maxY = Math.max.apply(Math, this.colYs);
            var a = {
                height: this.maxY
            };
            return this.options.isFitWidth && (a.width = this._getContainerFitWidth()), a
        }, d.prototype._getContainerFitWidth = function() {
            for (var a = 0, b = this.cols; --b && 0 === this.colYs[b];) a++;
            return (this.cols - a) * this.columnWidth - this.gutter
        }, d.prototype.needsResizeLayout = function() {
            var a = this.containerWidth;
            return this.getContainerWidth(), a !== this.containerWidth
        }, d
    });
/*!
 * Masonry v2 shim
 * to maintain backwards compatibility
 * as of Masonry v3.1.2
 *
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
! function(a) {
    "use strict";
    var b = a.Masonry;
    b.prototype._remapV2Options = function() {
        this._remapOption("gutterWidth", "gutter"), this._remapOption("isResizable", "isResizeBound"), this._remapOption("isRTL", "isOriginLeft", function(a) {
            return !a
        });
        var a = this.options.isAnimated;
        if (void 0 !== a && (this.options.transitionDuration = a ? this.options.transitionDuration : 0), void 0 === a || a) {
            var b = this.options.animationOptions,
                c = b && b.duration;
            c && (this.options.transitionDuration = "string" == typeof c ? c : c + "ms")
        }
    }, b.prototype._remapOption = function(a, b, c) {
        var d = this.options[a];
        void 0 !== d && (this.options[b] = c ? c(d) : d)
    };
    var c = b.prototype._create;
    b.prototype._create = function() {
        var a = this;
        this._remapV2Options(), c.apply(this, arguments), setTimeout(function() {
            jQuery(a.element).addClass("masonry")
        }, 0)
    };
    var d = b.prototype.layout;
    b.prototype.layout = function() {
        this._remapV2Options(), d.apply(this, arguments)
    };
    var e = b.prototype.option;
    b.prototype.option = function() {
        e.apply(this, arguments), this._remapV2Options()
    };
    var f = b.prototype._itemize;
    b.prototype._itemize = function(a) {
        var b = f.apply(this, arguments);
        return jQuery(a).addClass("masonry-brick"), b
    };
    var g = b.prototype.measureColumns;
    b.prototype.measureColumns = function() {
        var a = this.options.columnWidth;
        a && "function" == typeof a && (this.getContainerWidth(), this.columnWidth = a(this.containerWidth)), g.apply(this, arguments)
    }, b.prototype.reload = function() {
        this.reloadItems.apply(this, arguments), this.layout.apply(this)
    };
    var h = b.prototype.destroy;
    b.prototype.destroy = function() {
        var a = this.getItemElements();
        jQuery(this.element).removeClass("masonry"), jQuery(a).removeClass("masonry-brick"), h.apply(this, arguments)
    }
}(window);
! function(e) {
    var s = {};

    function t(o) {
        if (s[o]) return s[o].exports;
        var a = s[o] = {
            i: o,
            l: !1,
            exports: {}
        };
        return e[o].call(a.exports, a, a.exports, t), a.l = !0, a.exports
    }
    t.m = e, t.c = s, t.d = function(e, s, o) {
        t.o(e, s) || Object.defineProperty(e, s, {
            enumerable: !0,
            get: o
        })
    }, t.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, t.t = function(e, s) {
        if (1 & s && (e = t(e)), 8 & s) return e;
        if (4 & s && "object" == typeof e && e && e.__esModule) return e;
        var o = Object.create(null);
        if (t.r(o), Object.defineProperty(o, "default", {
                enumerable: !0,
                value: e
            }), 2 & s && "string" != typeof e)
            for (var a in e) t.d(o, a, function(s) {
                return e[s]
            }.bind(null, a));
        return o
    }, t.n = function(e) {
        var s = e && e.__esModule ? function() {
            return e.default
        } : function() {
            return e
        };
        return t.d(s, "a", s), s
    }, t.o = function(e, s) {
        return Object.prototype.hasOwnProperty.call(e, s)
    }, t.p = "", t(t.s = 2)
}({
    2: function(e, s, t) {
        window.dslc_responsive_classes = function(e) {
            void 0 === e && (e = !1);
            var s = jQuery(window).width(),
                t = jQuery("body");
            1 != e && (t.hasClass("dslc-res-disabled") || jQuery('.dslca-module-edit-options-tab-hook.dslca-active[data-section="responsive"]').length) || (t.removeClass("dslc-res-phone dslc-res-tablet dslc-res-smaller-monitor dslc-res-big"), s >= 1024 && s < 1280 ? t.addClass("dslc-res-smaller-monitor") : s >= 768 && s < 1024 ? t.addClass("dslc-res-tablet") : s < 768 ? t.addClass("dslc-res-phone") : t.addClass("dslc-res-big"))
        }, window.dslc_init_accordion = function() {
            jQuery(".dslc-accordion").each(function() {
                var e = jQuery(this),
                    s = e.data("open") - 1,
                    t = jQuery(".dslc-accordion-item:eq(" + s + ")", e),
                    o = t.siblings(".dslc-accordion-item"),
                    a = jQuery(".dslc-accordion-item", e);
                s >= 0 ? (t.addClass("dslc-active"), o.addClass("dslc-inactive"), jQuery(".dslc-accordion-content", o).hide(), jQuery("body").hasClass("dslca-enabled") || o.find(".dslca-icon").removeClass("dslc-icon-minus").addClass("dslc-icon-plus")) : (a.addClass("dslc-inactive"), jQuery(".dslc-accordion-content", a).hide(), jQuery("body").hasClass("dslca-enabled") || a.find(".dslca-icon").removeClass("dslc-icon-minus").addClass("dslc-icon-plus"))
            })
        }, window.dslc_init_lightbox = function() {
            var e;
            jQuery(".dslc-lightbox-image").each(function() {
                e = "image", (jQuery(this).attr("href").indexOf("youtube.com") >= 0 || jQuery(this).attr("href").indexOf("vimeo.com") >= 0) && (e = "iframe"), jQuery(this).magnificPopup({
                    type: e
                })
            }), jQuery(".dslc-lightbox-gallery").each(function() {
                jQuery(this).magnificPopup({
                    delegate: "a",
                    type: "image",
                    gallery: {
                        enabled: !0
                    },
                    image: {
                        titleSrc: function(e) {
                            var s = "";
                            return void 0 !== e.el.attr("data-caption") && (s = "<small>" + e.el.attr("data-caption") + "</small>"), e.el.attr("title") + s
                        }
                    }
                })
            })
        }, window.dslc_carousel = function() {
            jQuery(".dslc-carousel, .dslc-slider").each(function(e) {
                var s, t, o, a, c;
                s = jQuery(this), (t = s.closest(".dslc-module-front")).imagesLoaded(function() {
                    if (t.closest(".dslc-modules-section").hasClass("dslc-no-columns-spacing")) var e = 0;
                    else e = t.width() / 100 * 2.12766 / 2;
                    s.hasClass("dslc-carousel") && (s.find(".dslc-col").css({
                        "margin-left": e,
                        "margin-right": e
                    }), s.css({
                        "margin-left": -1 * e,
                        width: s.width() + 2 * e
                    })), o = {
                        items: 4,
                        pagination: !0,
                        singleItem: !1,
                        itemsScaleUp: !1,
                        slideSpeed: 200,
                        paginationSpeed: 800,
                        rewindSpeed: 1e3,
                        autoPlay: !1,
                        stopOnHover: !1,
                        lazyLoad: !1,
                        lazyFollow: !0,
                        autoHeight: !1,
                        mouseDrag: !0,
                        touchDrag: !0,
                        addClassActive: !0,
                        transitionStyle: "fade",
                        scrollPerPage: !0
                    }, a = {
                        items: s.data("columns"),
                        pagination: s.data("pagination"),
                        itemsScaleUp: s.data("scale-up"),
                        slideSpeed: s.data("slide-speed"),
                        paginationSpeed: s.data("pagination-speed"),
                        rewindSpeed: s.data("rewind-speed"),
                        autoPlay: s.data("autoplay"),
                        stopOnHover: s.data("stop-on-hover"),
                        lazyLoad: s.data("lazy-load"),
                        lazyFollow: s.data("lazy-follow"),
                        autoHeight: s.data("flexible-height"),
                        mouseDrag: s.data("mouse-drag"),
                        touchDrag: s.data("touch-drag"),
                        addClassActive: s.data("active-class"),
                        transitionStyle: s.data("animation"),
                        scrollPerPage: s.data("scroll-per-page")
                    }, c = jQuery.extend({}, o, a), (s.hasClass("dslc-slider") || 1 == c.items) && (c.singleItem = !0), 0 == c.autoPlay && (c.autoPlay = !1), s.owlCarousel({
                        items: c.items,
                        pagination: c.pagination,
                        singleItem: c.singleItem,
                        itemsScaleUp: c.itemsScaleUp,
                        slideSpeed: c.slideSpeed,
                        paginationSpeed: c.paginationSpeed,
                        rewindSpeed: c.rewindSpeed,
                        autoPlay: c.autoPlay,
                        stopOnHover: c.stopOnHover,
                        lazyLoad: c.lazyLoad,
                        lazyFollow: c.lazyFollow,
                        mouseDrag: c.mouseDrag,
                        touchDrag: c.touchDrag,
                        scrollPerPage: c.scrollPerPage,
                        transitionStyle: c.transitionStyle,
                        autoHeight: c.autoHeight,
                        itemsDesktop: !1,
                        itemsDesktopSmall: !1,
                        itemsTablet: !1,
                        itemsMobile: [766, 1],
                        afterInit: function() {
                            s.prev(".dslc-loader").remove(), s.css({
                                opacity: 1,
                                maxHeight: "none"
                            })
                        },
                        afterAction: function() {
                            var e = this.owl.visibleItems;
                            s.find(".dslc-carousel-item-visible").removeClass("dslc-carousel-item-visible"), s.find(".owl-item").filter(function(s) {
                                return e.indexOf(s) > -1
                            }).addClass("dslc-carousel-item-visible")
                        }
                    }), jQuery(".dslc-carousel-nav-next", t).click(function(e) {
                        e.preventDefault(), s.data("owlCarousel").next()
                    }), jQuery(".dslc-carousel-nav-prev", t).click(function(e) {
                        e.preventDefault(), s.data("owlCarousel").prev()
                    })
                })
            })
        }, window.dslc_carousel_responsive = function() {
            jQuery(".dslc-carousel").each(function() {
                var e, s;
                if (s = (e = jQuery(this)).closest(".dslc-module-front"), e.css({
                        "margin-left": 0,
                        width: "auto"
                    }), s.closest(".dslc-modules-section").hasClass("dslc-no-columns-spacing")) var t = 0;
                else t = s.width() / 100 * 2.12766 / 2;
                e.hasClass("dslc-carousel") && (e.find(".dslc-col").css({
                    "margin-left": t,
                    "margin-right": t
                }), e.css({
                    "margin-left": -1 * t,
                    width: e.width() + 2 * t
                }))
            })
        }, window.dslc_bg_video = function() {
            jQuery(".dslc-bg-video").each(function() {
                jQuery(this).find("video").length || jQuery(this).css({
                    opacity: 1
                })
            }), jQuery(".dslc-bg-video video").mediaelementplayer({
                loop: !0,
                pauseOtherPlayers: !1,
                success: function(e, s) {
                    e.addEventListener("loadeddata", function(e) {
                        jQuery(s).closest(".dslc-bg-video").animate({
                            opacity: 1
                        }, 400)
                    }), e.play()
                }
            })
        }, window.dslc_parallax = function() {
            jQuery(".dslc-init-parallax").each(function() {
                var e = jQuery(this);
                e.imagesLoaded({
                    background: !0
                }, function() {
                    var s = e.css("background-position").split(" ")[0] + " " + -1 * (window.pageYOffset - e.offset().top) / 4 + "px";
                    e.css({
                        backgroundPosition: s
                    })
                })
            }), window.onscroll = function() {
                jQuery(".dslc-init-parallax").each(function() {
                    var e = jQuery(this).css("background-position").split(" ")[0] + " " + -1 * (window.pageYOffset - jQuery(this).offset().top) / 4 + "px";
                    jQuery(this).css({
                        backgroundPosition: e
                    })
                })
            }
        }, window.dslc_masonry = function(e, s) {
            e = void 0 !== e ? e : jQuery("body"), s = void 0 !== s && s, jQuery(".dslc-init-masonry", e).each(function() {
                var e, t, o, a;
                e = jQuery(this).find(".dslc-posts-inner").length ? jQuery(this).find(".dslc-posts-inner") : jQuery(this), t = ".dslc-masonry-item", jQuery(t, e).width(), o = jQuery(e).width(), a = jQuery(this).closest(".dslc-modules-section").hasClass("dslc-no-columns-spacing") ? 0 : o / 100 * 2.05, e.data("masonry") ? jQuery(e).imagesLoaded(function() {
                    jQuery(e).masonry("destroy").masonry({
                        gutter: a,
                        itemSelector: t
                    }), jQuery(e).find(".dslc-post:not(.dslc-masonry-item)").hide(), s && jQuery(t, e).css({
                        scale: "0.2"
                    }).animate({
                        scale: "1"
                    }, 500)
                }) : (jQuery(t).css({
                    marginRight: 0
                }), jQuery(e).imagesLoaded(function() {
                    jQuery(e).masonry({
                        gutter: a,
                        itemSelector: t
                    })
                }))
            })
        }, window.dslc_tabs_generate_code = function(e) {
            var s = e.closest(".dslc-module-front");
            dslcTabsNav = jQuery(".dslc-tabs-nav", e), dslcTabsContent = jQuery(".dslc-tabs-content", e), dslcTabContent = jQuery(".dslc-tabs-tab-content", e);
            var t = "",
                o = "",
                a = 0,
                c = 0;
            jQuery(".dslc-tabs-nav-hook", dslcTabsNav).each(function() {
                ++a > 1 && (t += " (dslc_sep) "), t += jQuery(this).find(".dslc-tabs-nav-hook-title").text()
            }), dslcTabContent.each(function() {
                ++c > 1 && (o += " (dslc_sep) "), o += jQuery(this).find(".dslca-tab-plain-content").val()
            }), o = o.replace(/<textarea/g, "<lctextarea").replace(/<\/textarea/g, "</lctextarea"), jQuery('.dslca-module-option-front[data-id="tabs_nav"]', s).val(t), jQuery('.dslca-module-option-front[data-id="tabs_content"]', s).val(o), parent.LiveComposer.Builder.Actions.optionsChanged()
        }, window.dslc_accordion_generate_code = function(e) {
            var s = e.closest(".dslc-module-front"),
                t = 0,
                o = "",
                a = "";
            jQuery(".dslc-accordion-item", e).each(function() {
                ++t > 1 && (o += " (dslc_sep) ", a += " (dslc_sep) "), o += jQuery(this).find(".dslc-accordion-title").text(), a += jQuery(this).find(".dslc-accordion-content").find(".dslca-accordion-plain-content").val()
            }), a = a.replace(/<textarea/g, "<lctextarea").replace(/<\/textarea/g, "</lctextarea"), jQuery('.dslca-module-option-front[data-id="accordion_nav"]', s).val(o), jQuery('.dslca-module-option-front[data-id="accordion_content"]', s).val(a), parent.LiveComposer.Builder.Actions.optionsChanged()
        }, window.dslc_tabs = function() {
            var e, s;
            jQuery(".dslc-tabs").each(function() {
                e = jQuery(this), s = jQuery(".dslc-tabs-nav", e), jQuery(".dslc-tabs-content", e), jQuery(".dslc-tabs-tab-content", e).eq(0).addClass("dslc-active"), jQuery(".dslc-tabs-nav-hook", s).eq(0).addClass("dslc-active")
            })
        }, window.dslc_download_count_increment = function(e) {
            jQuery.post(DSLCAjax.ajaxurl, {
                action: "dslc-download-count-increment",
                dslc_post_id: e
            }, function(e) {})
        }, window.dslc_check_viewport = function() {
            !!document.documentMode ? jQuery(".dslc-in-viewport-check").css("opacity", 1) : jQuery(".dslc-in-viewport-check:in-viewport:not(.dslc-in-viewport)").each(function() {
                var e = jQuery(this),
                    s = e.data("dslc-anim"),
                    t = parseInt(e.data("dslc-anim-duration")) / 1e3 + "s";
                jQuery(window).width() < 768 && (t = "0s");
                var o = parseInt(e.data("dslc-anim-delay")),
                    a = s + " " + t + " " + e.data("dslc-anim-easing") + " forwards";
                jQuery(this).addClass("dslc-in-viewport"), o > 0 ? setTimeout(function() {
                    e.css({
                        "-webkit-animation": a,
                        "-moz-animation": a,
                        animation: a
                    })
                }, o) : jQuery(this).css({
                    "-webkit-animation": a,
                    "-moz-animation": a,
                    animation: a
                })
            })
        }, window.dslc_el_anim_hover = function() {
            jQuery(".dslc-on-hover-anim-target").each(function() {
                var e = "all " + parseInt(jQuery(this).data("dslc-anim-speed")) / 1e3 + "s ease-out";
                jQuery(this).css({
                    "-webkit-transition": e,
                    "-moz-transition": e,
                    transition: e
                })
            })
        }, window.dslc_validate_comment_form = function(e) {
            var s = e.find("#author"),
                t = e.find("#email"),
                o = (e.find("#url"), e.find("#comment")),
                a = !0;
            return s.length && 0 == s.val().length ? (s.css({
                borderColor: "#e55f5f"
            }), a = !1) : s.attr("style", ""), !t.length || 0 != t.val().length && -1 !== t.val().indexOf("@") ? t.attr("style", "") : (t.css({
                borderColor: "#e55f5f"
            }), a = !1), 0 == o.val().length ? (o.css({
                borderColor: "#e55f5f"
            }), a = !1) : o.attr("style", ""), a
        }, window.dslc_social_share = function(e, s, t) {
            var o, a, c = "status=no,height=" + s + ",width=" + e + ",resizable=yes,left=" + (o = window.screen.width / 2 - (e / 2 + 10)) + ",top=" + (a = window.screen.height / 2 - (s / 2 + 50)) + ",screenX=" + o + ",screenY=" + a + ",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no";
            return location.href, document.title, window.open(t, "sharer", c), !1
        }, window.dslc_sticky_row = function() {
            if (jQuery("body .dslc-modules-section").hasClass("dslc-sticky-row") && !jQuery("body").hasClass("dslca-enabled")) {
                var e = jQuery("body .dslc-modules-section.dslc-sticky-row"),
                    s = jQuery(".dslc-sticky-row");
                s.each(function(e, t) {
                    jQuery(s).eq(e).outerHeight();
                    jQuery(t).wrap('<div class="dslc-modules-section-placeholder"></div>').parent().height(jQuery(t).outerHeight())
                });
                (e = jQuery("body .dslc-modules-section.dslc-sticky-row")).offset().top;
                jQuery("#wpadminbar").length && jQuery("#wpadminbar").height(), jQuery(window).scroll(function() {
                    var s = jQuery(".dslc-sticky-row"),
                        t = jQuery(this).scrollTop();
                    t >= 0 ? s.each(function(e, o) {
                        var a = jQuery(s).eq(e),
                            c = a.offset().top,
                            i = a.outerHeight();
                        jQuery("#wpadminbar").length && (c -= jQuery("#wpadminbar").height());
                        var n = o.isFixed && t <= o.exTop,
                            d = c <= t,
                            l = "",
                            r = 0;
                        if (n) positon = "relative", r = 0, o.isFixed = !1, o.classList.remove("dslc-sticky-section-fixed"), jQuery(o).closest(".dslc-modules-section-placeholder").height(jQuery(o).outerHeight());
                        else if (d) {
                            if (l = "fixed", 0 < e)
                                for (var u = 0; u < e; u++) r += jQuery(s).eq(u).outerHeight();
                            t += i, o.isFixed || (o.isFixed = !0, o.exTop = c), jQuery("#wpadminbar").length && (r += 32), o.classList.add("dslc-sticky-section-fixed"), jQuery(o).closest(".dslc-modules-section-placeholder").height(jQuery(o).outerHeight())
                        }
                        jQuery(o).css({
                            position: l,
                            top: r + "px"
                        })
                    }) : (e.removeClass("dslc-sticky-section-fixed"), s.css({
                        position: "relative",
                        top: "0px"
                    }))
                })
            }
        }, jQuery(document).ready(function(e) {
            var s, t, o, a, c;
            if (document.querySelector("meta[name=viewport]").setAttribute("content", "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"), dslc_el_anim_hover(), dslc_bg_video(), dslc_tabs(), jQuery(document).on("click", ".dslc-pagination-load-more a", function(e) {
                    if (e.preventDefault(), jQuery(this).parent().hasClass("dslc-active")) {
                        var s = jQuery(this),
                            t = jQuery(this).closest(".dslc-module-front"),
                            o = t.find(".dslc-pagination"),
                            a = t.find(".dslc-posts-inner"),
                            c = t.attr("id"),
                            i = s.attr("href"),
                            n = t.find(".dslc-load-more-temp");
                        s.find(".dslc-icon").addClass("dslc-icon-spin"), n.load(i + " #" + c, function() {
                            a.append('<div class="dslc-post-separator"></div>'), a.append(n.find(".dslc-posts-inner").html()), t.find(".dslc-pagination").html(n.find(".dslc-pagination").html()), o.replaceWith(n.find(".dslc-pagination")), n.html(""), a.imagesLoaded(function() {
                                t.find(".dslc-init-masonry").length && t.find(".dslc-init-masonry .dslc-posts-inner").masonry("reloadItems").masonry()
                            })
                        })
                    }
                }), jQuery(".dslc-tp-comment-form form").submit(function(e) {
                    dslc_validate_comment_form(jQuery(this)) || e.preventDefault()
                }), jQuery(".dslc-mobile-navigation select").change(function() {
                    window.location = jQuery(this).val()
                }), jQuery(document).on("click", ".dslca-add-new-tab-hook", function() {
                    var e, s = jQuery(this).closest(".dslc-tabs"),
                        t = jQuery(".dslc-tabs-nav .dslc-tabs-nav-hook:last", s),
                        o = jQuery(".dslc-tabs-tab-content:last", s),
                        a = jQuery(".dslc-tabs-nav .dslc-tabs-nav-hook", s).length;
                    t.after('<span class="dslc-tabs-nav-hook"><span class="dslc-tabs-nav-hook-title" contenteditable="true">Click to edit title</span><span class="dslca-delete-tab-hook"><span class="dslca-icon dslc-icon-remove"></span></span></span>'), o.after('<div class="dslc-tabs-tab-content"><div class="dslca-editable-content" data-edit-id="' + a + '">This is just placeholder text.</div><textarea class="dslca-tab-plain-content">This is just placeholder text.</textarea><div class="dslca-wysiwyg-actions-edit"><span class="dslca-wysiwyg-actions-edit-hook" data-event="wysiwyg-edit" data-id-to-edit="' + a + '">Open in WP Editor</span></div></div>'), jQuery(".dslc-tabs-nav-hook:last", s).click(), dslc_tabs_generate_code(s), e = this[0], jQuery(e).closest(".dslc-module-front").hasClass("dslca-module-being-edited") || jQuery(e).closest(".dslc-module-front").find(".dslca-module-edit-hook").trigger("click")
                }), jQuery(document).on("click", ".dslca-delete-tab-hook", function(e) {
                    var s = jQuery(this).closest(".dslc-tabs"),
                        t = jQuery(this).closest(".dslc-tabs-nav-hook"),
                        o = t.index(),
                        a = jQuery(".dslc-tabs-tab-content", s).eq(o);
                    jQuery(".dslc-tabs-nav-hook", s).length > 1 ? (t.remove(), a.remove(), jQuery(".dslc-tabs-tab-content.dslc-active", s).length || jQuery(".dslc-tabs-nav-hook:first", s).trigger("click"), dslc_tabs_generate_code(s)) : alert("You can not delete the last remaining tab"), e.stopPropagation()
                }), jQuery(document).on("click", ".dslc-tabs-nav-hook", function(e) {
                    jQuery(this).hasClass("dslc-active") || (dslcTabs = jQuery(this).closest(".dslc-tabs"), dslcTabsNav = jQuery(".dslc-tabs-nav", dslcTabs), dslcTabsContent = jQuery(".dslc-tabs-content", dslcTabs), dslcTabContent = jQuery(".dslc-tabs-tab-content", dslcTabs), dslcTabIndex = jQuery(this).index(), jQuery(".dslc-tabs-nav-hook.dslc-active", dslcTabs).removeClass("dslc-active"), jQuery(this).addClass("dslc-active"), jQuery(".dslc-tabs-tab-content.dslc-active", dslcTabs).length ? jQuery(".dslc-tabs-tab-content.dslc-active", dslcTabs).animate({
                        opacity: 0
                    }, 250, function() {
                        jQuery(this).removeClass("dslc-active"), dslcTabContent.eq(dslcTabIndex).css({
                            opacity: 0
                        }).addClass("dslc-active").show().animate({
                            opacity: 1
                        }, 250)
                    }) : dslcTabContent.eq(dslcTabIndex).css({
                        opacity: 0
                    }).addClass("dslc-active").show().animate({
                        opacity: 1
                    }, 250))
                }), jQuery(document).on("blur paste", ".dslc-tabs-nav-hook-title[contenteditable], .dslc-tabs-tab-content[contenteditable]", function() {
                    dslc_tabs_generate_code(jQuery(this).closest(".dslc-tabs"))
                }).on("focus", ".dslc-tabs-nav-hook-title[contenteditable], .dslc-tabs-tab-content[contenteditable]", function() {
                    jQuery(this).closest(".dslc-module-front").hasClass("dslca-module-being-edited") || jQuery(this).closest(".dslc-module-front").find(".dslca-module-edit-hook").trigger("click")
                }), jQuery(document).on("click", ".dslc-notification-close", function(e) {
                    jQuery(this).closest(".dslc-notification").slideUp(200, function() {
                        jQuery(this).remove()
                    })
                }), jQuery(document).on("click", ".dslc-post-filter", function() {
                    var e = jQuery(this),
                        s = e.closest(".dslc-module-front").find(".dslc-posts"),
                        t = e.closest(".dslc-module-front"),
                        o = e.data("filter-id"),
                        a = jQuery(),
                        c = jQuery();
                    "show-all" === o ? (a = s.closest(".dslc-module-front").find(".dslc-post"), c = jQuery()) : (a = s.closest(".dslc-module-front").find('.dslc-post[data-cats*="' + o + '"]'), c = s.closest(".dslc-module-front").find('.dslc-post:not([data-cats*="' + o + '"])')), e.removeClass("dslc-inactive").addClass("dslc-active").siblings(".dslc-active").removeClass("dslc-active").addClass("dslc-inactive"), s.hasClass("dslc-init-grid") ? (a.stop().animate({
                        opacity: 1
                    }, 300), c.stop().animate({
                        opacity: .3
                    }, 300)) : (c.removeClass("dslc-masonry-item dslc-masonry-item-animate").css({
                        visibility: "hidden"
                    }), a.addClass("dslc-masonry-item dslc-masonry-item-animate").css({
                        visibility: "visible"
                    }).show(), dslc_masonry(t, !0))
                }), jQuery(document).on("click", ".dslc-download-count-hook", function(e) {
                    dslc_download_count_increment(jQuery(this).data("post-id"))
                }), jQuery(".dslc-notification-box-has-timeout").each(function() {
                    var e = jQuery(this);
                    nTimeout = "none", moduleID = e.closest(".dslc-module-front").data("module-id"), cookieID = "nBox" + moduleID, e.data("notification-timeout") && null == Cookies.get(cookieID) && e.show()
                }), jQuery(document).on("click", ".dslc-notification-box-close", function() {
                    var e = jQuery(this).closest(".dslc-notification-box"),
                        s = "none",
                        t = "nBox" + e.closest(".dslc-module-front").data("module-id");
                    e.data("notification-timeout") && (s = e.data("notification-timeout")), "none" !== s && Cookies.set(t, "closed", {
                        expires: s
                    }), e.animate({
                        opacity: 0
                    }, 400, function() {
                        jQuery(this).remove()
                    })
                }), dslc_init_lightbox(), dslc_init_accordion(), jQuery(document).on("click", ".dslc-accordion-hook", function() {
                    var e = jQuery(this).closest(".dslc-accordion-item"),
                        s = e.siblings(".dslc-accordion-item");
                    e.hasClass("dslc-active") ? (jQuery("body").hasClass("dslca-enabled") || (e.find(".dslca-icon").hasClass("dslc-icon-minus") ? e.find(".dslca-icon").removeClass("dslc-icon-minus").addClass("dslc-icon-plus") : e.find(".dslca-icon").removeClass("dslc-icon-plus").addClass("dslc-icon-minus")), s = e) : (e.removeClass("dslc-inactive").addClass("dslc-active"), jQuery("body").hasClass("dslca-enabled") || (e.find(".dslca-icon").hasClass("dslc-icon-minus") ? e.find(".dslca-icon").removeClass("dslc-icon-minus").addClass("dslc-icon-plus") : (e.find(".dslca-icon").removeClass("dslc-icon-plus").addClass("dslc-icon-minus"), s.find(".dslca-icon").removeClass("dslc-icon-minus").addClass("dslc-icon-plus")))), s.removeClass("dslc-active").addClass("dslc-inactive"), jQuery(".dslc-accordion-content", e).slideDown(300), jQuery(".dslc-accordion-content", s).slideUp(300)
                }), jQuery(document).on("click", ".dslca-add-accordion-hook", function() {
                    var e = jQuery(this).closest(".dslc-accordion"),
                        s = jQuery(".dslc-accordion-item:last", e),
                        t = s.clone().insertAfter(s);
                    numberOfTabs = jQuery(".dslc-accordion-item", e).length, jQuery(".dslc-accordion-title", t).html("CLICK TO EDIT"), jQuery(".dslc-accordion-content", t).html('<div class="dslca-editable-content" data-edit-id="' + numberOfTabs + '">Placeholder content, click to edit. Lorem ipsum dolor sit amet, consectetur tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div><textarea class="dslca-accordion-plain-content"></textarea><div class="dslca-wysiwyg-actions-edit"><span class="dslca-wysiwyg-actions-edit-hook" data-event="wysiwyg-edit" data-id-to-edit="' + numberOfTabs + '">Edit Content</span></div>'), jQuery(".dslc-accordion-hook", t).click(), dslc_accordion_generate_code(e), jQuery(this).closest(".dslc-module-front").hasClass("dslca-module-being-edited") || jQuery(this).closest(".dslc-module-front").find(".dslca-module-edit-hook").trigger("click")
                }), jQuery(document).on("click", ".dslca-delete-accordion-hook", function(e) {
                    var s = jQuery(this).closest(".dslc-accordion"),
                        t = jQuery(this).closest(".dslc-accordion-item");
                    jQuery(this).closest(".dslc-module-front").hasClass("dslca-module-being-edited") || jQuery(this).closest(".dslc-module-front").find(".dslca-module-edit-hook").trigger("click"), jQuery(".dslc-accordion-item", s).length > 1 ? (t.remove(), jQuery(".dslc-accordion-item.dslc-active", s).length || jQuery(".dslc-accordion-hook:first", s).trigger("click"), dslc_accordion_generate_code(s)) : alert("You can not delete the last remaining accordion item."), e.stopPropagation()
                }), jQuery(document).on("click", ".dslca-move-up-accordion-hook, .dslca-move-down-accordion-hook", function(e) {
                    var s = jQuery(this).closest(".dslc-accordion"),
                        t = jQuery(this).closest(".dslc-accordion-item"),
                        o = t.next(".dslc-accordion-item"),
                        a = t.prev(".dslc-accordion-item");
                    jQuery(this).closest(".dslc-module-front").hasClass("dslca-module-being-edited") || jQuery(this).closest(".dslc-module-front").find(".dslca-module-edit-hook").trigger("click"), jQuery(this).hasClass("dslca-move-down-accordion-hook") ? (t.insertAfter(o), dslc_accordion_generate_code(s)) : (t.insertBefore(a), dslc_accordion_generate_code(s)), e.stopPropagation()
                }), jQuery(document).on("blur paste keyup", ".dslc-accordion-title[contenteditable], .dslc-accordion-content[contenteditable]", function() {
                    dslc_accordion_generate_code(jQuery(this).closest(".dslc-accordion"))
                }).on("focus", ".dslc-accordion-title[contenteditable], .dslc-accordion-content[contenteditable]", function() {
                    jQuery(this).closest(".dslc-module-front").hasClass("dslca-module-being-edited") || jQuery(this).closest(".dslc-module-front").find(".dslca-module-edit-hook").trigger("click")
                }), jQuery(document).on("click", ".dslc-trigger-lightbox-gallery", function(e) {
                    if (e.preventDefault(), jQuery(this).closest(".dslc-post").length) jQuery(this).closest(".dslc-post").find(".dslc-lightbox-gallery a:first-child").trigger("click");
                    else if (jQuery(this).closest(".dslc-col")) {
                        var s = jQuery(this).closest(".dslc-col").index();
                        jQuery(this).closest(".dslc-module-front").find(".dslc-lightbox-gallery a:eq(" + s + ")").trigger("click")
                    } else jQuery(this).closest(".dslc-module-front").find(".dslc-lightbox-gallery a:first-child").trigger("click")
                }), jQuery("#dslc-header").hasClass("dslc-header-extra-padding") && !jQuery("body").hasClass("dslca-enabled")) {
                var i = jQuery("#dslc-header").height();
                jQuery("#dslc-main .dslc-modules-section:first-child").css({
                    paddingTop: i
                })
            }(dslc_check_viewport(), dslc_check_progress_bar_viewport(), jQuery(document).on("scroll", function() {
                dslc_check_viewport(), dslc_check_progress_bar_viewport()
            }), jQuery("#dslc-footer").hasClass("dslc-footer-pos-relative")) && (s = jQuery("body").height(), t = jQuery("#dslc-footer"), o = jQuery(t).height(), a = jQuery("#dslc-content"), c = "100vh", jQuery("#wpadminbar").length && (c = "96.7vh"), s < jQuery(window).height() && (jQuery(t).css({
                position: "absolute",
                bottom: "0",
                width: "100%"
            }), jQuery(a).css({
                "min-height": c,
                "padding-bottom": o + "px"
            })))
        }), jQuery(document).ready(function(e) {
            dslc_responsive_classes(), dslc_carousel(), dslc_masonry(), dslc_parallax(), dslc_init_lightbox(), dslc_sticky_row()
        }), jQuery(window).resize(function() {
            dslc_responsive_classes(), dslc_carousel_responsive()
        })
    }
});;
"use strict";
jQuery(document).ready(function($) {
    jQuery('.lcmenu-mobile-hook, .lcmenupro-site-overlay, .lcmenu-mobile-close-hook').on('click', function(event) {
        var mobileNavigation = $(this).closest(".dslc-module-front").eq(0).find('.lcmenupro-mobile-navigation');
        var siteOverlay = $(this).closest(".dslc-module-front").eq(0).find('.lcmenupro-site-overlay');
        if (mobileNavigation.hasClass('open')) {
            mobileNavigation.removeClass('open');
            siteOverlay.hide();
        } else {
            mobileNavigation.addClass('open');
            siteOverlay.show();
        }
    });
    jQuery('.lcmenupro-navigation .menu-width-full').each(function(index, el) {
        setLeftMenuOffset(el);
    });
    jQuery('.lcmenupro-navigation .menu-width-full').on('hover', function(event) {
        event.preventDefault();
        if (jQuery(event.target).hasClass('menu-width-full')) {
            setLeftMenuOffset(event.target);
        }
    });
    jQuery('.lcmenupro-mobile-navigation .lcmenupro-mobile-menu li a[href*=#]:not([href=#])').on('click', function(event) {
        var mobileNavigation = jQuery('.lcmenupro-mobile-navigation');
        var siteOverlay = jQuery('.lcmenupro-site-overlay');
        if (mobileNavigation.hasClass('open')) {
            mobileNavigation.removeClass('open');
            siteOverlay.hide();
        } else {
            mobileNavigation.addClass('open');
            siteOverlay.show();
        }
    });
    jQuery(".lcmenupro-navigation .menu > li.menu-item-has-children").mouseenter(function() {
        jQuery(this).closest(".dslc-sticky-row").css("z-index", "5");
    }).mouseleave(function() {
        jQuery(this).closest(".dslc-sticky-row").css("z-index", "");
    });
    setResFullMenuClass();
    jQuery(window).resize(function() {
        setResFullMenuClass();
    });
});

function setLeftMenuOffset(element) {
    if (element === undefined) {
        return;
    }
    var parentItemRect = element.getBoundingClientRect();
    var parentSection = jQuery(element).closest('.dslc-modules-section-wrapper')[0];
    var parentSectionRect = parentSection.getBoundingClientRect();
    var offset = parseInt(parentItemRect.left) - parseInt(parentSectionRect.left);
    jQuery(element).children('.sub-menu').first().css('left', '-' + offset + 'px');
}

function setResFullMenuClass() {
    if (jQuery("body").hasClass("dslc-res-phone") || jQuery("body").hasClass("dslc-res-tablet")) {
        jQuery(".lcmenupro-navigation ul.menu").addClass('dslc-res-full-menu');
    } else {
        jQuery(".lcmenupro-navigation ul.menu").removeClass('dslc-res-full-menu');
    }
};
var FORMALIZE = function(e, t, n, r) {
    function i(e) {
        var t = n.createElement("b");
        return t.innerHTML = "\x3c!--[if IE " + e + "]><br><![endif]--\x3e", !!t.getElementsByTagName("br").length
    }
    var s = "placeholder" in n.createElement("input"),
        o = "autofocus" in n.createElement("input"),
        u = i(6),
        a = i(7);
    return {
        go: function() {
            var e, t = this.init;
            for (e in t) t.hasOwnProperty(e) && t[e]()
        },
        init: {
            disable_link_button: function() {
                e(n.documentElement).on("click", "a.button_disabled", function() {
                    return !1
                })
            },
            full_input_size: function() {
                if (!a || !e("textarea, input.input_full").length) return;
                e("textarea, input.input_full").wrap('<span class="input_full_wrap"></span>')
            },
            ie6_skin_inputs: function() {
                if (!u || !e("input, select, textarea").length) return;
                var t = /button|submit|reset/,
                    n = /date|datetime|datetime-local|email|month|number|password|range|search|tel|text|time|url|week/;
                e("input").each(function() {
                    var r = e(this);
                    this.getAttribute("type").match(t) ? (r.addClass("ie6_button"), this.disabled && r.addClass("ie6_button_disabled")) : this.getAttribute("type").match(n) && (r.addClass("ie6_input"), this.disabled && r.addClass("ie6_input_disabled"))
                }), e("textarea, select").each(function() {
                    this.disabled && e(this).addClass("ie6_input_disabled")
                })
            },
            autofocus: function() {
                if (o || !e(":input[autofocus]").length) return;
                var t = e("[autofocus]")[0];
                t.disabled || t.focus()
            },
            placeholder: function() {
                if (s || !e(":input[placeholder]").length) return;
                FORMALIZE.misc.add_placeholder(), e(":input[placeholder]").each(function() {
                    if (this.type === "password") return;
                    var t = e(this),
                        n = t.attr("placeholder");
                    t.focus(function() {
                        t.val() === n && t.val("").removeClass("placeholder_text")
                    }).blur(function() {
                        FORMALIZE.misc.add_placeholder()
                    }), t.closest("form").submit(function() {
                        t.val() === n && t.val("").removeClass("placeholder_text")
                    }).on("reset", function() {
                        setTimeout(FORMALIZE.misc.add_placeholder, 50)
                    })
                })
            }
        },
        misc: {
            add_placeholder: function() {
                if (s || !e(":input[placeholder]").length) return;
                e(":input[placeholder]").each(function() {
                    if (this.type === "password") return;
                    var t = e(this),
                        n = t.attr("placeholder");
                    (!t.val() || t.val() === n) && t.val(n).addClass("placeholder_text")
                })
            }
        }
    }
}(jQuery, this, this.document);
jQuery(document).ready(function() {
    FORMALIZE.go()
});
(function(e) {
    typeof define == "function" && define.amd ? define(["jquery"], e) : e(jQuery)
})(function(e) {
    function n(e) {
        return e
    }

    function r(e) {
        return decodeURIComponent(e.replace(t, " "))
    }

    function i(e) {
        e.indexOf('"') === 0 && (e = e.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
        try {
            return s.json ? JSON.parse(e) : e
        } catch (t) {}
    }
    var t = /\+/g,
        s = e.cookie = function(t, o, u) {
            if (o !== undefined) {
                u = e.extend({}, s.defaults, u);
                if (typeof u.expires == "number") {
                    var a = u.expires,
                        f = u.expires = new Date;
                    f.setDate(f.getDate() + a)
                }
                o = s.json ? JSON.stringify(o) : String(o);
                return document.cookie = [s.raw ? t : encodeURIComponent(t), "=", s.raw ? o : encodeURIComponent(o), u.expires ? "; expires=" + u.expires.toUTCString() : "", u.path ? "; path=" + u.path : "", u.domain ? "; domain=" + u.domain : "", u.secure ? "; secure" : ""].join("")
            }
            var l = s.raw ? n : r,
                c = document.cookie.split("; "),
                h = t ? undefined : {};
            for (var p = 0, d = c.length; p < d; p++) {
                var v = c[p].split("="),
                    m = l(v.shift()),
                    g = l(v.join("="));
                if (t && t === m) {
                    h = i(g);
                    break
                }
                t || (h[m] = i(g))
            }
            return h
        };
    s.defaults = {};
    e.removeCookie = function(t, n) {
        if (e.cookie(t) !== undefined) {
            e.cookie(t, "", e.extend({}, n, {
                expires: -1
            }));
            return !0
        }
        return !1
    }
});
(function(e) {
    "use strict";
    e.fn.fitVids = function(t) {
        var n = {
            customSelector: null,
            ignore: null
        };
        if (!document.getElementById("fit-vids-style")) {
            var r = document.head || document.getElementsByTagName("head")[0];
            var i = ".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}";
            var s = document.createElement("div");
            s.innerHTML = '<p>x</p><style id="fit-vids-style">' + i + "</style>";
            r.appendChild(s.childNodes[1])
        }
        if (t) {
            e.extend(n, t)
        }
        return this.each(function() {
            var t = ["iframe[src*='player.vimeo.com']", "iframe[src*='youtube.com']", "iframe[src*='youtube-nocookie.com']", "iframe[src*='kickstarter.com'][src*='video.html']", "object", "embed"];
            if (n.customSelector) {
                t.push(n.customSelector)
            }
            var r = ".fitvidsignore";
            if (n.ignore) {
                r = r + ", " + n.ignore
            }
            var i = e(this).find(t.join(","));
            i = i.not("object object");
            i = i.not(r);
            i.each(function() {
                var t = e(this);
                if (t.parents(r).length > 0) {
                    return
                }
                if (this.tagName.toLowerCase() === "embed" && t.parent("object").length || t.parent(".fluid-width-video-wrapper").length) {
                    return
                }
                if (!t.css("height") && !t.css("width") && (isNaN(t.attr("height")) || isNaN(t.attr("width")))) {
                    t.attr("height", 9);
                    t.attr("width", 16)
                }
                var n = this.tagName.toLowerCase() === "object" || t.attr("height") && !isNaN(parseInt(t.attr("height"), 10)) ? parseInt(t.attr("height"), 10) : t.height(),
                    i = !isNaN(parseInt(t.attr("width"), 10)) ? parseInt(t.attr("width"), 10) : t.width(),
                    s = n / i;
                if (!t.attr("id")) {
                    var o = "fitvid" + Math.floor(Math.random() * 999999);
                    t.attr("id", o)
                }
                t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top", s * 100 + "%");
                t.removeAttr("height").removeAttr("width")
            })
        })
    }
})(window.jQuery || window.Zepto);
var is_webkit = navigator.userAgent.toLowerCase().indexOf("webkit") > -1,
    is_opera = navigator.userAgent.toLowerCase().indexOf("opera") > -1,
    is_ie = navigator.userAgent.toLowerCase().indexOf("msie") > -1;
if ((is_webkit || is_opera || is_ie) && "undefined" !== typeof document.getElementById) {
    var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
    window[eventMethod]("hashchange", function() {
        var element = document.getElementById(location.hash.substring(1));
        if (element) {
            if (!/^(?:a|select|input|button|textarea)$/i.test(element.tagName)) element.tabIndex = -1;
            element.focus()
        }
    }, false)
}(function($) {
    "use strict";
    var clickedURL = "";
    jQuery(document).ready(function($) {
        hidePagePreloader();
        var hidePreloaderInterval = self.setInterval(function() {
            hidePagePreloader()
        }, 4e3)
    });

    function hidePagePreloader() {
        if ($("body").hasClass("pseudo-preloader")) {
            $("html").addClass("content-loaded")
        }
        $("a").on("click", function() {
            clickedURL = $(this).attr("href")
        })
    }
    jQuery(document).ready(function($) {
        var panelHash = $(".notification-panel").data("uniquehash");
        if ($.cookie(panelHash) !== "closed" && !$("body").hasClass("in-wp-customizer")) {
            $(".notification-panel").slideDown()
        }
        if ($("body").hasClass("in-wp-customizer")) {
            $(".notification-panel").show()
        }
        $(".notification-panel__close").on("click", function(e) {
            $(".notification-panel").slideUp();
            $.cookie($(".notification-panel").data("uniquehash"), "closed", {
                expires: 7,
                path: "/"
            })
        });
        $("input[type=submit]").addClass("button");
        $(".close-help-popup").on("click", function(event) {
            event.preventDefault();
            $(this).parents(".message-popup").hide()
        });
        $(".site-content, .site-footer").fitVids();
        $(".mc4wp-form [type=submit], .nsu-form [type=submit]").hide();
        $(".mc4wp-form [type=email], .nsu-form [type=email], .mc4wp-form [type=text], .nsu-form [type=text]").keyup(function() {
            if (validateEmail($(this).val())) {
                $(".mc4wp-form [type=submit], .nsu-form [type=submit]").show()
            } else {
                $(".mc4wp-form [type=submit], .nsu-form [type=submit]").hide()
            }
        });

        function validateEmail(email) {
            if (!email) return false;
            var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
            return emailReg.test(email)
        }
        $(".modal").each(function(index, el) {
            var modal = $(this);
            modal.addClass("theme-lumberman");
            modal.find(".title").wrapInner("<h3></h3>")
        });
        $(".social-icons-fullwidth .essb_links_list").css("width", "auto");
        if (customizerOffCanvasMobileMenu.mobile_menu == 1) {
            $(".header-menu .mobile_toggle").unbind();
            $(".header-menu .mobile_toggle").on("click", function(event) {
                event.preventDefault();
                $(this).closest(".off-canvas-wrap").toggleClass("move-left")
            });
            $(".exit-off-canvas").on("click", function(event) {
                event.preventDefault();
                $(".off-canvas-wrap").removeClass("move-right").removeClass("move-left")
            })
        }
        var contentHeight = $(".admin-bar .site-main").outerHeight();
        if (contentHeight < 1) {
            var screenHeight = $(window).height();
            var cointainerHeight = $("#global-container").outerHeight();
            var newContentHeight = screenHeight - cointainerHeight;
            if (newContentHeight < 0) {
                newContentHeight = 160
            }
            $("#content").css("min-height", newContentHeight + "px");
            $(".dslca-activate-composer-hook").clone().appendTo("#content .entry-content");
            $("body:not(.single-lbmn_footer) #content .entry-content .dslca-activate-composer-hook").css({
                position: "absolute",
                bottom: "50%",
                right: "50%",
                "margin-right": "-80px",
                "margin-bottom": "-30px",
                padding: "20px",
                "letter-spacing": "2px"
            })
        }
        if ($("body").hasClass("in-wp-customizer")) {
            $(".dslca-activate-composer-hook").hide()
        }
        $(".nav_search_box form input[type=text]").bind("focus", function(e) {
            $(this).parent("form").addClass("search_form_focused")
        });
        $(".nav_search_box form input[type=text]").bind("blur", function(e) {
            $(this).parent("form").removeClass("search_form_focused")
        });
        var processingIconInputName = "";

        function lbmn_show_icons_grid(callback) {
            if ($(".dslca-modal-allicons").length < 1) {
                var screenHeight = $(window).height();
                var liveComposerPanelHeight = $(".dslca-container").outerHeight();
                var modalHeight = screenHeight - liveComposerPanelHeight - 90;
                var modalIconsList = '<div class="dslca-modal dslca-modal-allicons" data-bg="#ca564f"><div class="modal-content"></div></div>\x3c!-- .dslca-modal --\x3e';
                modalIconsList += "<style> .dslca-modal-allicons { height:" + modalHeight + "px;} </style>";
                $(".dslca-container").after(modalIconsList);
                $(".dslca-modal-allicons .modal-content").load("./wp-admin/?lbmn_listicons=all_icons", function() {
                    callback(true)
                })
            } else {
                callback(true)
            }
        }

        function lbmn_return_selected_icon_id(callback) {
            lbmn_show_icons_grid(function() {
                $(".dslca-modal-allicons .icon-item").on("click", function(event) {
                    var selectedIconCode = $(this).find(".icon-item__name").text();
                    callback(selectedIconCode);
                    dslc_hide_modal("", jQuery(".dslca-modal:visible"));
                    event.stopImmediatePropagation()
                })
            })
        }

        function lbmn_extended_icons_elements() {
            $(".dslca-module-edit-option-icon").each(function(index, el) {
                var iconOption = $(this);
                if (!iconOption.hasClass("lbmn-icons-extended")) {
                    var buttonIconsList = ' <span class="dslca-open-modal-hook dslca-module-option-button" data-modal=".dslca-modal-allicons"><span class="dslca-icon dslc-icon-th"></span></span>';
                    iconOption.append(buttonIconsList);
                    $(iconOption).find(".dslca-module-option-button").on("click", function(event) {
                        processingIconInputName = $(iconOption).find("input[type=text]").attr("name");
                        lbmn_return_selected_icon_id(function(selectedIconCode) {
                            $("input[name=" + processingIconInputName + "]").val(selectedIconCode).change()
                        })
                    });
                    iconOption.addClass("lbmn-icons-extended")
                }
            })
        }
        if ($("body").hasClass("dslca-enabled")) {
            $(document).on("click", ".dslca-module-edit-hook", function() {
                $(".dslca-options-filter-hook").on("click", function() {
                    var resetButtonHTML = '<span class="button-reset">Reset to default</span>';
                    $(".dslca-module-edit-option-font, " + ".dslca-module-edit-option-css_main_font_size, " + ".dslca-module-edit-option-css_h1_font_size, " + ".dslca-module-edit-option-css_h2_font_size, " + ".dslca-module-edit-option-css_h3_font_size, " + ".dslca-module-edit-option-css_h4_font_size, " + ".dslca-module-edit-option-css_h5_font_size, " + ".dslca-module-edit-option-css_h6_font_size, " + ".dslca-module-edit-option-css_main_font_weight, " + ".dslca-module-edit-option-css_h1_font_weight, " + ".dslca-module-edit-option-css_h2_font_weight, " + ".dslca-module-edit-option-css_h3_font_weight, " + ".dslca-module-edit-option-css_h4_font_weight, " + ".dslca-module-edit-option-css_h5_font_weight, " + ".dslca-module-edit-option-css_h6_font_weight, " + ".dslca-module-edit-option-css_main_line_height, " + ".dslca-module-edit-option-css_h1_line_height, " + ".dslca-module-edit-option-css_h2_line_height, " + ".dslca-module-edit-option-css_h3_line_height, " + ".dslca-module-edit-option-css_h4_line_height, " + ".dslca-module-edit-option-css_h5_line_height, " + ".dslca-module-edit-option-css_h6_line_height, " + ".dslca-module-edit-option-css_h1_margin_bottom, " + ".dslca-module-edit-option-css_h2_margin_bottom, " + ".dslca-module-edit-option-css_h3_margin_bottom, " + ".dslca-module-edit-option-css_h4_margin_bottom, " + ".dslca-module-edit-option-css_h5_margin_bottom, " + ".dslca-module-edit-option-css_h6_margin_bottom, " + ".dslca-module-edit-option-css_link_color, " + ".dslca-module-edit-option-css_link_color_hover, " + ".dslca-module-edit-option-css_main_color, " + ".dslca-module-edit-option-css_h1_color, " + ".dslca-module-edit-option-css_h2_color, " + ".dslca-module-edit-option-css_h3_color, " + ".dslca-module-edit-option-css_h4_color, " + ".dslca-module-edit-option-css_h5_color, " + ".dslca-module-edit-option-css_h6_color").each(function(index, el) {
                        if ($(this).find(".button-reset").length == 0) {
                            $(this).find(".dslca-module-edit-label").append(resetButtonHTML)
                        }
                    });
                    $(".dslca-module-edit-option-font").each(function(index, el) {
                        $(this).append('<span class="dslc-icon-refresh dslc-icon-spin"></span>')
                    })
                })
            });
            $(document).on("click", ".dslca-module-edit-options-wrapper .button-reset", function(event) {
                var moduleBlock = $(this).closest(".dslca-module-edit-option");
                $(moduleBlock).find("input").val("").change();
                $(moduleBlock).find(".dslca-module-edit-field-font-suggest").text("");
                $(moduleBlock).find(".ui-slider-handle").css("left", "0");
                $(moduleBlock).find(".sp-preview-inner").addClass("sp-clear-display").css("background-color", "transparent")
            })
        }
        $('a[href*="\\#"]:not([href="\\#"],[href*="\\#respond"],[href^="\\#tab-"])').click(function() {
            if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") || location.hostname == this.hostname) {
                var target = $(this.hash);
                if (this.hash == "#top") {
                    $("html,body").animate({
                        scrollTop: 0
                    }, 600);
                    return false
                }
                target = target.length ? target : $("[name=" + this.hash.slice(1) + "]");
                if (target.length) {
                    $("html,body").animate({
                        scrollTop: target.offset().top - 70
                    }, 1e3);
                    return false
                }
            }
        })
    })
})(jQuery);
! function(a, b) {
    "use strict";

    function c() {
        if (!e) {
            e = !0;
            var a, c, d, f, g = -1 !== navigator.appVersion.indexOf("MSIE 10"),
                h = !!navigator.userAgent.match(/Trident.*rv:11\./),
                i = b.querySelectorAll("iframe.wp-embedded-content");
            for (c = 0; c < i.length; c++) {
                if (d = i[c], !d.getAttribute("data-secret")) f = Math.random().toString(36).substr(2, 10), d.src += "#?secret=" + f, d.setAttribute("data-secret", f);
                if (g || h) a = d.cloneNode(!0), a.removeAttribute("security"), d.parentNode.replaceChild(a, d)
            }
        }
    }
    var d = !1,
        e = !1;
    if (b.querySelector)
        if (a.addEventListener) d = !0;
    if (a.wp = a.wp || {}, !a.wp.receiveEmbedMessage)
        if (a.wp.receiveEmbedMessage = function(c) {
                var d = c.data;
                if (d)
                    if (d.secret || d.message || d.value)
                        if (!/[^a-zA-Z0-9]/.test(d.secret)) {
                            var e, f, g, h, i, j = b.querySelectorAll('iframe[data-secret="' + d.secret + '"]'),
                                k = b.querySelectorAll('blockquote[data-secret="' + d.secret + '"]');
                            for (e = 0; e < k.length; e++) k[e].style.display = "none";
                            for (e = 0; e < j.length; e++)
                                if (f = j[e], c.source === f.contentWindow) {
                                    if (f.removeAttribute("style"), "height" === d.message) {
                                        if (g = parseInt(d.value, 10), g > 1e3) g = 1e3;
                                        else if (~~g < 200) g = 200;
                                        f.height = g
                                    }
                                    if ("link" === d.message)
                                        if (h = b.createElement("a"), i = b.createElement("a"), h.href = f.getAttribute("src"), i.href = d.value, i.host === h.host)
                                            if (b.activeElement === f) a.top.location.href = d.value
                                } else;
                        }
            }, d) a.addEventListener("message", a.wp.receiveEmbedMessage, !1), b.addEventListener("DOMContentLoaded", c, !1), a.addEventListener("load", c, !1)
}(window, document);

function jBox(type, options) {
    this.options = {
        id: null,
        width: "auto",
        height: "auto",
        minWidth: null,
        maxHeight: null,
        minWidth: null,
        maxHeight: null,
        attach: null,
        trigger: "click",
        preventDefault: !1,
        title: null,
        content: null,
        getTitle: null,
        getContent: null,
        ajax: {
            url: null,
            data: "",
            reload: !1,
            getData: "data-ajax",
            setContent: !0,
            spinner: !0
        },
        target: null,
        position: {
            x: "center",
            y: "center"
        },
        outside: null,
        offset: 0,
        attributes: {
            x: "left",
            y: "top"
        },
        adjustPosition: !1,
        adjustTracker: !1,
        adjustDistance: 5,
        fixed: !1,
        reposition: !1,
        repositionOnOpen: !0,
        repositionOnContent: !0,
        pointer: !1,
        pointTo: "target",
        fade: 180,
        animation: null,
        theme: "Default",
        addClass: "",
        overlay: !1,
        zIndex: 1e4,
        delayOpen: 0,
        delayClose: 0,
        closeOnEsc: !1,
        closeOnClick: !1,
        closeOnMouseleave: !1,
        closeButton: !1,
        constructOnInit: !1,
        blockScroll: !1,
        appendTo: jQuery("body"),
        draggable: null,
        dragOver: !0,
        onInit: function() {},
        onCreated: function() {},
        onOpen: function() {},
        onClose: function() {},
        onCloseComplete: function() {},
        confirmButton: "Submit",
        cancelButton: "Cancel",
        confirm: null,
        cancel: null,
        autoClose: 7e3,
        color: null,
        stack: !0,
        audio: !1,
        volume: 100,
        src: "href",
        gallery: "data-jbox-image",
        imageLabel: "title",
        imageFade: 600,
        imageSize: "contain"
    }, this.defaultOptions = {
        Tooltip: {
            getContent: "title",
            trigger: "mouseenter",
            position: {
                x: "center",
                y: "top"
            },
            outside: "y",
            pointer: !0,
            adjustPosition: !0,
            reposition: !0
        },
        Mouse: {
            target: "mouse",
            position: {
                x: "right",
                y: "bottom"
            },
            offset: 15,
            trigger: "mouseenter",
            adjustPosition: "flip"
        },
        Modal: {
            target: jQuery(window),
            fixed: !0,
            blockScroll: !0,
            closeOnEsc: !0,
            closeOnClick: "overlay",
            closeButton: !0,
            overlay: !0,
            animation: "zoomOut"
        },
        Confirm: {
            target: jQuery(window),
            fixed: !0,
            attach: jQuery("[data-confirm]"),
            getContent: "data-confirm",
            content: "Do you really want to do this?",
            minWidth: 320,
            maxWidth: 460,
            blockScroll: !0,
            closeOnEsc: !0,
            closeOnClick: "overlay",
            closeButton: !0,
            overlay: !0,
            animation: "zoomOut",
            preventDefault: !0,
            _onAttach: function(t) {
                if (!this.options.confirm) {
                    var i = t.attr("onclick") ? t.attr("onclick") : t.attr("href") ? t.attr("target") ? 'window.open("' + t.attr("href") + '", "' + t.attr("target") + '");' : 'window.location.href = "' + t.attr("href") + '";' : "";
                    t.prop("onclick", null).data("jBox-Confirm-submit", i)
                }
            },
            _onCreated: function() {
                this.footer = jQuery('<div class="jBox-Confirm-footer"/>'), jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-cancel"/>').html(this.options.cancelButton).click(function() {
                    this.options.cancel && this.options.cancel(), this.close()
                }.bind(this)).appendTo(this.footer), this.submitButton = jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-submit"/>').html(this.options.confirmButton).appendTo(this.footer), this.footer.appendTo(this.container)
            },
            _onOpen: function() {
                this.submitButton.off("click.jBox-Confirm" + this.id).on("click.jBox-Confirm" + this.id, function() {
                    this.options.confirm ? this.options.confirm() : eval(this.source.data("jBox-Confirm-submit")), this.close()
                }.bind(this))
            }
        },
        Notice: {
            target: jQuery(window),
            fixed: !0,
            position: {
                x: 20,
                y: 20
            },
            attributes: {
                x: "right",
                y: "top"
            },
            animation: "zoomIn",
            closeOnClick: "box",
            _onInit: function() {
                this.open(), this.options.delayClose = this.options.autoClose, this.options.delayClose && this.close()
            },
            _onCreated: function() {
                this.options.color && this.wrapper.addClass("jBox-Notice-color jBox-Notice-" + this.options.color), this.wrapper.data("jBox-Notice-position", this.options.attributes.x + "-" + this.options.attributes.y)
            },
            _onOpen: function() {
                jQuery.each(jQuery(".jBox-Notice"), function(t, i) {
                    return i = jQuery(i), i.attr("id") != this.id && i.data("jBox-Notice-position") == this.options.attributes.x + "-" + this.options.attributes.y ? this.options.stack ? void i.css("margin-" + this.options.attributes.y, parseInt(i.css("margin-" + this.options.attributes.y)) + this.wrapper.outerHeight() + 10) : void i.data("jBox").close({
                        ignoreDelay: !0
                    }) : void 0
                }.bind(this)), this.options.audio && this.audio({
                    url: this.options.audio,
                    valume: this.options.volume
                })
            },
            _onCloseComplete: function() {
                this.destroy()
            }
        },
        Image: {
            target: jQuery(window),
            fixed: !0,
            blockScroll: !0,
            closeOnEsc: !0,
            closeOnClick: "overlay",
            closeButton: !0,
            overlay: !0,
            animation: "zoomOut",
            width: 800,
            height: 533,
            attach: jQuery("[data-jbox-image]"),
            preventDefault: !0,
            _onInit: function() {
                this.images = this.currentImage = {}, this.imageZIndex = 1, this.attachedElements && jQuery.each(this.attachedElements, function(t, i) {
                    if (i = jQuery(i), !i.data("jBox-image-gallery")) {
                        var s = i.attr(this.options.gallery) || "default";
                        !this.images[s] && (this.images[s] = []), this.images[s].push({
                            src: i.attr(this.options.src),
                            label: i.attr(this.options.imageLabel) || ""
                        }), "title" == this.options.imageLabel && i.removeAttr("title"), i.data("jBox-image-gallery", s), i.data("jBox-image-id", this.images[s].length - 1)
                    }
                }.bind(this));
                var t = function(t, i, s, o) {
                        if (!jQuery("#jBox-image-" + t + "-" + i).length) {
                            {
                                var e = jQuery("<div/>", {
                                    id: "jBox-image-" + t + "-" + i,
                                    "class": "jBox-image-container"
                                }).css({
                                    backgroundImage: "url(" + this.images[t][i].src + ")",
                                    backgroundSize: this.options.imageSize,
                                    opacity: o ? 1 : 0,
                                    zIndex: s ? 0 : this.imageZIndex++
                                }).appendTo(this.content);
                                jQuery("<div/>", {
                                    id: "jBox-image-label-" + t + "-" + i,
                                    "class": "jBox-image-label" + (o ? " active" : "")
                                }).html(this.images[t][i].label).appendTo(this.imageLabel)
                            }!o && !s && e.animate({
                                opacity: 1
                            }, this.options.imageFade)
                        }
                    }.bind(this),
                    i = function(t, i) {
                        jQuery(".jBox-image-label.active").removeClass("active"), jQuery("#jBox-image-label-" + t + "-" + i).addClass("active")
                    };
                this.showImage = function(s) {
                    if ("open" != s) {
                        var o = this.currentImage.gallery,
                            e = this.currentImage.id + (1 * ("prev" == s) ? -1 : 1);
                        e = e > this.images[o].length - 1 ? 0 : 0 > e ? this.images[o].length - 1 : e
                    } else {
                        var o = this.source.data("jBox-image-gallery"),
                            e = this.source.data("jBox-image-id");
                        jQuery(".jBox-image-pointer-prev, .jBox-image-pointer-next").css({
                            display: this.images[o].length > 1 ? "block" : "none"
                        })
                    }
                    if (this.currentImage = {
                            gallery: o,
                            id: e
                        }, jQuery("#jBox-image-" + o + "-" + e).length) jQuery("#jBox-image-" + o + "-" + e).css({
                        zIndex: this.imageZIndex++,
                        opacity: 0
                    }).animate({
                        opacity: 1
                    }, "open" == s ? 0 : this.options.imageFade), i(o, e);
                    else {
                        this.wrapper.addClass("jBox-loading"); {
                            jQuery('<img src="' + this.images[o][e].src + '">').load(function() {
                                t(o, e, !1), i(o, e), this.wrapper.removeClass("jBox-loading")
                            }.bind(this))
                        }
                    }
                    var n = e + 1;
                    n = n > this.images[o].length - 1 ? 0 : 0 > n ? this.images[o].length - 1 : n, !jQuery("#jBox-image-" + o + "-" + n).length && jQuery('<img src="' + this.images[o][n].src + '">').load(function() {
                        t(o, n, !0)
                    })
                }
            },
            _onCreated: function() {
                this.imageLabel = jQuery("<div/>", {
                    id: "jBox-image-label"
                }).appendTo(this.wrapper), this.wrapper.append(jQuery("<div/>", {
                    "class": "jBox-image-pointer-prev",
                    click: function() {
                        this.showImage("prev")
                    }.bind(this)
                })).append(jQuery("<div/>", {
                    "class": "jBox-image-pointer-next",
                    click: function() {
                        this.showImage("next")
                    }.bind(this)
                }))
            },
            _onOpen: function() {
                jQuery("body").addClass("jBox-image-open"), jQuery(document).on("keyup.jBox-" + this.id, function(t) {
                    37 == t.keyCode && this.showImage("prev"), 39 == t.keyCode && this.showImage("next")
                }.bind(this)), this.showImage("open")
            },
            _onClose: function() {
                jQuery("body").removeClass("jBox-image-open"), jQuery(document).off("keyup.jBox-" + this.id)
            },
            _onCloseComplete: function() {
                this.wrapper.find(".jBox-image-container").css("opacity", 0)
            }
        }
    }, "string" == jQuery.type(type) && (this.type = type, type = this.defaultOptions[type]), this.options = jQuery.extend(!0, this.options, type, options), null === this.options.id && (this.options.id = "jBoxID" + jBox._getUniqueID()), this.id = this.options.id, ("center" == this.options.position.x && "x" == this.options.outside || "center" == this.options.position.y && "y" == this.options.outside) && (this.options.outside = !1), (!this.options.outside || "xy" == this.options.outside) && (this.options.pointer = !1), "object" != jQuery.type(this.options.offset) && (this.options.offset = {
        x: this.options.offset,
        y: this.options.offset
    }), this.options.offset.x || (this.options.offset.x = 0), this.options.offset.y || (this.options.offset.y = 0), this.options.adjustDistance = "object" != jQuery.type(this.options.adjustDistance) ? {
        top: this.options.adjustDistance,
        right: this.options.adjustDistance,
        bottom: this.options.adjustDistance,
        left: this.options.adjustDistance
    } : jQuery.extend({
        top: 5,
        left: 5,
        right: 5,
        bottom: 5
    }, this.options.adjustDistance), this.align = this.options.outside && "xy" != this.options.outside ? this.options.position[this.options.outside] : "center" != this.options.position.y && "number" != jQuery.type(this.options.position.y) ? this.options.position.x : "center" != this.options.position.x && "number" != jQuery.type(this.options.position.x) ? this.options.position.y : this.options.attributes.x, this.options.outside && "xy" != this.options.outside && (this.outside = this.options.position[this.options.outside]);
    var userAgent = navigator.userAgent.toLowerCase();
    return this.IE8 = -1 != userAgent.indexOf("msie") && 8 == parseInt(userAgent.split("msie")[1]), this.prefix = -1 != userAgent.indexOf("webkit") ? "-webkit-" : "", this._getOpp = function(t) {
        return {
            left: "right",
            right: "left",
            top: "bottom",
            bottom: "top",
            x: "y",
            y: "x"
        }[t]
    }, this._getXY = function(t) {
        return {
            left: "x",
            right: "x",
            top: "y",
            bottom: "y",
            center: "x"
        }[t]
    }, this._getTL = function(t) {
        return {
            left: "left",
            right: "left",
            top: "top",
            bottom: "top",
            center: "left",
            x: "left",
            y: "top"
        }[t]
    }, this._supportsSVG = function() {
        return document.createElement("svg").getAttributeNS
    }, this._createSVG = function(t, i) {
        var s = document.createElementNS("http://www.w3.org/2000/svg", t);
        return jQuery.each(i, function(t, i) {
            s.setAttribute(i[0], i[1] || "")
        }), s
    }, this._appendSVG = function(t, i) {
        return i.appendChild(t)
    }, this._create = function() {
        if (!this.wrapper) {
            if (this.wrapper = jQuery("<div/>", {
                    id: this.id,
                    "class": "jBox-wrapper" + (this.type ? " jBox-" + this.type : "") + (this.options.theme ? " jBox-" + this.options.theme : "") + (this.options.addClass ? " " + this.options.addClass : "") + (this.IE8 ? " jBox-IE8" : "")
                }).css({
                    position: this.options.fixed ? "fixed" : "absolute",
                    display: "none",
                    opacity: 0,
                    zIndex: this.options.zIndex
                }).data("jBox", this), this.options.closeOnMouseleave && this.wrapper.mouseleave(function(t) {
                    !this.source || !(t.relatedTarget == this.source[0] || -1 !== jQuery.inArray(this.source[0], jQuery(t.relatedTarget).parents("*"))) && this.close()
                }.bind(this)), "box" == this.options.closeOnClick && this.wrapper.on("touchend click", function() {
                    this.close({
                        ignoreDelay: !0
                    })
                }.bind(this)), this.container = jQuery("<div/>", {
                    "class": "jBox-container"
                }).appendTo(this.wrapper), this.content = jQuery("<div/>", {
                    "class": "jBox-content"
                }).css({
                    width: this.options.width,
                    height: this.options.height,
                    minWidth: this.options.minWidth,
                    minHeight: this.options.minHeight,
                    maxWidth: this.options.maxWidth,
                    maxHeight: this.options.maxHeight
                }).appendTo(this.container), this.options.closeButton) {
                if (this.closeButton = jQuery("<div/>", {
                        "class": "jBox-closeButton jBox-noDrag"
                    }).on("touchend click", function() {
                        this.isOpen && this.close({
                            ignoreDelay: !0
                        })
                    }.bind(this)), this._supportsSVG()) {
                    var t = this._createSVG("svg", [
                        ["viewBox", "0 0 24 24"]
                    ]);
                    this._appendSVG(this._createSVG("path", [
                        ["d", "M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]
                    ]), t), this.closeButton.append(t)
                } else this.wrapper.addClass("jBox-nosvg");
                ("box" == this.options.closeButton || this.options.closeButton === !0 && !this.options.overlay && !this.options.title) && (this.wrapper.addClass("jBox-closeButton-box"), this.closeButton.appendTo(this.container))
            }
            if (this.wrapper.appendTo(this.options.appendTo), this.options.pointer) {
                if (this.pointer = {
                        position: "target" != this.options.pointTo ? this.options.pointTo : this._getOpp(this.outside),
                        xy: this._getXY("target" != this.options.pointTo ? this.options.pointTo : this.outside),
                        align: "center",
                        offset: 0
                    }, this.pointer.element = jQuery("<div/>", {
                        "class": "jBox-pointer jBox-pointer-" + this.pointer.position
                    }).appendTo(this.wrapper), this.pointer.dimensions = {
                        x: this.pointer.element.outerWidth(),
                        y: this.pointer.element.outerHeight()
                    }, "string" == jQuery.type(this.options.pointer)) {
                    var i = this.options.pointer.split(":");
                    i[0] && (this.pointer.align = i[0]), i[1] && (this.pointer.offset = parseInt(i[1]))
                }
                this.pointer.alignAttribute = "x" == this.pointer.xy ? "bottom" == this.pointer.align ? "bottom" : "top" : "right" == this.pointer.align ? "right" : "left", this.wrapper.css("padding-" + this.pointer.position, this.pointer.dimensions[this.pointer.xy]), this.pointer.element.css(this.pointer.alignAttribute, "center" == this.pointer.align ? "50%" : 0).css("margin-" + this.pointer.alignAttribute, this.pointer.offset), this.pointer.margin = {}, this.pointer.margin["margin-" + this.pointer.alignAttribute] = this.pointer.offset, "center" == this.pointer.align && this.pointer.element.css(this.prefix + "transform", "translate(" + ("y" == this.pointer.xy ? this.pointer.dimensions.x * -.5 + "px" : 0) + ", " + ("x" == this.pointer.xy ? this.pointer.dimensions.y * -.5 + "px" : 0) + ")"), this.pointer.element.css("x" == this.pointer.xy ? "width" : "height", parseInt(this.pointer.dimensions[this.pointer.xy]) + parseInt(this.container.css("border-" + this.pointer.alignAttribute + "-width"))), this.wrapper.addClass("jBox-pointerPosition-" + this.pointer.position)
            }
            if (this.setContent(this.options.content, !0), this.setTitle(this.options.title, !0), this.options.draggable) {
                var s = "title" == this.options.draggable ? this.titleContainer : this.options.draggable.length > 0 ? this.options.draggable : this.options.draggable.selector ? jQuery(this.options.draggable.selector) : this.wrapper;
                s.addClass("jBox-draggable").on("mousedown", function(t) {
                    if (2 != t.button && !jQuery(t.target).hasClass("jBox-noDrag") && !jQuery(t.target).parents(".jBox-noDrag").length) {
                        this.options.dragOver && this.wrapper.css("zIndex") <= jBox.zIndexMax && (jBox.zIndexMax += 1, this.wrapper.css("zIndex", jBox.zIndexMax));
                        var i = this.wrapper.outerHeight(),
                            s = this.wrapper.outerWidth(),
                            o = this.wrapper.offset().top + i - t.pageY,
                            e = this.wrapper.offset().left + s - t.pageX;
                        jQuery(document).on("mousemove.jBox-draggable-" + this.id, function(t) {
                            this.wrapper.offset({
                                top: t.pageY + o - i,
                                left: t.pageX + e - s
                            })
                        }.bind(this)), t.preventDefault()
                    }
                }.bind(this)).on("mouseup", function() {
                    jQuery(document).off("mousemove.jBox-draggable-" + this.id)
                }.bind(this)), jBox.zIndexMax = jBox.zIndexMax ? Math.max(jBox.zIndexMax, this.options.zIndex) : this.options.zIndex
            }
            this.options.onCreated.bind(this)(), this.options._onCreated && this.options._onCreated.bind(this)()
        }
    }, this.options.constructOnInit && this._create(), this.options.attach && this.attach(), this._positionMouse = function(t) {
        this.pos = {
            left: t.pageX,
            top: t.pageY
        };
        var i = function(t, i) {
            return "center" == this.options.position[i] ? void(this.pos[t] -= Math.ceil(this.dimensions[i] / 2)) : (this.pos[t] += t == this.options.position[i] ? -1 * this.dimensions[i] - this.options.offset[i] : this.options.offset[i], this.pos[t])
        }.bind(this);
        this.wrapper.css({
            left: i("left", "x"),
            top: i("top", "y")
        }), this.targetDimensions = {
            x: 0,
            y: 0,
            left: t.pageX,
            top: t.pageY
        }, this._adjustPosition()
    }, this._attachEvents = function() {
        if (this.options.closeOnEsc && jQuery(document).on("keyup.jBox-" + this.id, function(t) {
                27 == t.keyCode && this.close({
                    ignoreDelay: !0
                })
            }.bind(this)), (this.options.closeOnClick === !0 || "body" == this.options.closeOnClick) && jQuery(document).on("touchend.jBox-" + this.id + " click.jBox-" + this.id, function(t) {
                this.blockBodyClick || "body" == this.options.closeOnClick && (t.target == this.wrapper[0] || this.wrapper.has(t.target).length) || this.close({
                    ignoreDelay: !0
                })
            }.bind(this)), (this.options.adjustPosition && this.options.adjustTracker || this.options.reposition) && !this.fixed && this.outside) {
            var t, i = 0,
                s = 150,
                o = function() {
                    var o = (new Date).getTime();
                    t || (o - i > s && (this.options.reposition && this.position(), this.options.adjustTracker && this._adjustPosition(), i = o), t = setTimeout(function() {
                        t = null, i = (new Date).getTime(), this.options.reposition && this.position(), this.options.adjustTracker && this._adjustPosition()
                    }.bind(this), s))
                }.bind(this);
            this.options.adjustTracker && "resize" != this.options.adjustTracker && jQuery(window).on("scroll.jBox-" + this.id, function() {
                o()
            }.bind(this)), (this.options.adjustTracker && "scroll" != this.options.adjustTracker || this.options.reposition) && jQuery(window).on("resize.jBox-" + this.id, function() {
                o()
            }.bind(this))
        }
        "mouse" == this.options.target && jQuery("body").on("mousemove.jBox-" + this.id, function(t) {
            this._positionMouse(t)
        }.bind(this))
    }, this._detachEvents = function() {
        this.options.closeOnEsc && jQuery(document).off("keyup.jBox-" + this.id), (this.options.closeOnClick === !0 || "body" == this.options.closeOnClick) && jQuery(document).off("touchend.jBox-" + this.id + " click.jBox-" + this.id), (this.options.adjustPosition && this.options.adjustTracker || this.options.reposition) && (jQuery(window).off("scroll.jBox-" + this.id), jQuery(window).off("resize.jBox-" + this.id)), "mouse" == this.options.target && jQuery("body").off("mousemove.jBox-" + this.id)
    }, this._addOverlay = function() {
        this.overlay || (this.overlay = jQuery("#jBox-overlay").length ? jQuery("#jBox-overlay").css({
            zIndex: Math.min(jQuery("#jBox-overlay").css("z-index"), this.options.zIndex - 1)
        }) : jQuery("<div/>", {
            id: "jBox-overlay"
        }).css({
            display: "none",
            opacity: 0,
            zIndex: this.options.zIndex - 1
        }).appendTo(jQuery("body")), ("overlay" == this.options.closeButton || this.options.closeButton === !0) && (jQuery("#jBox-overlay .jBox-closeButton").length > 0 ? jQuery("#jBox-overlay .jBox-closeButton").on("touchend click", function() {
            this.isOpen && this.close({
                ignoreDelay: !0
            })
        }.bind(this)) : this.overlay.append(this.closeButton)), "overlay" == this.options.closeOnClick && this.overlay.on("touchend click", function() {
            this.isOpen && this.close({
                ignoreDelay: !0
            })
        }.bind(this)));
        var t = this.overlay.data("jBox") || {};
        t["jBox-" + this.id] = !0, this.overlay.data("jBox", t), "block" != this.overlay.css("display") && (this.options.fade ? this.overlay.stop() && this.overlay.animate({
            opacity: 1
        }, {
            queue: !1,
            duration: this.options.fade,
            start: function() {
                this.overlay.css({
                    display: "block"
                })
            }.bind(this)
        }) : this.overlay.css({
            display: "block",
            opacity: 1
        }))
    }, this._removeOverlay = function() {
        if (this.overlay) {
            var t = this.overlay.data("jBox");
            delete t["jBox-" + this.id], this.overlay.data("jBox", t), jQuery.isEmptyObject(t) && (this.options.fade ? this.overlay.stop() && this.overlay.animate({
                opacity: 0
            }, {
                queue: !1,
                duration: this.options.fade,
                complete: function() {
                    this.overlay.css({
                        display: "none"
                    })
                }.bind(this)
            }) : this.overlay.css({
                display: "none",
                opacity: 0
            }))
        }
    }, this._generateCSS = function() {
        if (!this.IE8) {
            "object" != jQuery.type(this.options.animation) && (this.options.animation = {
                pulse: {
                    open: "pulse",
                    close: "zoomOut"
                },
                zoomIn: {
                    open: "zoomIn",
                    close: "zoomIn"
                },
                zoomOut: {
                    open: "zoomOut",
                    close: "zoomOut"
                },
                move: {
                    open: "move",
                    close: "move"
                },
                slide: {
                    open: "slide",
                    close: "slide"
                },
                flip: {
                    open: "flip",
                    close: "flip"
                },
                tada: {
                    open: "tada",
                    close: "zoomOut"
                }
            }[this.options.animation]), this.options.animation.open && (this.options.animation.open = this.options.animation.open.split(":")), this.options.animation.close && (this.options.animation.close = this.options.animation.close.split(":")), this.options.animation.openDirection = this.options.animation.open ? this.options.animation.open[1] : null, this.options.animation.closeDirection = this.options.animation.close ? this.options.animation.close[1] : null, this.options.animation.open && (this.options.animation.open = this.options.animation.open[0]), this.options.animation.close && (this.options.animation.close = this.options.animation.close[0]), this.options.animation.open && (this.options.animation.open += "Open"), this.options.animation.close && (this.options.animation.close += "Close");
            var t = {
                pulse: {
                    duration: 350,
                    css: [
                        ["0%", "scale(1)"],
                        ["50%", "scale(1.1)"],
                        ["100%", "scale(1)"]
                    ]
                },
                zoomInOpen: {
                    duration: this.options.fade || 180,
                    css: [
                        ["0%", "scale(0.9)"],
                        ["100%", "scale(1)"]
                    ]
                },
                zoomInClose: {
                    duration: this.options.fade || 180,
                    css: [
                        ["0%", "scale(1)"],
                        ["100%", "scale(0.9)"]
                    ]
                },
                zoomOutOpen: {
                    duration: this.options.fade || 180,
                    css: [
                        ["0%", "scale(1.1)"],
                        ["100%", "scale(1)"]
                    ]
                },
                zoomOutClose: {
                    duration: this.options.fade || 180,
                    css: [
                        ["0%", "scale(1)"],
                        ["100%", "scale(1.1)"]
                    ]
                },
                moveOpen: {
                    duration: this.options.fade || 180,
                    positions: {
                        top: {
                            "0%": -12
                        },
                        right: {
                            "0%": 12
                        },
                        bottom: {
                            "0%": 12
                        },
                        left: {
                            "0%": -12
                        }
                    },
                    css: [
                        ["0%", "translate%XY(%Vpx)"],
                        ["100%", "translate%XY(0px)"]
                    ]
                },
                moveClose: {
                    duration: this.options.fade || 180,
                    timing: "ease-in",
                    positions: {
                        top: {
                            "100%": -12
                        },
                        right: {
                            "100%": 12
                        },
                        bottom: {
                            "100%": 12
                        },
                        left: {
                            "100%": -12
                        }
                    },
                    css: [
                        ["0%", "translate%XY(0px)"],
                        ["100%", "translate%XY(%Vpx)"]
                    ]
                },
                slideOpen: {
                    duration: 400,
                    positions: {
                        top: {
                            "0%": -400
                        },
                        right: {
                            "0%": 400
                        },
                        bottom: {
                            "0%": 400
                        },
                        left: {
                            "0%": -400
                        }
                    },
                    css: [
                        ["0%", "translate%XY(%Vpx)"],
                        ["100%", "translate%XY(0px)"]
                    ]
                },
                slideClose: {
                    duration: 400,
                    timing: "ease-in",
                    positions: {
                        top: {
                            "100%": -400
                        },
                        right: {
                            "100%": 400
                        },
                        bottom: {
                            "100%": 400
                        },
                        left: {
                            "100%": -400
                        }
                    },
                    css: [
                        ["0%", "translate%XY(0px)"],
                        ["100%", "translate%XY(%Vpx)"]
                    ]
                },
                flipOpen: {
                    duration: 600,
                    css: [
                        ["0%", "perspective(400px) rotateX(90deg)"],
                        ["40%", "perspective(400px) rotateX(-15deg)"],
                        ["70%", "perspective(400px) rotateX(15deg)"],
                        ["100%", "perspective(400px) rotateX(0deg)"]
                    ]
                },
                flipClose: {
                    duration: this.options.fade || 300,
                    css: [
                        ["0%", "perspective(400px) rotateX(0deg)"],
                        ["100%", "perspective(400px) rotateX(90deg)"]
                    ]
                },
                tada: {
                    duration: 800,
                    css: [
                        ["0%", "scale(1)"],
                        ["10%, 20%", "scale(0.9) rotate(-3deg)"],
                        ["30%, 50%, 70%, 90%", "scale(1.1) rotate(3deg)"],
                        ["40%, 60%, 80%", "scale(1.1) rotate(-3deg)"],
                        ["100%", "scale(1) rotate(0)"]
                    ]
                }
            };
            jQuery.each(["pulse", "tada"], function(i, s) {
                t[s + "Open"] = t[s + "Close"] = t[s]
            });
            var i = function(i, s) {
                    return keyframe_css = "@" + this.prefix + "keyframes jBox-animation-" + this.options.animation[i] + "-" + i + (s ? "-" + s : "") + " {", jQuery.each(t[this.options.animation[i]].css, function(o, e) {
                        var n = s ? e[1].replace("%XY", this._getXY(s).toUpperCase()) : e[1];
                        t[this.options.animation[i]].positions && (n = n.replace("%V", t[this.options.animation[i]].positions[s][e[0]])), keyframe_css += e[0] + " {" + this.prefix + "transform:" + n + ";}"
                    }.bind(this)), keyframe_css += "}", keyframe_css += ".jBox-animation-" + this.options.animation[i] + "-" + i + (s ? "-" + s : "") + " {", keyframe_css += this.prefix + "animation-duration: " + t[this.options.animation[i]].duration + "ms;", keyframe_css += this.prefix + "animation-name: jBox-animation-" + this.options.animation[i] + "-" + i + (s ? "-" + s : "") + ";", keyframe_css += t[this.options.animation[i]].timing ? this.prefix + "animation-timing-function: " + t[this.options.animation[i]].timing + ";" : "", keyframe_css += "}"
                }.bind(this),
                s = "";
            jQuery.each(["open", "close"], function(o, e) {
                return this.options.animation[e] && t[this.options.animation[e]] && ("close" != e || this.options.fade) ? void(t[this.options.animation[e]].positions ? jQuery.each(["top", "right", "bottom", "left"], function(t, o) {
                    s += i(e, o)
                }) : s += i(e)) : ""
            }.bind(this)), jQuery("<style/>").append(s).appendTo(jQuery("head"))
        }
    }, this._blockBodyClick = function() {
        this.blockBodyClick = !0, setTimeout(function() {
            this.blockBodyClick = !1
        }.bind(this), 10)
    }, this.options.animation && this._generateCSS(), this._animate = function(t) {
        if (!this.IE8) {
            if (t || (t = this.isOpen ? "open" : "close"), !this.options.fade && "close" == t) return null;
            var i = this.options.animation[t + "Direction"] || ("center" != this.align ? this.align : this.options.attributes.x);
            this.flipped && this._getXY(i) == this._getXY(this.align) && (i = this._getOpp(i));
            var s = "jBox-animation-" + this.options.animation[t] + "-" + t + " jBox-animation-" + this.options.animation[t] + "-" + t + "-" + i;
            this.wrapper.addClass(s);
            var o = 1e3 * parseFloat(this.wrapper.css(this.prefix + "animation-duration"));
            "close" == t && (o = Math.min(o, this.options.fade)), setTimeout(function() {
                this.wrapper.removeClass(s)
            }.bind(this), o)
        }
    }, this._abortAnimation = function() {
        if (!this.IE8) {
            var t = "jBox-animation",
                i = this.wrapper.attr("class").split(" ").filter(function(i) {
                    return 0 !== i.lastIndexOf(t, 0)
                });
            this.wrapper.attr("class", i.join(" "))
        }
    }, this._adjustPosition = function() {
        if (!this.options.adjustPosition) return null;
        this.positionAdjusted && (this.wrapper.css(this.pos), this.pointer && this.wrapper.css("padding", 0).css("padding-" + this._getOpp(this.outside), this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-" + this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-" + this.pointer.position), this.pointer && this.pointer.element.attr("class", "jBox-pointer jBox-pointer-" + this._getOpp(this.outside)).css(this.pointer.margin), this.positionAdjusted = !1, this.flipped = !1);
        var t = jQuery(window),
            i = {
                x: t.width(),
                y: t.height(),
                top: this.options.fixed && this.target.data("jBox-fixed") ? 0 : t.scrollTop(),
                left: this.options.fixed && this.target.data("jBox-fixed") ? 0 : t.scrollLeft()
            };
        i.bottom = i.top + i.y, i.right = i.left + i.x;
        var s = i.top > this.pos.top - (this.options.adjustDistance.top || 0),
            o = i.right < this.pos.left + this.dimensions.x + (this.options.adjustDistance.right || 0),
            e = i.bottom < this.pos.top + this.dimensions.y + (this.options.adjustDistance.bottom || 0),
            n = i.left > this.pos.left - (this.options.adjustDistance.left || 0),
            a = n ? "left" : o ? "right" : null,
            h = s ? "top" : e ? "bottom" : null,
            p = a || h;
        if (p) {
            "move" == this.options.adjustPosition || a != this.outside && h != this.outside || ("mouse" == this.target && (this.outside = "right"), ("top" == this.outside || "left" == this.outside ? i[this._getXY(this.outside)] - (this.targetDimensions[this._getTL(this.outside)] - i[this._getTL(this.outside)]) - this.targetDimensions[this._getXY(this.outside)] + this.options.offset[this._getXY(this.outside)] : this.targetDimensions[this._getTL(this.outside)] - i[this._getTL(this.outside)] - this.options.offset[this._getXY(this.outside)]) > this.dimensions[this._getXY(this.outside)] + parseInt(this.options.adjustDistance[this._getOpp(this.outside)]) && (this.wrapper.css(this._getTL(this.outside), this.pos[this._getTL(this.outside)] + (this.dimensions[this._getXY(this.outside)] + this.options.offset[this._getXY(this.outside)] * ("top" == this.outside || "left" == this.outside ? -2 : 2) + this.targetDimensions[this._getXY(this.outside)]) * ("top" == this.outside || "left" == this.outside ? 1 : -1)), this.pointer && this.wrapper.removeClass("jBox-pointerPosition-" + this.pointer.position).addClass("jBox-pointerPosition-" + this._getOpp(this.pointer.position)).css("padding", 0).css("padding-" + this.outside, this.pointer.dimensions[this._getXY(this.outside)]), this.pointer && this.pointer.element.attr("class", "jBox-pointer jBox-pointer-" + this.outside), this.positionAdjusted = !0, this.flipped = !0));
            var r = "x" == this._getXY(this.outside) ? h : a;
            if (this.pointer && "flip" != this.options.adjustPosition && this._getXY(r) == this._getOpp(this._getXY(this.outside))) {
                if ("center" == this.pointer.align) var l = this.dimensions[this._getXY(r)] / 2 - this.pointer.dimensions[this._getOpp(this.pointer.xy)] / 2 - parseInt(this.pointer.element.css("margin-" + this.pointer.alignAttribute)) * (r != this._getTL(r) ? -1 : 1);
                else var l = r == this.pointer.alignAttribute ? parseInt(this.pointer.element.css("margin-" + this.pointer.alignAttribute)) : this.dimensions[this._getXY(r)] - parseInt(this.pointer.element.css("margin-" + this.pointer.alignAttribute)) - this.pointer.dimensions[this._getXY(r)];
                spaceDiff = r == this._getTL(r) ? i[this._getTL(r)] - this.pos[this._getTL(r)] + this.options.adjustDistance[r] : -1 * (i[this._getOpp(this._getTL(r))] - this.pos[this._getTL(r)] - this.options.adjustDistance[r] - this.dimensions[this._getXY(r)]), r == this._getOpp(this._getTL(r)) && this.pos[this._getTL(r)] - spaceDiff < i[this._getTL(r)] + this.options.adjustDistance[this._getTL(r)] && (spaceDiff -= i[this._getTL(r)] + this.options.adjustDistance[this._getTL(r)] - (this.pos[this._getTL(r)] - spaceDiff)), spaceDiff = Math.min(spaceDiff, l), l >= spaceDiff && spaceDiff > 0 && (this.pointer.element.css("margin-" + this.pointer.alignAttribute, parseInt(this.pointer.element.css("margin-" + this.pointer.alignAttribute)) - spaceDiff * (r != this.pointer.alignAttribute ? -1 : 1)), this.wrapper.css(this._getTL(r), this.pos[this._getTL(r)] + spaceDiff * (r != this._getTL(r) ? -1 : 1)), this.positionAdjusted = !0)
            }
        }
    }, this.options.onInit.bind(this)(), this.options._onInit && this.options._onInit.bind(this)(), this
}
jBox.prototype.attach = function(t, i) {
    return t || (t = jQuery(this.options.attach.selector || this.options.attach)), i || (i = this.options.trigger), t && t.length && jQuery.each(t, function(t, s) {
        s = jQuery(s), s.data("jBox-attached-" + this.id) || ("title" == this.options.getContent && void 0 != s.attr("title") && s.data("jBox-getContent", s.attr("title")).removeAttr("title"), this.attachedElements || (this.attachedElements = []), this.attachedElements.push(s[0]), s.on(i + ".jBox-attach-" + this.id, function(t) {
            if (this.timer && clearTimeout(this.timer), "mouseenter" != i || !this.isOpen || this.source[0] != s[0]) {
                if (this.isOpen && this.source && this.source[0] != s[0]) var o = !0;
                this.source = s, !this.options.target && (this.target = s), "click" == i && this.options.preventDefault && t.preventDefault(), this["click" != i || o ? "open" : "toggle"]()
            }
        }.bind(this)), "mouseenter" == this.options.trigger && s.on("mouseleave", function(t) {
            (!this.options.closeOnMouseleave || t.relatedTarget != this.wrapper[0] && !jQuery(t.relatedTarget).parents("#" + this.id).length) && this.close()
        }.bind(this)), s.data("jBox-attached-" + this.id, i), this.options._onAttach && this.options._onAttach.bind(this)(s))
    }.bind(this)), this
}, jBox.prototype.detach = function(t) {
    return t || (t = this.attachedElements || []), t && t.length && jQuery.each(t, function(t, i) {
        i = jQuery(i), i.data("jBox-attached-" + this.id) && (i.off(i.data("jBox-attached-" + this.id) + ".jBox-attach-" + this.id), i.data("jBox-attached-" + this.id, null)), this.attachedElements = jQuery.grep(this.attachedElements, function(t) {
            return t != i[0]
        })
    }.bind(this)), this
}, jBox.prototype.setTitle = function(t, i) {
    var s = this.wrapper.height(),
        o = this.wrapper.width();
    return null == t || void 0 == t ? this : (!this.wrapper && this._create(), this.title || (this.titleContainer = jQuery("<div/>", {
        "class": "jBox-title"
    }), this.title = jQuery("<div/>").appendTo(this.titleContainer), this.wrapper.addClass("jBox-hasTitle"), ("title" == this.options.closeButton || this.options.closeButton === !0 && !this.options.overlay) && (this.wrapper.addClass("jBox-closeButton-title"), this.closeButton.appendTo(this.titleContainer)), this.titleContainer.insertBefore(this.content)), this.title.html(t), !i && this.options.repositionOnContent && (s != this.wrapper.height() || o != this.wrapper.width()) && this.position(), this)
}, jBox.prototype.setContent = function(t, i) {
    if (null == t) return this;
    !this.wrapper && this._create();
    var s = this.wrapper.height(),
        o = this.wrapper.width(),
        e = jQuery("body").height(),
        n = jQuery("body").width();
    switch (this.content.children("[data-jbox-content-appended]").appendTo("body").css({
        display: "none"
    }), jQuery.type(t)) {
        case "string":
            this.content.html(t);
            break;
        case "object":
            this.content.html(""), t.attr("data-jbox-content-appended", 1).appendTo(this.content).css({
                display: "block"
            })
    }
    var a = {
        x: n - jQuery("body").width(),
        y: e - jQuery("body").height()
    };
    return !i && this.options.repositionOnContent && (s != this.wrapper.height() || o != this.wrapper.width()) && this.position({
        adjustOffset: a
    }), this
}, jBox.prototype.setDimensions = function(t, i, s) {
    !this.wrapper && this._create(), this.content.css(t, i), (void 0 == s || s) && this.position()
}, jBox.prototype.setWidth = function(t, i) {
    this.setDimensions("width", t, i)
}, jBox.prototype.setHeight = function(t, i) {
    this.setDimensions("height", t, i)
}, jBox.prototype.position = function(t) {
    if (t || (t = {}), this.target = t.target || this.target || this.options.target || jQuery(window), this.dimensions = {
            x: this.wrapper.outerWidth(),
            y: this.wrapper.outerHeight()
        }, "mouse" != this.target) {
        if ("center" == this.options.position.x && "center" == this.options.position.y) return this.wrapper.css({
            left: "50%",
            top: "50%",
            marginLeft: this.dimensions.x * -.5 + this.options.offset.x,
            marginTop: this.dimensions.y * -.5 + this.options.offset.y
        }), this;
        var i = this.target.offset();
        !this.target.data("jBox-fixed") && this.target.data("jBox-fixed", this.target[0] == jQuery(window)[0] || "fixed" != this.target.css("position") && this.target.parents().filter(function() {
            return "fixed" == jQuery(this).css("position")
        }).length <= 0 ? "static" : "fixed"), "fixed" == this.target.data("jBox-fixed") && this.options.fixed && (i.top = i.top - jQuery(window).scrollTop(), i.left = i.left - jQuery(window).scrollLeft()), this.targetDimensions = {
            x: this.target.outerWidth(),
            y: this.target.outerHeight(),
            top: i ? i.top : 0,
            left: i ? i.left : 0
        }, this.pos = {};
        var s = function(t) {
            if (-1 == jQuery.inArray(this.options.position[t], ["top", "right", "bottom", "left", "center"])) return void(this.pos[this.options.attributes[t]] = this.options.position[t]);
            var i = this.options.attributes[t] = "x" == t ? "left" : "top";
            return this.pos[i] = this.targetDimensions[i], "center" == this.options.position[t] ? void(this.pos[i] += Math.ceil((this.targetDimensions[t] - this.dimensions[t]) / 2)) : (i != this.options.position[t] && (this.pos[i] += this.targetDimensions[t] - this.dimensions[t]), void((this.options.outside == t || "xy" == this.options.outside) && (this.pos[i] += this.dimensions[t] * (i != this.options.position[t] ? 1 : -1))))
        }.bind(this);
        if (s("x"), s("y"), this.options.pointer && "number" != jQuery.type(this.options.position.x) && "number" != jQuery.type(this.options.position.y)) {
            var o = 0;
            switch (this.pointer.align) {
                case "center":
                    "center" != this.options.position[this._getOpp(this.options.outside)] && (o += this.dimensions[this._getOpp(this.options.outside)] / 2);
                    break;
                default:
                    switch (this.options.position[this._getOpp(this.options.outside)]) {
                        case "center":
                            o += (this.dimensions[this._getOpp(this.options.outside)] / 2 - this.pointer.dimensions[this._getOpp(this.options.outside)] / 2) * (this.pointer.align == this._getTL(this.pointer.align) ? 1 : -1);
                            break;
                        default:
                            o += this.pointer.align != this.options.position[this._getOpp(this.options.outside)] ? this.dimensions[this._getOpp(this.options.outside)] * (-1 !== jQuery.inArray(this.pointer.align, ["top", "left"]) ? 1 : -1) + this.pointer.dimensions[this._getOpp(this.options.outside)] / 2 * (-1 !== jQuery.inArray(this.pointer.align, ["top", "left"]) ? -1 : 1) : this.pointer.dimensions[this._getOpp(this.options.outside)] / 2 * (-1 !== jQuery.inArray(this.pointer.align, ["top", "left"]) ? 1 : -1)
                    }
            }
            o *= this.options.position[this._getOpp(this.options.outside)] == this.pointer.alignAttribute ? -1 : 1, o += this.pointer.offset * (this.pointer.align == this._getOpp(this._getTL(this.pointer.align)) ? 1 : -1), this.pos[this._getTL(this._getOpp(this.pointer.xy))] += o
        }
        return t.adjustOffset && t.adjustOffset.x && (this.pos[this.options.attributes.x] += parseInt(t.adjustOffset.x) * ("left" == this.options.attributes.x ? 1 : -1)), t.adjustOffset && t.adjustOffset.y && (this.pos[this.options.attributes.y] += parseInt(t.adjustOffset.y) * ("top" == this.options.attributes.y ? 1 : -1)), this.pos[this.options.attributes.x] += this.options.offset.x, this.pos[this.options.attributes.y] += this.options.offset.y, this.wrapper.css(this.pos), this._adjustPosition(), this
    }
}, jBox.prototype.open = function(t) {
    if (t || (t = {}), this.isDestroyed) return !1;
    if (!this.wrapper && this._create(), this.timer && clearTimeout(this.timer), this._blockBodyClick(), this.isDisabled) return this;
    var i = function() {
        this.source && this.options.getTitle && (this.source.attr(this.options.getTitle) && this.setTitle(this.source.attr(this.options.getTitle)), !0), this.source && this.options.getContent && (this.source.data("jBox-getContent") ? this.setContent(this.source.data("jBox-getContent"), !0) : this.source.attr(this.options.getContent) ? this.setContent(this.source.attr(this.options.getContent), !0) : null), this.options.onOpen.bind(this)(), this.options._onOpen && this.options._onOpen.bind(this)(), (this.options.ajax && this.options.ajax.url && (!this.ajaxLoaded || this.options.ajax.reload) || t.ajax && t.ajax.url) && this.ajax(t.ajax || null), (!this.positionedOnOpen || this.options.repositionOnOpen) && this.position({
            target: t.target
        }) && (this.positionedOnOpen = !0), this.isClosing && this._abortAnimation(), this.isOpen || (this.isOpen = !0, this._attachEvents(), this.options.blockScroll && jQuery("body").addClass("jBox-blockScroll-" + this.id), this.options.overlay && this._addOverlay(), this.options.animation && !this.isClosing && this._animate("open"), this.options.fade ? this.wrapper.stop().animate({
            opacity: 1
        }, {
            queue: !1,
            duration: this.options.fade,
            start: function() {
                this.isOpening = !0, this.wrapper.css({
                    display: "block"
                })
            }.bind(this),
            always: function() {
                this.isOpening = !1
            }.bind(this)
        }) : this.wrapper.css({
            display: "block",
            opacity: 1
        }))
    }.bind(this);
    return !this.options.delayOpen || this.isOpen || this.isClosing || t.ignoreDelay ? i() : this.timer = setTimeout(i, this.options.delayOpen), this
}, jBox.prototype.close = function(t) {
    if (t || (t = {}), this.isDestroyed) return !1;
    if (this.timer && clearTimeout(this.timer), this._blockBodyClick(), this.isDisabled) return this;
    var i = function() {
        this.options.onClose.bind(this)(), this.options._onClose && this.options._onClose.bind(this)(), this.isOpen && (this.isOpen = !1, this._detachEvents(), this.options.blockScroll && jQuery("body").removeClass("jBox-blockScroll-" + this.id), this.options.overlay && this._removeOverlay(), this.options.animation && !this.isOpening && this._animate("close"), this.options.fade ? this.wrapper.stop().animate({
            opacity: 0
        }, {
            queue: !1,
            duration: this.options.fade,
            start: function() {
                this.isClosing = !0
            }.bind(this),
            complete: function() {
                this.wrapper.css({
                    display: "none"
                }), this.options.onCloseComplete && this.options.onCloseComplete.bind(this)(), this.options._onCloseComplete && this.options._onCloseComplete.bind(this)()
            }.bind(this),
            always: function() {
                this.isClosing = !1
            }.bind(this)
        }) : (this.wrapper.css({
            display: "none",
            opacity: 0
        }), this.options._onCloseComplete && this.options._onCloseComplete.bind(this)()))
    }.bind(this);
    return t.ignoreDelay ? i() : this.timer = setTimeout(i, Math.max(this.options.delayClose, 10)), this
}, jBox.prototype.toggle = function(t) {
    return this[this.isOpen ? "close" : "open"](t), this
}, jBox.prototype.disable = function() {
    return this.isDisabled = !0, this
}, jBox.prototype.enable = function() {
    return this.isDisabled = !1, this
}, jBox.prototype.ajax = function(t) {
    t || (t = {}), this.options.ajax.getData && !t.data && this.source && void 0 != this.source.attr(this.options.ajax.getData) && (t.data = this.source.attr(this.options.ajax.getData) || "");
    var i = jQuery.extend(!0, {}, this.options.ajax);
    this.ajaxRequest && this.ajaxRequest.abort();
    var s = t.beforeSend || i.beforeSend || function() {},
        o = t.complete || i.complete || function() {},
        e = jQuery.extend(!0, i, t);
    return e.beforeSend = function() {
        e.spinner && (this.wrapper.addClass("jBox-loading"), this.spinner = jQuery(e.spinner !== !0 ? e.spinner : '<div class="jBox-spinner"></div>').appendTo(this.container)), s.bind(this)()
    }.bind(this), e.complete = function(t) {
        this.wrapper.removeClass("jBox-loading"), this.spinner && this.spinner.remove(), e.setContent && this.setContent(t.responseText), this.ajaxLoaded = !0, o.bind(this)(t)
    }.bind(this), this.ajaxRequest = jQuery.ajax(e), this
}, jBox.prototype.audio = function(t) {
    if (t || (t = {}), jBox._audio || (jBox._audio = {}), !t.url || this.IE8) return this;
    if (!jBox._audio[t.url]) {
        var i = jQuery("<audio/>");
        jQuery("<source/>", {
            src: t.url + ".mp3"
        }).appendTo(i), jQuery("<source/>", {
            src: t.url + ".ogg"
        }).appendTo(i), jBox._audio[t.url] = i[0]
    }
    jBox._audio[t.url].volume = Math.min(void 0 != t.volume ? t.volume : (void 0 != this.options.volume ? this.options.volume : 100) / 100, 1), jBox._audio[t.url].pause();
    try {
        jBox._audio[t.url].currentTime = 0
    } catch (s) {}
    return jBox._audio[t.url].play(), this
}, jBox.prototype.destroy = function() {
    return this.detach().close({
        ignoreDelay: !0
    }), this.wrapper && this.wrapper.remove(), this.isDestroyed = !0, this
}, jBox._getUniqueID = function() {
    var t = 1;
    return function() {
        return t++
    }
}(), jQuery.fn.jBox = function(t, i) {
    return t || (t = {}), i || (i = {}), new jBox(t, jQuery.extend(i, {
        attach: this
    }))
}, Function.prototype.bind || (Function.prototype.bind = function(t) {
    var i = Array.prototype.slice.call(arguments, 1),
        s = this,
        o = function() {},
        e = function() {
            return s.apply(this instanceof o && t ? this : t, i.concat(Array.prototype.slice.call(arguments)))
        };
    return o.prototype = this.prototype, e.prototype = new o, e
});